{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/aamir/social_media_os/src/components/settings/SettingsLayout.tsx"],"sourcesContent":["'use client'\n\nimport React, { useState } from 'react'\nimport { Users, Settings, Activity, ChevronLeft } from 'lucide-react'\nimport Link from 'next/link'\n\ntype Tab = 'members' | 'workspace' | 'activity'\n\ninterface SettingsLayoutProps {\n  children: React.ReactNode\n  activeTab: Tab\n}\n\nconst TABS: Array<{ id: Tab; label: string; icon: React.ReactNode }> = [\n  {\n    id: 'members',\n    label: 'Members',\n    icon: <Users size={20} />,\n  },\n  {\n    id: 'workspace',\n    label: 'Settings',\n    icon: <Settings size={20} />,\n  },\n  {\n    id: 'activity',\n    label: 'Activity Log',\n    icon: <Activity size={20} />,\n  },\n]\n\nexport default function SettingsLayout({ children, activeTab }: SettingsLayoutProps) {\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <div className=\"bg-white border-b border-gray-200\">\n        <div className=\"max-w-7xl mx-auto px-6 py-8\">\n          <div className=\"flex items-center gap-4 mb-6\">\n            <Link href=\"/\" className=\"text-slate hover:text-charcoal transition-colors\">\n              <ChevronLeft size={24} />\n            </Link>\n            <h1 className=\"text-3xl font-bold text-charcoal\">Workspace Settings</h1>\n          </div>\n          <p className=\"text-slate\">Manage your workspace, members, and activity</p>\n        </div>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"max-w-7xl mx-auto px-6 py-8\">\n        <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-8\">\n          {/* Sidebar */}\n          <div className=\"lg:col-span-1\">\n            <nav className=\"space-y-2 sticky top-8\">\n              {TABS.map(tab => (\n                <Link\n                  key={tab.id}\n                  href={`/settings?tab=${tab.id}`}\n                  className={`flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition-colors ${\n                    activeTab === tab.id\n                      ? 'bg-blue-600 text-white'\n                      : 'text-slate hover:bg-gray-100'\n                  }`}\n                >\n                  {tab.icon}\n                  {tab.label}\n                </Link>\n              ))}\n            </nav>\n          </div>\n\n          {/* Content */}\n          <div className=\"lg:col-span-3\">\n            <div className=\"bg-white rounded-lg border border-gray-200 p-8\">\n              {children}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AAAA;AAAA;AACA;AAJA;;;;AAaA,MAAM,OAAiE;IACrE;QACE,IAAI;QACJ,OAAO;QACP,oBAAM,6LAAC,gNAAK;YAAC,MAAM;;;;;;IACrB;IACA;QACE,IAAI;QACJ,OAAO;QACP,oBAAM,6LAAC,yNAAQ;YAAC,MAAM;;;;;;IACxB;IACA;QACE,IAAI;QACJ,OAAO;QACP,oBAAM,6LAAC,yNAAQ;YAAC,MAAM;;;;;;IACxB;CACD;AAEc,SAAS,eAAe,EAAE,QAAQ,EAAE,SAAS,EAAuB;IACjF,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;;8CACb,6LAAC,0KAAI;oCAAC,MAAK;oCAAI,WAAU;8CACvB,cAAA,6LAAC,sOAAW;wCAAC,MAAM;;;;;;;;;;;8CAErB,6LAAC;oCAAG,WAAU;8CAAmC;;;;;;;;;;;;sCAEnD,6LAAC;4BAAE,WAAU;sCAAa;;;;;;;;;;;;;;;;;0BAK9B,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;sCAEb,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCAAI,WAAU;0CACZ,KAAK,GAAG,CAAC,CAAA,oBACR,6LAAC,0KAAI;wCAEH,MAAM,CAAC,cAAc,EAAE,IAAI,EAAE,EAAE;wCAC/B,WAAW,CAAC,2EAA2E,EACrF,cAAc,IAAI,EAAE,GAChB,2BACA,gCACJ;;4CAED,IAAI,IAAI;4CACR,IAAI,KAAK;;uCATL,IAAI,EAAE;;;;;;;;;;;;;;;sCAgBnB,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCAAI,WAAU;0CACZ;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOf;KAjDwB","debugId":null}},
    {"offset": {"line": 187, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/aamir/social_media_os/src/contexts/NotificationContext.tsx"],"sourcesContent":["'use client'\n\nimport React, { createContext, useContext, useState, useCallback, useEffect, ReactNode } from 'react'\nimport toast, { Toaster } from 'react-hot-toast'\nimport { Notification, NotificationType } from '@/types'\n\ninterface NotificationContextType {\n  notifications: Notification[]\n  addNotification: (type: NotificationType, title: string, message: string, postId?: string) => void\n  markAsRead: (id: string) => void\n  markAllAsRead: () => void\n  clearNotification: (id: string) => void\n  clearAllNotifications: () => void\n  unreadCount: number\n}\n\nconst NotificationContext = createContext<NotificationContextType | undefined>(undefined)\n\nexport const useNotifications = () => {\n  const context = useContext(NotificationContext)\n  if (!context) {\n    throw new Error('useNotifications must be used within NotificationProvider')\n  }\n  return context\n}\n\ninterface NotificationProviderProps {\n  children: ReactNode\n}\n\nexport const NotificationProvider: React.FC<NotificationProviderProps> = ({ children }) => {\n  const [notifications, setNotifications] = useState<Notification[]>([])\n  const [isHydrated, setIsHydrated] = useState(false)\n\n  // Hydrate from localStorage on client\n  useEffect(() => {\n    try {\n      const saved = localStorage.getItem('notifications')\n      if (saved) {\n        setNotifications(JSON.parse(saved))\n      }\n    } catch {\n      // ignore\n    }\n    setIsHydrated(true)\n  }, [])\n\n  // Persist to localStorage\n  useEffect(() => {\n    if (isHydrated) {\n      try {\n        localStorage.setItem('notifications', JSON.stringify(notifications))\n      } catch {\n        // ignore\n      }\n    }\n  }, [notifications, isHydrated])\n\n  const addNotification = useCallback((\n    type: NotificationType,\n    title: string,\n    message: string,\n    postId?: string\n  ) => {\n    const notification: Notification = {\n      id: crypto.randomUUID(),\n      type,\n      title,\n      message,\n      postId,\n      read: false,\n      createdAt: new Date().toISOString(),\n    }\n\n    setNotifications(prev => [notification, ...prev])\n\n    // Toast UI\n    const emoji = getEmojiForType(type)\n    toast.success(`${emoji} ${title}`, {\n      duration: 4000,\n      position: 'top-right',\n    })\n  }, [])\n\n  const markAsRead = useCallback((id: string) => {\n    setNotifications(prev => prev.map(n => (n.id === id ? { ...n, read: true } : n)))\n  }, [])\n\n  const markAllAsRead = useCallback(() => {\n    setNotifications(prev => prev.map(n => ({ ...n, read: true })))\n  }, [])\n\n  const clearNotification = useCallback((id: string) => {\n    setNotifications(prev => prev.filter(n => n.id !== id))\n  }, [])\n\n  const clearAllNotifications = useCallback(() => {\n    setNotifications([])\n  }, [])\n\n  const unreadCount = notifications.filter(n => !n.read).length\n\n  return (\n    <NotificationContext.Provider\n      value={{\n        notifications,\n        addNotification,\n        markAsRead,\n        markAllAsRead,\n        clearNotification,\n        clearAllNotifications,\n        unreadCount,\n      }}\n    >\n      {children}\n      <Toaster />\n    </NotificationContext.Provider>\n  )\n}\n\nfunction getEmojiForType(type: NotificationType): string {\n  const emojiMap: Record<NotificationType, string> = {\n    video_complete: 'üé¨',\n    image_complete: 'üñºÔ∏è',\n    post_scheduled: '‚è∞',\n    post_published: '‚úÖ',\n    approval_needed: 'üìù',\n    comment_added: 'üí¨',\n    insight_available: 'üí°',\n    queue_published: 'üì§',\n    error: '‚ö†Ô∏è',\n  }\n  return emojiMap[type] || 'üîî'\n}\n\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;;;AAHA;;;AAgBA,MAAM,oCAAsB,IAAA,8KAAa,EAAsC;AAExE,MAAM,mBAAmB;;IAC9B,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;GANa;AAYN,MAAM,uBAA4D,CAAC,EAAE,QAAQ,EAAE;;IACpF,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAiB,EAAE;IACrE,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAE7C,sCAAsC;IACtC,IAAA,0KAAS;0CAAC;YACR,IAAI;gBACF,MAAM,QAAQ,aAAa,OAAO,CAAC;gBACnC,IAAI,OAAO;oBACT,iBAAiB,KAAK,KAAK,CAAC;gBAC9B;YACF,EAAE,OAAM;YACN,SAAS;YACX;YACA,cAAc;QAChB;yCAAG,EAAE;IAEL,0BAA0B;IAC1B,IAAA,0KAAS;0CAAC;YACR,IAAI,YAAY;gBACd,IAAI;oBACF,aAAa,OAAO,CAAC,iBAAiB,KAAK,SAAS,CAAC;gBACvD,EAAE,OAAM;gBACN,SAAS;gBACX;YACF;QACF;yCAAG;QAAC;QAAe;KAAW;IAE9B,MAAM,kBAAkB,IAAA,4KAAW;6DAAC,CAClC,MACA,OACA,SACA;YAEA,MAAM,eAA6B;gBACjC,IAAI,OAAO,UAAU;gBACrB;gBACA;gBACA;gBACA;gBACA,MAAM;gBACN,WAAW,IAAI,OAAO,WAAW;YACnC;YAEA;qEAAiB,CAAA,OAAQ;wBAAC;2BAAiB;qBAAK;;YAEhD,WAAW;YACX,MAAM,QAAQ,gBAAgB;YAC9B,qKAAK,CAAC,OAAO,CAAC,GAAG,MAAM,CAAC,EAAE,OAAO,EAAE;gBACjC,UAAU;gBACV,UAAU;YACZ;QACF;4DAAG,EAAE;IAEL,MAAM,aAAa,IAAA,4KAAW;wDAAC,CAAC;YAC9B;gEAAiB,CAAA,OAAQ,KAAK,GAAG;wEAAC,CAAA,IAAM,EAAE,EAAE,KAAK,KAAK;gCAAE,GAAG,CAAC;gCAAE,MAAM;4BAAK,IAAI;;;QAC/E;uDAAG,EAAE;IAEL,MAAM,gBAAgB,IAAA,4KAAW;2DAAC;YAChC;mEAAiB,CAAA,OAAQ,KAAK,GAAG;2EAAC,CAAA,IAAK,CAAC;gCAAE,GAAG,CAAC;gCAAE,MAAM;4BAAK,CAAC;;;QAC9D;0DAAG,EAAE;IAEL,MAAM,oBAAoB,IAAA,4KAAW;+DAAC,CAAC;YACrC;uEAAiB,CAAA,OAAQ,KAAK,MAAM;+EAAC,CAAA,IAAK,EAAE,EAAE,KAAK;;;QACrD;8DAAG,EAAE;IAEL,MAAM,wBAAwB,IAAA,4KAAW;mEAAC;YACxC,iBAAiB,EAAE;QACrB;kEAAG,EAAE;IAEL,MAAM,cAAc,cAAc,MAAM,CAAC,CAAA,IAAK,CAAC,EAAE,IAAI,EAAE,MAAM;IAE7D,qBACE,6LAAC,oBAAoB,QAAQ;QAC3B,OAAO;YACL;YACA;YACA;YACA;YACA;YACA;YACA;QACF;;YAEC;0BACD,6LAAC,qKAAO;;;;;;;;;;;AAGd;IAxFa;KAAA;AA0Fb,SAAS,gBAAgB,IAAsB;IAC7C,MAAM,WAA6C;QACjD,gBAAgB;QAChB,gBAAgB;QAChB,gBAAgB;QAChB,gBAAgB;QAChB,iBAAiB;QACjB,eAAe;QACf,mBAAmB;QACnB,iBAAiB;QACjB,OAAO;IACT;IACA,OAAO,QAAQ,CAAC,KAAK,IAAI;AAC3B","debugId":null}},
    {"offset": {"line": 357, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/aamir/social_media_os/src/components/ui/RoleBadge.tsx"],"sourcesContent":["'use client'\r\n\r\nimport React from 'react'\r\nimport type { UserRole } from '@/types/workspace'\r\nimport { Shield, Edit3, Eye } from 'lucide-react'\r\n\r\ninterface RoleBadgeProps {\r\n  role: UserRole\r\n  size?: 'sm' | 'md' | 'lg'\r\n  className?: string\r\n}\r\n\r\n/**\r\n * Role Badge Component\r\n * Displays user roles with color coding and icons\r\n * - Admin (Blue): Full workspace control\r\n * - Editor (Green): Create & edit content\r\n * - Viewer (Gray): Read-only access\r\n */\r\nexport const RoleBadge: React.FC<RoleBadgeProps> = ({\r\n  role,\r\n  size = 'md',\r\n  className = '',\r\n}) => {\r\n  // Configuration for each role\r\n  const roleConfig = {\r\n    admin: {\r\n      label: 'Admin',\r\n      color: 'bg-blue-600 text-white',\r\n      icon: Shield,\r\n      description: 'Full workspace control',\r\n    },\r\n    editor: {\r\n      label: 'Editor',\r\n      color: 'bg-green-600 text-white',\r\n      icon: Edit3,\r\n      description: 'Create & edit content',\r\n    },\r\n    viewer: {\r\n      label: 'Viewer',\r\n      color: 'bg-slate text-white',\r\n      icon: Eye,\r\n      description: 'Read-only access',\r\n    },\r\n  }\r\n\r\n  const config = roleConfig[role]\r\n  const Icon = config.icon\r\n\r\n  // Size-based classes\r\n  const sizeClasses = {\r\n    sm: 'text-xs px-2 py-0.5',\r\n    md: 'text-sm px-2.5 py-1',\r\n    lg: 'text-base px-3 py-1.5',\r\n  }\r\n\r\n  const iconSizes = {\r\n    sm: 'w-3 h-3',\r\n    md: 'w-4 h-4',\r\n    lg: 'w-5 h-5',\r\n  }\r\n\r\n  return (\r\n    <span\r\n      className={`inline-flex items-center gap-1.5 rounded-full font-semibold ${config.color} ${sizeClasses[size]} ${className}`}\r\n      title={config.description}\r\n    >\r\n      <Icon className={iconSizes[size]} />\r\n      <span>{config.label}</span>\r\n    </span>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAIA;AAAA;AAAA;AAJA;;;AAmBO,MAAM,YAAsC,CAAC,EAClD,IAAI,EACJ,OAAO,IAAI,EACX,YAAY,EAAE,EACf;IACC,8BAA8B;IAC9B,MAAM,aAAa;QACjB,OAAO;YACL,OAAO;YACP,OAAO;YACP,MAAM,mNAAM;YACZ,aAAa;QACf;QACA,QAAQ;YACN,OAAO;YACP,OAAO;YACP,MAAM,sNAAK;YACX,aAAa;QACf;QACA,QAAQ;YACN,OAAO;YACP,OAAO;YACP,MAAM,0MAAG;YACT,aAAa;QACf;IACF;IAEA,MAAM,SAAS,UAAU,CAAC,KAAK;IAC/B,MAAM,OAAO,OAAO,IAAI;IAExB,qBAAqB;IACrB,MAAM,cAAc;QAClB,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,MAAM,YAAY;QAChB,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,qBACE,6LAAC;QACC,WAAW,CAAC,4DAA4D,EAAE,OAAO,KAAK,CAAC,CAAC,EAAE,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE,WAAW;QAC1H,OAAO,OAAO,WAAW;;0BAEzB,6LAAC;gBAAK,WAAW,SAAS,CAAC,KAAK;;;;;;0BAChC,6LAAC;0BAAM,OAAO,KAAK;;;;;;;;;;;;AAGzB;KApDa","debugId":null}},
    {"offset": {"line": 438, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/aamir/social_media_os/src/components/settings/MemberCard.tsx"],"sourcesContent":["'use client'\n\nimport React, { useState } from 'react'\nimport type { WorkspaceMember, UserRole } from '@/types/workspace'\nimport { RoleBadge } from '@/components/ui/RoleBadge'\nimport { MoreVertical, Trash2, UserCog, Loader2 } from 'lucide-react'\nimport toast from 'react-hot-toast'\n\ninterface MemberCardProps {\n  member: WorkspaceMember\n  currentUserRole: UserRole\n  currentUserId: string\n  onRoleChange: (userId: string, newRole: UserRole) => Promise<void>\n  onRemove: (userId: string) => Promise<void>\n}\n\n/**\n * Member Card Component\n * Displays a single workspace member with their info and admin actions\n * Admin-only actions: change role, remove member\n */\nexport const MemberCard: React.FC<MemberCardProps> = ({\n  member,\n  currentUserRole,\n  currentUserId,\n  onRoleChange,\n  onRemove,\n}) => {\n  const [showActions, setShowActions] = useState(false)\n  const [isChangingRole, setIsChangingRole] = useState(false)\n  const [selectedRole, setSelectedRole] = useState<UserRole>(member.role)\n  const [isLoading, setIsLoading] = useState(false)\n\n  const isCurrentUser = member.id === currentUserId\n  const isAdmin = currentUserRole === 'admin'\n  const canManage = isAdmin && !isCurrentUser\n\n  /**\n   * Handle role change\n   */\n  const handleRoleChange = async (newRole: UserRole) => {\n    if (newRole === member.role) {\n      setIsChangingRole(false)\n      return\n    }\n\n    setIsLoading(true)\n    setSelectedRole(newRole)\n\n    try {\n      await onRoleChange(member.id, newRole)\n      toast.success(`Role updated to ${newRole}`)\n      setIsChangingRole(false)\n    } catch (error) {\n      toast.error('Failed to update role')\n      setSelectedRole(member.role)\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  /**\n   * Handle remove member\n   */\n  const handleRemove = async () => {\n    const confirmed = confirm(\n      `Are you sure you want to remove ${member.full_name || member.email} from the workspace? This action cannot be undone.`\n    )\n\n    if (!confirmed) return\n\n    setIsLoading(true)\n\n    try {\n      await onRemove(member.id)\n      toast.success('Member removed successfully')\n      setShowActions(false)\n    } catch (error) {\n      toast.error('Failed to remove member')\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"bg-white border border-slate/30 rounded-lg p-4 flex items-center gap-4 hover:shadow-md transition-shadow\">\n      {/* Avatar */}\n      <div className=\"flex-shrink-0\">\n        {member.avatar_url ? (\n          <img\n            src={member.avatar_url}\n            alt={member.full_name || member.email}\n            className=\"w-12 h-12 rounded-full object-cover border-2 border-slate/20\"\n          />\n        ) : (\n          <div className=\"w-12 h-12 rounded-full bg-charcoal text-white flex items-center justify-center text-lg font-bold\">\n            {(member.full_name || member.email).charAt(0).toUpperCase()}\n          </div>\n        )}\n      </div>\n\n      {/* Member Information */}\n      <div className=\"flex-grow min-w-0\">\n        <div className=\"flex items-center gap-2\">\n          <h3 className=\"font-semibold text-charcoal-dark truncate\">\n            {member.full_name || 'No name'}\n          </h3>\n          {isCurrentUser && (\n            <span className=\"text-xs text-slate bg-slate/10 px-2 py-0.5 rounded\">\n              You\n            </span>\n          )}\n        </div>\n        <p className=\"text-sm text-slate truncate\">{member.email}</p>\n        <p className=\"text-xs text-slate mt-1\">\n          Joined {new Date(member.created_at).toLocaleDateString()}\n        </p>\n      </div>\n\n      {/* Role Display/Selector */}\n      <div className=\"flex-shrink-0\">\n        {isChangingRole && !isLoading ? (\n          <select\n            value={selectedRole}\n            onChange={(e) => handleRoleChange(e.target.value as UserRole)}\n            onBlur={() => {\n              setIsChangingRole(false)\n              setSelectedRole(member.role)\n            }}\n            autoFocus\n            className=\"border border-slate/30 rounded-md px-2 py-1 text-sm focus:ring-2 focus:ring-charcoal focus:border-charcoal\"\n          >\n            <option value=\"admin\">Admin</option>\n            <option value=\"editor\">Editor</option>\n            <option value=\"viewer\">Viewer</option>\n          </select>\n        ) : (\n          <RoleBadge role={member.role} />\n        )}\n      </div>\n\n      {/* Admin Actions Menu */}\n      {canManage && (\n        <div className=\"flex-shrink-0 relative\">\n          <button\n            onClick={() => setShowActions(!showActions)}\n            disabled={isLoading}\n            className=\"p-2 rounded-full hover:bg-slate/10 transition-colors disabled:opacity-50\"\n            aria-label=\"Member actions\"\n          >\n            <MoreVertical className=\"w-5 h-5 text-slate\" />\n          </button>\n\n          {showActions && (\n            <>\n              {/* Backdrop to close menu */}\n              <div\n                className=\"fixed inset-0 z-10\"\n                onClick={() => setShowActions(false)}\n              />\n\n              {/* Dropdown Menu */}\n              <div className=\"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-xl border border-slate/30 py-1 z-20\">\n                <button\n                  onClick={() => {\n                    setIsChangingRole(true)\n                    setShowActions(false)\n                  }}\n                  disabled={isLoading}\n                  className=\"w-full px-4 py-2 text-left text-sm hover:bg-slate/10 flex items-center gap-2 text-charcoal-dark disabled:opacity-50\"\n                >\n                  <UserCog className=\"w-4 h-4\" />\n                  Change Role\n                </button>\n\n                <button\n                  onClick={handleRemove}\n                  disabled={isLoading}\n                  className=\"w-full px-4 py-2 text-left text-sm hover:bg-red-50 flex items-center gap-2 text-red-600 disabled:opacity-50\"\n                >\n                  {isLoading ? (\n                    <>\n                      <Loader2 className=\"w-4 h-4 animate-spin\" />\n                      Removing...\n                    </>\n                  ) : (\n                    <>\n                      <Trash2 className=\"w-4 h-4\" />\n                      Remove Member\n                    </>\n                  )}\n                </button>\n              </div>\n            </>\n          )}\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default MemberCard\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 756, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/aamir/social_media_os/src/components/settings/InviteMemberModal.tsx"],"sourcesContent":["'use client'\n\nimport React, { useState } from 'react'\nimport { X, Mail, Link as LinkIcon, Copy, Check, Loader2 } from 'lucide-react'\nimport type { UserRole, CreateInviteInput } from '@/types/workspace'\nimport { RoleBadge } from '@/components/ui/RoleBadge'\nimport toast from 'react-hot-toast'\n\ninterface InviteMemberModalProps {\n  isOpen: boolean\n  onClose: () => void\n  onInviteCreated: () => void\n}\n\n/**\n * Invite Member Modal\n * Modal dialog for inviting members via email or shareable link\n * Features:\n * - Email-specific invitations\n * - Shareable links\n * - Role selection\n * - Expiration settings\n */\nexport const InviteMemberModal: React.FC<InviteMemberModalProps> = ({\n  isOpen,\n  onClose,\n  onInviteCreated,\n}) => {\n  // Email invitation state\n  const [email, setEmail] = useState('')\n  const [role, setRole] = useState<UserRole>('editor')\n  const [expiresInDays, setExpiresInDays] = useState<number | null>(7)\n  const [isSubmitting, setIsSubmitting] = useState(false)\n\n  // Shareable link state\n  const [generatedLink, setGeneratedLink] = useState<string | null>(null)\n  const [linkCopied, setLinkCopied] = useState(false)\n\n  // UI state\n  const [activeTab, setActiveTab] = useState<'email' | 'link'>('email')\n\n  /**\n   * Close modal and reset all state\n   */\n  const handleClose = () => {\n    setEmail('')\n    setRole('editor')\n    setExpiresInDays(7)\n    setGeneratedLink(null)\n    setLinkCopied(false)\n    setActiveTab('email')\n    setIsSubmitting(false)\n    onClose()\n  }\n\n  /**\n   * Send email invitation\n   */\n  const handleEmailInvite = async (e: React.FormEvent) => {\n    e.preventDefault()\n\n    if (!email.trim()) {\n      toast.error('Please enter an email address')\n      return\n    }\n\n    if (!email.includes('@')) {\n      toast.error('Please enter a valid email address')\n      return\n    }\n\n    setIsSubmitting(true)\n\n    try {\n      const inviteData: CreateInviteInput = {\n        email,\n        role,\n        expiresInDays: expiresInDays || undefined,\n      }\n\n      const response = await fetch('/api/workspace/invites', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(inviteData),\n      })\n\n      if (!response.ok) {\n        const errorData = await response.json()\n        throw new Error(errorData.error || 'Failed to send invitation')\n      }\n\n      const { data } = await response.json()\n\n      toast.success(`Invitation sent to ${email}`)\n      setGeneratedLink(data.inviteUrl)\n      onInviteCreated()\n\n      // Reset email form\n      setEmail('')\n    } catch (error) {\n      console.error('Error sending invitation:', error)\n      toast.error(error instanceof Error ? error.message : 'Failed to send invitation')\n    } finally {\n      setIsSubmitting(false)\n    }\n  }\n\n  /**\n   * Generate shareable link\n   */\n  const handleGenerateLink = async () => {\n    setIsSubmitting(true)\n\n    try {\n      const inviteData: CreateInviteInput = {\n        role,\n        expiresInDays: expiresInDays || undefined,\n      }\n\n      const response = await fetch('/api/workspace/invites', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(inviteData),\n      })\n\n      if (!response.ok) {\n        const errorData = await response.json()\n        throw new Error(errorData.error || 'Failed to generate link')\n      }\n\n      const { data } = await response.json()\n\n      setGeneratedLink(data.inviteUrl)\n      toast.success('Invite link generated')\n      onInviteCreated()\n    } catch (error) {\n      console.error('Error generating link:', error)\n      toast.error(error instanceof Error ? error.message : 'Failed to generate link')\n    } finally {\n      setIsSubmitting(false)\n    }\n  }\n\n  /**\n   * Copy link to clipboard\n   */\n  const handleCopyLink = async () => {\n    if (!generatedLink) return\n\n    try {\n      await navigator.clipboard.writeText(generatedLink)\n      setLinkCopied(true)\n      toast.success('Link copied to clipboard')\n\n      setTimeout(() => setLinkCopied(false), 2000)\n    } catch (error) {\n      toast.error('Failed to copy link')\n    }\n  }\n\n  if (!isOpen) return null\n\n  return (\n    <div\n      className=\"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4\"\n      onClick={handleClose}\n    >\n      <div\n        className=\"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col border border-slate/30 overflow-hidden\"\n        onClick={(e) => e.stopPropagation()}\n      >\n        {/* Header */}\n        <header className=\"flex justify-between items-center p-6 border-b border-slate/30\">\n          <h2 className=\"text-2xl font-bold text-charcoal-dark\">\n            Invite Team Members\n          </h2>\n          <button\n            onClick={handleClose}\n            className=\"p-2 rounded-full text-slate hover:bg-slate/10 hover:text-charcoal-dark transition-colors\"\n            aria-label=\"Close modal\"\n          >\n            <X className=\"w-6 h-6\" />\n          </button>\n        </header>\n\n        {/* Tabs */}\n        <div className=\"flex border-b border-slate/30\">\n          <button\n            onClick={() => setActiveTab('email')}\n            className={`flex-1 px-6 py-3 font-medium transition-colors flex items-center justify-center gap-2 ${\n              activeTab === 'email'\n                ? 'text-charcoal-dark border-b-2 border-charcoal'\n                : 'text-slate hover:text-charcoal-dark'\n            }`}\n          >\n            <Mail className=\"w-5 h-5\" />\n            Email Invitation\n          </button>\n          <button\n            onClick={() => setActiveTab('link')}\n            className={`flex-1 px-6 py-3 font-medium transition-colors flex items-center justify-center gap-2 ${\n              activeTab === 'link'\n                ? 'text-charcoal-dark border-b-2 border-charcoal'\n                : 'text-slate hover:text-charcoal-dark'\n            }`}\n          >\n            <LinkIcon className=\"w-5 h-5\" />\n            Shareable Link\n          </button>\n        </div>\n\n        {/* Content */}\n        <div className=\"flex-1 overflow-y-auto p-6\">\n          {activeTab === 'email' ? (\n            // EMAIL TAB\n            <form onSubmit={handleEmailInvite} className=\"space-y-6\">\n              {/* Email Input */}\n              <div>\n                <label className=\"block text-sm font-medium text-charcoal-dark mb-2\">\n                  Email Address <span className=\"text-red-500\">*</span>\n                </label>\n                <input\n                  type=\"email\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  placeholder=\"colleague@example.com\"\n                  className=\"w-full px-4 py-2 border border-slate/30 rounded-lg focus:ring-2 focus:ring-charcoal focus:border-charcoal\"\n                  disabled={isSubmitting}\n                  required\n                />\n                <p className=\"text-xs text-slate mt-1\">\n                  An invitation email will be sent to this address with a secure link\n                </p>\n              </div>\n\n              {/* Role Selection */}\n              <RoleSelector selectedRole={role} onRoleChange={setRole} />\n\n              {/* Expiration */}\n              <ExpirationSelector\n                expiresInDays={expiresInDays}\n                onExpirationChange={setExpiresInDays}\n              />\n\n              {/* Generated Link Display */}\n              {generatedLink && (\n                <GeneratedLinkDisplay\n                  link={generatedLink}\n                  onCopy={handleCopyLink}\n                  copied={linkCopied}\n                />\n              )}\n\n              {/* Submit Button */}\n              <button\n                type=\"submit\"\n                disabled={isSubmitting}\n                className=\"w-full px-4 py-3 bg-charcoal text-white rounded-lg hover:bg-charcoal-dark transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2\"\n              >\n                {isSubmitting ? (\n                  <>\n                    <Loader2 className=\"w-5 h-5 animate-spin\" />\n                    Sending...\n                  </>\n                ) : (\n                  <>\n                    <Mail className=\"w-5 h-5\" />\n                    Send Invitation\n                  </>\n                )}\n              </button>\n            </form>\n          ) : (\n            // LINK TAB\n            <LinkTabContent\n              role={role}\n              onRoleChange={setRole}\n              expiresInDays={expiresInDays}\n              onExpirationChange={setExpiresInDays}\n              generatedLink={generatedLink}\n              isSubmitting={isSubmitting}\n              onGenerateLink={handleGenerateLink}\n              linkCopied={linkCopied}\n              onCopyLink={handleCopyLink}\n            />\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n\n/**\n * Role Selector Component\n */\ninterface RoleSelectorProps {\n  selectedRole: UserRole\n  onRoleChange: (role: UserRole) => void\n}\n\nconst RoleSelector: React.FC<RoleSelectorProps> = ({\n  selectedRole,\n  onRoleChange,\n}) => (\n  <div>\n    <label className=\"block text-sm font-medium text-charcoal-dark mb-2\">\n      Role <span className=\"text-red-500\">*</span>\n    </label>\n    <div className=\"grid grid-cols-3 gap-3\">\n      {(['admin', 'editor', 'viewer'] as UserRole[]).map((r) => (\n        <button\n          key={r}\n          type=\"button\"\n          onClick={() => onRoleChange(r)}\n          className={`p-3 border-2 rounded-lg transition-all ${\n            selectedRole === r\n              ? 'border-charcoal bg-charcoal/5'\n              : 'border-slate/30 hover:border-slate/50'\n          }`}\n        >\n          <RoleBadge role={r} size=\"sm\" />\n          <p className=\"text-xs text-slate mt-2 text-center\">\n            {r === 'admin' && 'Full control'}\n            {r === 'editor' && 'Create & edit'}\n            {r === 'viewer' && 'View only'}\n          </p>\n        </button>\n      ))}\n    </div>\n  </div>\n)\n\n/**\n * Expiration Selector Component\n */\ninterface ExpirationSelectorProps {\n  expiresInDays: number | null\n  onExpirationChange: (days: number | null) => void\n}\n\nconst ExpirationSelector: React.FC<ExpirationSelectorProps> = ({\n  expiresInDays,\n  onExpirationChange,\n}) => (\n  <div>\n    <label className=\"block text-sm font-medium text-charcoal-dark mb-2\">\n      Link Expiration\n    </label>\n    <select\n      value={expiresInDays?.toString() || 'never'}\n      onChange={(e) =>\n        onExpirationChange(e.target.value === 'never' ? null : parseInt(e.target.value))\n      }\n      className=\"w-full px-4 py-2 border border-slate/30 rounded-lg focus:ring-2 focus:ring-charcoal focus:border-charcoal\"\n    >\n      <option value=\"1\">24 hours</option>\n      <option value=\"7\">7 days</option>\n      <option value=\"30\">30 days</option>\n      <option value=\"never\">Never expires</option>\n    </select>\n  </div>\n)\n\n/**\n * Generated Link Display Component\n */\ninterface GeneratedLinkDisplayProps {\n  link: string\n  onCopy: () => void\n  copied: boolean\n}\n\nconst GeneratedLinkDisplay: React.FC<GeneratedLinkDisplayProps> = ({\n  link,\n  onCopy,\n  copied,\n}) => (\n  <div className=\"bg-green-50 border border-green-200 rounded-lg p-4\">\n    <p className=\"text-sm font-medium text-green-800 mb-2\">\n      Invitation link generated:\n    </p>\n    <div className=\"flex gap-2\">\n      <input\n        type=\"text\"\n        value={link}\n        readOnly\n        className=\"flex-1 px-3 py-2 bg-white border border-green-300 rounded text-sm font-mono text-slate\"\n      />\n      <button\n        type=\"button\"\n        onClick={onCopy}\n        className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2\"\n      >\n        {copied ? (\n          <>\n            <Check className=\"w-4 h-4\" />\n            Copied\n          </>\n        ) : (\n          <>\n            <Copy className=\"w-4 h-4\" />\n            Copy\n          </>\n        )}\n      </button>\n    </div>\n  </div>\n)\n\nexport default InviteMemberModal\n\n/**\n * Link Tab Content Component\n */\ninterface LinkTabContentProps {\n  role: UserRole\n  onRoleChange: (role: UserRole) => void\n  expiresInDays: number | null\n  onExpirationChange: (days: number | null) => void\n  generatedLink: string | null\n  isSubmitting: boolean\n  onGenerateLink: () => Promise<void>\n  linkCopied: boolean\n  onCopyLink: () => Promise<void>\n}\n\nconst LinkTabContent: React.FC<LinkTabContentProps> = ({\n  role,\n  onRoleChange,\n  expiresInDays,\n  onExpirationChange,\n  generatedLink,\n  isSubmitting,\n  onGenerateLink,\n  linkCopied,\n  onCopyLink,\n}) => (\n  <div className=\"space-y-6\">\n    <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n      <p className=\"text-sm text-blue-800\">\n        Generate a shareable link that anyone can use to join your workspace.\n        No email required!\n      </p>\n    </div>\n\n    <RoleSelector selectedRole={role} onRoleChange={onRoleChange} />\n    <ExpirationSelector expiresInDays={expiresInDays} onExpirationChange={onExpirationChange} />\n\n    {generatedLink ? (\n      <GeneratedLinkDisplay link={generatedLink} onCopy={onCopyLink} copied={linkCopied} />\n    ) : (\n      <button\n        onClick={onGenerateLink}\n        disabled={isSubmitting}\n        className=\"w-full px-4 py-3 bg-charcoal text-white rounded-lg hover:bg-charcoal-dark transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2\"\n      >\n        {isSubmitting ? (\n          <>\n            <Loader2 className=\"w-5 h-5 animate-spin\" />\n            Generating...\n          </>\n        ) : (\n          <>\n            <LinkIcon className=\"w-5 h-5\" />\n            Generate Invite Link\n          </>\n        )}\n      </button>\n    )}\n  </div>\n)\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1420, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/aamir/social_media_os/src/components/settings/MembersTab.tsx"],"sourcesContent":["'use client'\n\nimport React, { useState, useEffect } from 'react'\nimport { useAuth } from '@/contexts/AuthContext'\nimport { useNotifications } from '@/contexts/NotificationContext'\nimport { Plus, Trash2, Shield, Edit2, Mail, Link as LinkIcon } from 'lucide-react'\nimport type { WorkspaceMember, WorkspaceInvite } from '@/types/workspace'\nimport MemberCard from './MemberCard'\nimport InviteMemberModal from './InviteMemberModal'\nimport { RoleBadge } from '../ui/RoleBadge'\n\n// Use WorkspaceInvite from types\ntype PendingInvite = WorkspaceInvite\n\nexport default function MembersTab() {\n  const { user, workspaceId, userRole } = useAuth()\n  const { addNotification } = useNotifications()\n  const [members, setMembers] = useState<WorkspaceMember[]>([])\n  const [pendingInvites, setPendingInvites] = useState<PendingInvite[]>([])\n  const [loading, setLoading] = useState(true)\n  const [isInviteModalOpen, setIsInviteModalOpen] = useState(false)\n  const isAdmin = userRole === 'admin'\n\n  // Load members and pending invites\n  useEffect(() => {\n    if (!workspaceId) return\n\n    const loadData = async () => {\n      try {\n        setLoading(true)\n\n        // Load workspace members via API\n        const membersRes = await fetch('/api/workspace/members')\n        if (membersRes.ok) {\n          const { data } = await membersRes.json()\n          setMembers(data as WorkspaceMember[])\n        }\n\n        // Load pending invites (only if admin)\n        if (isAdmin) {\n          const invitesRes = await fetch('/api/workspace/invites')\n          if (invitesRes.ok) {\n            const { data } = await invitesRes.json()\n            setPendingInvites(data as PendingInvite[])\n          }\n        }\n      } catch (error) {\n        console.error('Error loading workspace data:', error)\n        addNotification('error', 'Load Failed', 'Failed to load workspace members')\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    loadData()\n  }, [workspaceId, isAdmin, addNotification])\n\n  const handleRemoveMember = async (memberId: string) => {\n    if (!workspaceId) return\n\n    const confirmed = confirm('Are you sure you want to remove this member?')\n    if (!confirmed) return\n\n    try {\n      const res = await fetch(`/api/workspace/members/${memberId}`, {\n        method: 'DELETE',\n      })\n\n      if (res.ok) {\n        setMembers(members.filter(m => m.id !== memberId))\n        addNotification('post_published', 'Success', 'Member removed successfully')\n      } else {\n        addNotification('error', 'Failed', 'Failed to remove member')\n      }\n    } catch (error) {\n      console.error('Error removing member:', error)\n      addNotification('error', 'Error', 'Error removing member')\n    }\n  }\n\n  const handleRoleChange = async (memberId: string, newRole: 'admin' | 'editor' | 'viewer') => {\n    if (!workspaceId) return\n\n    try {\n      const res = await fetch(`/api/workspace/members/${memberId}/role`, {\n        method: 'PATCH',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ role: newRole }),\n      })\n\n      if (res.ok) {\n        setMembers(members.map(m => m.id === memberId ? { ...m, role: newRole } : m))\n        addNotification('post_published', 'Member role updated', 'Member role updated')\n      } else {\n        addNotification('error', 'Failed to update member role', 'Failed to update member role')\n      }\n    } catch (error) {\n      console.error('Error updating role:', error)\n      addNotification('error', 'Error updating member role', 'Error updating member role')\n    }\n  }\n\n  const handleRevokeInvite = async (inviteId: string) => {\n    if (!workspaceId) return\n\n    const confirmed = confirm('Are you sure you want to revoke this invitation?')\n    if (!confirmed) return\n\n    try {\n      const res = await fetch('/api/workspace/invites', {\n        method: 'DELETE',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ inviteId }),\n      })\n\n      if (res.ok) {\n        setPendingInvites(pendingInvites.filter(i => i.id !== inviteId))\n        addNotification('post_published', 'Invitation revoked', 'Invitation revoked')\n      } else {\n        addNotification('error', 'Failed to revoke invitation', 'Failed to revoke invitation')\n      }\n    } catch (error) {\n      console.error('Error revoking invite:', error)\n      addNotification('error', 'Error revoking invitation', 'Error revoking invitation')\n    }\n  }\n\n  const handleResendInvite = async (inviteId: string) => {\n    if (!workspaceId) return\n\n    try {\n      const res = await fetch('/api/workspace/invites', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ action: 'resend', inviteId }),\n      })\n\n      if (res.ok) {\n        addNotification('post_published', 'Invitation resent successfully', 'Invitation resent successfully')\n      } else {\n        addNotification('error', 'Failed to resend invitation', 'Failed to resend invitation')\n      }\n    } catch (error) {\n      console.error('Error resending invite:', error)\n      addNotification('error', 'Error resending invitation', 'Error resending invitation')\n    }\n  }\n\n  const handleInviteSent = async () => {\n    setIsInviteModalOpen(false)\n    // Refresh pending invites\n    if (isAdmin) {\n      try {\n        const res = await fetch('/api/workspace/invites')\n        if (res.ok) {\n          const { data } = await res.json()\n          setPendingInvites(data as PendingInvite[])\n        }\n      } catch (error) {\n        console.error('Error refreshing invites:', error)\n      }\n    }\n  }\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center py-12\">\n        <div className=\"text-slate\">Loading members...</div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"space-y-8\">\n      {/* Current Members Section */}\n      <div>\n        <div className=\"flex items-center justify-between mb-6\">\n          <div>\n            <h2 className=\"text-xl font-semibold text-charcoal\">Workspace Members</h2>\n            <p className=\"text-sm text-slate mt-1\">{members.length} member{members.length !== 1 ? 's' : ''}</p>\n          </div>\n          {isAdmin && (\n            <button\n              onClick={() => setIsInviteModalOpen(true)}\n              className=\"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n            >\n              <Plus size={18} />\n              Invite Member\n            </button>\n          )}\n        </div>\n\n        <div className=\"space-y-3\">\n          {members.length === 0 ? (\n            <div className=\"text-center py-8 bg-gray-50 rounded-lg\">\n              <p className=\"text-slate\">No members yet</p>\n            </div>\n          ) : (\n            members.map(member => (\n              <MemberCard\n                key={member.id}\n                member={member}\n                currentUserRole={userRole}\n                currentUserId={user?.id || ''}\n                onRemove={async (userId) => handleRemoveMember(userId)}\n                onRoleChange={async (userId, role) => handleRoleChange(userId, role)}\n              />\n            ))\n          )}\n        </div>\n      </div>\n\n      {/* Pending Invitations Section */}\n      {isAdmin && pendingInvites.length > 0 && (\n        <div>\n          <h2 className=\"text-xl font-semibold text-charcoal mb-6\">Pending Invitations</h2>\n          <div className=\"space-y-3\">\n            {pendingInvites.map(invite => (\n              <div\n                key={invite.id}\n                className=\"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200\"\n              >\n                <div className=\"flex items-center gap-4 flex-1\">\n                  <div className=\"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center\">\n                    {invite.email ? <Mail size={20} className=\"text-blue-600\" /> : <LinkIcon size={20} className=\"text-blue-600\" />}\n                  </div>\n                  <div className=\"flex-1\">\n                    <p className=\"font-medium text-charcoal\">\n                      {invite.email || 'Shareable Link'}\n                    </p>\n                    <p className=\"text-sm text-slate\">\n                      {invite.email ? `Email invitation` : `Anyone with link can join`}\n                    </p>\n                  </div>\n                  <RoleBadge role={invite.role} size=\"sm\" />\n                </div>\n\n                <div className=\"flex items-center gap-2\">\n                  {invite.expires_at && new Date(invite.expires_at) < new Date() && (\n                    <span className=\"text-xs px-2 py-1 bg-red-100 text-red-700 rounded\">Expired</span>\n                  )}\n                  <button\n                    onClick={() => handleResendInvite(invite.id)}\n                    className=\"p-2 hover:bg-white rounded transition-colors\"\n                    title=\"Resend invitation\"\n                  >\n                    <Mail size={18} className=\"text-blue-600\" />\n                  </button>\n                  <button\n                    onClick={() => handleRevokeInvite(invite.id)}\n                    className=\"p-2 hover:bg-white rounded transition-colors\"\n                    title=\"Revoke invitation\"\n                  >\n                    <Trash2 size={18} className=\"text-red-600\" />\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Invite Modal */}\n      <InviteMemberModal\n        isOpen={isInviteModalOpen}\n        onClose={() => setIsInviteModalOpen(false)}\n        onInviteCreated={handleInviteSent}\n      />\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1893, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/aamir/social_media_os/src/components/settings/WorkspaceSettingsTab.tsx"],"sourcesContent":["'use client'\n\nimport React, { useState, useEffect } from 'react'\nimport { useAuth } from '@/contexts/AuthContext'\nimport { useNotifications } from '@/contexts/NotificationContext'\nimport { Save, AlertCircle } from 'lucide-react'\n\ninterface Workspace {\n  id: string\n  name: string\n  max_users: number\n  settings?: Record<string, any>\n  created_at: string\n  updated_at: string\n}\n\nexport default function WorkspaceSettingsTab() {\n  const { workspaceId, userRole } = useAuth()\n  const { addNotification } = useNotifications()\n  const [workspace, setWorkspace] = useState<Workspace | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [saving, setSaving] = useState(false)\n  const [formData, setFormData] = useState({\n    name: '',\n    max_users: 10\n  })\n  const isAdmin = userRole === 'admin'\n\n  // Load workspace data\n  useEffect(() => {\n    if (!workspaceId) return\n\n    const loadWorkspace = async () => {\n      try {\n        setLoading(true)\n        const res = await fetch('/api/workspace')\n        if (res.ok) {\n          const { data } = await res.json()\n          setWorkspace(data as Workspace)\n          setFormData({\n            name: (data as any).name || '',\n            max_users: (data as any).max_users || 10\n          })\n        }\n      } catch (error) {\n        console.error('Error loading workspace:', error)\n        addNotification('error', 'Failed to load workspace settings', 'Failed to load workspace settings')\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    loadWorkspace()\n  }, [workspaceId, addNotification])\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target\n    setFormData(prev => ({\n      ...prev,\n      [name]: name === 'max_users' ? parseInt(value, 10) : value\n    }))\n  }\n\n  const handleSave = async () => {\n    if (!workspaceId) return\n\n    // Validation\n    if (!formData.name.trim()) {\n      addNotification('error', 'Workspace name cannot be empty', 'Workspace name cannot be empty')\n      return\n    }\n\n    if (formData.max_users < 1) {\n      addNotification('error', 'Maximum users must be at least 1', 'Maximum users must be at least 1')\n      return\n    }\n\n    try {\n      setSaving(true)\n      const res = await fetch('/api/workspace', {\n        method: 'PATCH',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(formData),\n      })\n\n      if (res.ok) {\n        const { data } = await res.json()\n        setWorkspace(data as Workspace)\n        addNotification('post_published', 'Workspace settings updated successfully', 'Workspace settings updated successfully')\n      } else {\n        addNotification('error', 'Failed to update workspace settings', 'Failed to update workspace settings')\n      }\n    } catch (error) {\n      console.error('Error saving workspace:', error)\n      addNotification('error', 'Error updating workspace settings', 'Error updating workspace settings')\n    } finally {\n      setSaving(false)\n    }\n  }\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center py-12\">\n        <div className=\"text-slate\">Loading workspace settings...</div>\n      </div>\n    )\n  }\n\n  if (!isAdmin) {\n    return (\n      <div className=\"p-6 bg-yellow-50 border border-yellow-200 rounded-lg flex items-gap-3\">\n        <AlertCircle className=\"text-yellow-600 flex-shrink-0\" size={20} />\n        <div>\n          <h3 className=\"font-semibold text-yellow-900\">Access Denied</h3>\n          <p className=\"text-sm text-yellow-800\">Only workspace admins can modify workspace settings.</p>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"max-w-2xl space-y-8\">\n      {/* Workspace Name */}\n      <div>\n        <label htmlFor=\"name\" className=\"block text-sm font-medium text-charcoal mb-2\">\n          Workspace Name\n        </label>\n        <input\n          id=\"name\"\n          name=\"name\"\n          type=\"text\"\n          value={formData.name}\n          onChange={handleInputChange}\n          placeholder=\"My Workspace\"\n          className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        />\n        <p className=\"text-xs text-slate mt-1\">The name of your workspace</p>\n      </div>\n\n      {/* Max Users */}\n      <div>\n        <label htmlFor=\"max_users\" className=\"block text-sm font-medium text-charcoal mb-2\">\n          Maximum Members\n        </label>\n        <input\n          id=\"max_users\"\n          name=\"max_users\"\n          type=\"number\"\n          min=\"1\"\n          max=\"1000\"\n          value={formData.max_users}\n          onChange={handleInputChange}\n          className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        />\n        <p className=\"text-xs text-slate mt-1\">\n          Maximum number of members allowed in this workspace\n        </p>\n      </div>\n\n      {/* Current Stats */}\n      {workspace && (\n        <div className=\"p-4 bg-blue-50 rounded-lg border border-blue-200\">\n          <h3 className=\"font-semibold text-blue-900 mb-3\">Workspace Information</h3>\n          <div className=\"grid grid-cols-2 gap-4 text-sm\">\n            <div>\n              <p className=\"text-blue-700 font-medium\">Created</p>\n              <p className=\"text-blue-600\">\n                {new Date((workspace as any).created_at).toLocaleDateString()}\n              </p>\n            </div>\n            <div>\n              <p className=\"text-blue-700 font-medium\">Last Updated</p>\n              <p className=\"text-blue-600\">\n                {new Date((workspace as any).updated_at).toLocaleDateString()}\n              </p>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Save Button */}\n      <button\n        onClick={handleSave}\n        disabled={saving || !isAdmin}\n        className=\"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors\"\n      >\n        <Save size={18} />\n        {saving ? 'Saving...' : 'Save Changes'}\n      </button>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2250, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/aamir/social_media_os/src/components/settings/ActivityLogTab.tsx"],"sourcesContent":["'use client'\n\nimport React, { useState, useEffect } from 'react'\nimport { useAuth } from '@/contexts/AuthContext'\nimport { useNotifications } from '@/contexts/NotificationContext'\nimport { UserPlus, UserMinus, Shield, Settings, LogOut, Trash2, RefreshCw } from 'lucide-react'\n\ninterface ActivityLog {\n  id: string\n  action: string\n  entity_type: string\n  entity_id: string\n  details: Record<string, any>\n  created_at: string\n  user: {\n    email: string\n    full_name: string | null\n  }\n}\n\nconst ACTION_ICONS: Record<string, React.ReactNode> = {\n  member_invited: <UserPlus size={16} className=\"text-blue-600\" />,\n  member_joined: <UserPlus size={16} className=\"text-green-600\" />,\n  member_removed: <UserMinus size={16} className=\"text-red-600\" />,\n  member_role_changed: <Shield size={16} className=\"text-orange-600\" />,\n  workspace_updated: <Settings size={16} className=\"text-purple-600\" />,\n  invite_revoked: <Trash2 size={16} className=\"text-red-600\" />,\n}\n\nconst ACTION_LABELS: Record<string, string> = {\n  member_invited: 'Member Invited',\n  member_joined: 'Member Joined',\n  member_removed: 'Member Removed',\n  member_role_changed: 'Role Changed',\n  workspace_updated: 'Workspace Updated',\n  invite_revoked: 'Invite Revoked',\n}\n\nexport default function ActivityLogTab() {\n  const { workspaceId, userRole } = useAuth()\n  const { addNotification } = useNotifications()\n  const [activities, setActivities] = useState<ActivityLog[]>([])\n  const [loading, setLoading] = useState(true)\n  const [page, setPage] = useState(0)\n  const [hasMore, setHasMore] = useState(false)\n  const isAdmin = userRole === 'admin'\n\n  const LIMIT = 20\n\n  // Load activity logs\n  useEffect(() => {\n    if (!workspaceId || !isAdmin) return\n\n    const loadActivities = async () => {\n      try {\n        setLoading(true)\n        const res = await fetch(`/api/workspace/activity?limit=${LIMIT}&offset=${page * LIMIT}`)\n        if (res.ok) {\n          const result = await res.json()\n          setActivities(result.data as ActivityLog[])\n          setHasMore(result.hasMore)\n        }\n      } catch (error) {\n        console.error('Error loading activity log:', error)\n        addNotification('error', 'Load Failed', 'Failed to load activity log')\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    loadActivities()\n  }, [workspaceId, isAdmin, page, addNotification])\n\n  const handleRefresh = () => {\n    setPage(0)\n  }\n\n  const formatDate = (dateString: string) => {\n    const date = new Date(dateString)\n    return date.toLocaleDateString('en-US', {\n      month: 'short',\n      day: 'numeric',\n      year: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit',\n    })\n  }\n\n  const getActionDescription = (activity: ActivityLog): string => {\n    const { action, details, user } = activity\n    const userName = user?.full_name || user?.email || 'Unknown'\n\n    switch (action) {\n      case 'member_invited':\n        return `${userName} invited ${details.invite_email || 'someone'} as ${details.invite_role}`\n      case 'member_joined':\n        return `${userName} joined as ${details.role}`\n      case 'member_removed':\n        return `${userName} removed ${details.removed_user_email}`\n      case 'member_role_changed':\n        return `${userName} changed ${details.target_user_email}'s role from ${details.old_role} to ${details.new_role}`\n      case 'workspace_updated':\n        return `${userName} updated workspace settings`\n      case 'invite_revoked':\n        return `${userName} revoked an invitation for ${details.invite_email || 'shareable link'}`\n      default:\n        return `${userName} performed action: ${action}`\n    }\n  }\n\n  if (!isAdmin) {\n    return (\n      <div className=\"p-6 bg-yellow-50 border border-yellow-200 rounded-lg\">\n        <h3 className=\"font-semibold text-yellow-900\">Access Restricted</h3>\n        <p className=\"text-sm text-yellow-800\">Activity logs are only available to workspace admins.</p>\n      </div>\n    )\n  }\n\n  if (loading && activities.length === 0) {\n    return (\n      <div className=\"flex items-center justify-center py-12\">\n        <div className=\"text-slate\">Loading activity log...</div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Refresh Button */}\n      <div className=\"flex justify-end\">\n        <button\n          onClick={handleRefresh}\n          className=\"flex items-center gap-2 px-4 py-2 text-slate hover:bg-gray-100 rounded-lg transition-colors\"\n        >\n          <RefreshCw size={16} />\n          Refresh\n        </button>\n      </div>\n\n      {/* Activity List */}\n      {activities.length === 0 ? (\n        <div className=\"text-center py-12 bg-gray-50 rounded-lg\">\n          <p className=\"text-slate\">No activity yet</p>\n        </div>\n      ) : (\n        <div className=\"space-y-2\">\n          {activities.map((activity) => (\n            <div\n              key={activity.id}\n              className=\"flex items-start gap-4 p-4 bg-gray-50 rounded-lg border border-gray-200 hover:bg-gray-100 transition-colors\"\n            >\n              {/* Icon */}\n              <div className=\"pt-1\">\n                {ACTION_ICONS[activity.action] || <RefreshCw size={16} className=\"text-slate\" />}\n              </div>\n\n              {/* Content */}\n              <div className=\"flex-1 min-w-0\">\n                <div className=\"flex items-center gap-2 mb-1\">\n                  <p className=\"font-medium text-charcoal\">\n                    {ACTION_LABELS[activity.action] || activity.action}\n                  </p>\n                </div>\n                <p className=\"text-sm text-slate\">\n                  {getActionDescription(activity)}\n                </p>\n                {Object.keys(activity.details).length > 0 && (\n                  <details className=\"mt-2\">\n                    <summary className=\"text-xs text-slate cursor-pointer hover:text-charcoal\">\n                      Details\n                    </summary>\n                    <pre className=\"mt-2 p-2 bg-white rounded text-xs overflow-auto\">\n                      {JSON.stringify(activity.details, null, 2)}\n                    </pre>\n                  </details>\n                )}\n              </div>\n\n              {/* Date */}\n              <div className=\"text-right flex-shrink-0\">\n                <p className=\"text-xs text-slate whitespace-nowrap\">\n                  {formatDate(activity.created_at)}\n                </p>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* Pagination */}\n      {hasMore || page > 0 && (\n        <div className=\"flex items-center justify-between mt-6 pt-4 border-t border-gray-200\">\n          <button\n            onClick={() => setPage(p => Math.max(0, p - 1))}\n            disabled={page === 0}\n            className=\"px-4 py-2 text-slate hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg transition-colors\"\n          >\n            Previous\n          </button>\n\n          <span className=\"text-sm text-slate\">\n            Page {page + 1}\n          </span>\n\n          <button\n            onClick={() => setPage(p => p + 1)}\n            disabled={!hasMore}\n            className=\"px-4 py-2 text-slate hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg transition-colors\"\n          >\n            Next\n          </button>\n        </div>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2654, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/aamir/social_media_os/src/components/auth/AuthPage.tsx"],"sourcesContent":["'use client'\r\n\r\nimport React, { useState } from 'react'\r\nimport { useAuth } from '@/contexts/AuthContext'\r\nimport { Loader2, Sparkles } from 'lucide-react'\r\n\r\nexport default function AuthPage() {\r\n  const [isLogin, setIsLogin] = useState(true)\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [fullName, setFullName] = useState('')\r\n  const [loading, setLoading] = useState(false)\r\n  const [error, setError] = useState<string | null>(null)\r\n\r\n  const { signIn, signUp } = useAuth()\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    setError(null)\r\n    setLoading(true)\r\n\r\n    try {\r\n      if (isLogin) {\r\n        // Sign in\r\n        const { error } = await signIn(email, password)\r\n        if (error) {\r\n          setError(error.message)\r\n        }\r\n      } else {\r\n        // Sign up\r\n        if (!fullName.trim()) {\r\n          setError('Please enter your full name')\r\n          setLoading(false)\r\n          return\r\n        }\r\n\r\n        const { error } = await signUp(email, password, fullName)\r\n        if (error) {\r\n          setError(error.message)\r\n        } else {\r\n          // Success message - check if email confirmation is required\r\n          setError(null)\r\n          setIsLogin(true)\r\n          // Reset form\r\n          setEmail('')\r\n          setPassword('')\r\n          setFullName('')\r\n          alert('Account created successfully! Please sign in.')\r\n        }\r\n      }\r\n    } catch (err) {\r\n      setError('An unexpected error occurred')\r\n      console.error(err)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100\">\r\n      <div className=\"w-full max-w-md\">\r\n        {/* Logo/Branding */}\r\n        <div className=\"text-center mb-8\">\r\n          <div className=\"flex items-center justify-center mb-4\">\r\n            <div className=\"bg-charcoal p-3 rounded-xl\">\r\n              <Sparkles className=\"w-8 h-8 text-white\" />\r\n            </div>\r\n          </div>\r\n          <h1 className=\"text-3xl font-bold text-charcoal-dark\">AI Content OS</h1>\r\n          <p className=\"text-slate mt-2\">\r\n            AI-powered social media management platform\r\n          </p>\r\n        </div>\r\n\r\n        {/* Auth Card */}\r\n        <div className=\"bg-white rounded-2xl shadow-xl p-8\">\r\n          <div className=\"mb-6\">\r\n            <h2 className=\"text-2xl font-bold text-charcoal-dark\">\r\n              {isLogin ? 'Welcome back' : 'Create an account'}\r\n            </h2>\r\n            <p className=\"text-slate text-sm mt-1\">\r\n              {isLogin\r\n                ? 'Sign in to continue to your workspace'\r\n                : 'Get started with your free account'}\r\n            </p>\r\n          </div>\r\n\r\n          {/* Error Message */}\r\n          {error && (\r\n            <div className=\"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg\">\r\n              <p className=\"text-red-700 text-sm\">{error}</p>\r\n            </div>\r\n          )}\r\n\r\n          {/* Form */}\r\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n            {!isLogin && (\r\n              <div>\r\n                <label htmlFor=\"fullName\" className=\"block text-sm font-medium text-charcoal-dark mb-2\">\r\n                  Full Name\r\n                </label>\r\n                <input\r\n                  id=\"fullName\"\r\n                  type=\"text\"\r\n                  value={fullName}\r\n                  onChange={(e) => setFullName(e.target.value)}\r\n                  placeholder=\"John Doe\"\r\n                  className=\"w-full px-4 py-3 border border-slate/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-charcoal focus:border-transparent\"\r\n                  required={!isLogin}\r\n                  disabled={loading}\r\n                />\r\n              </div>\r\n            )}\r\n\r\n            <div>\r\n              <label htmlFor=\"email\" className=\"block text-sm font-medium text-charcoal-dark mb-2\">\r\n                Email\r\n              </label>\r\n              <input\r\n                id=\"email\"\r\n                type=\"email\"\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n                placeholder=\"you@example.com\"\r\n                className=\"w-full px-4 py-3 border border-slate/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-charcoal focus:border-transparent\"\r\n                required\r\n                disabled={loading}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label htmlFor=\"password\" className=\"block text-sm font-medium text-charcoal-dark mb-2\">\r\n                Password\r\n              </label>\r\n              <input\r\n                id=\"password\"\r\n                type=\"password\"\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\"\r\n                className=\"w-full px-4 py-3 border border-slate/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-charcoal focus:border-transparent\"\r\n                required\r\n                minLength={6}\r\n                disabled={loading}\r\n              />\r\n              {!isLogin && (\r\n                <p className=\"text-xs text-slate mt-1\">\r\n                  Must be at least 6 characters\r\n                </p>\r\n              )}\r\n            </div>\r\n\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading}\r\n              className=\"w-full bg-charcoal text-white py-3 px-4 rounded-lg font-medium hover:bg-charcoal-dark transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center\"\r\n            >\r\n              {loading ? (\r\n                <>\r\n                  <Loader2 className=\"w-5 h-5 mr-2 animate-spin\" />\r\n                  {isLogin ? 'Signing in...' : 'Creating account...'}\r\n                </>\r\n              ) : (\r\n                <>{isLogin ? 'Sign in' : 'Create account'}</>\r\n              )}\r\n            </button>\r\n          </form>\r\n\r\n          {/* Toggle Login/Signup */}\r\n          <div className=\"mt-6 text-center\">\r\n            <button\r\n              onClick={() => {\r\n                setIsLogin(!isLogin)\r\n                setError(null)\r\n              }}\r\n              disabled={loading}\r\n              className=\"text-sm text-charcoal hover:text-charcoal-dark font-medium disabled:opacity-50\"\r\n            >\r\n              {isLogin\r\n                ? \"Don't have an account? Sign up\"\r\n                : 'Already have an account? Sign in'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        <p className=\"text-center text-xs text-slate mt-8\">\r\n          By continuing, you agree to our Terms of Service and Privacy Policy\r\n        </p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3007, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/aamir/social_media_os/src/components/auth/ProtectedApp.tsx"],"sourcesContent":["'use client'\r\n\r\nimport React from 'react'\r\nimport { useAuth } from '@/contexts/AuthContext'\r\nimport { NotificationProvider } from '@/contexts/NotificationContext'\r\nimport AuthPage from './AuthPage'\r\nimport { Loader2 } from 'lucide-react'\r\n\r\ninterface ProtectedAppProps {\r\n  children: React.ReactNode\r\n}\r\n\r\nexport default function ProtectedApp({ children }: ProtectedAppProps) {\r\n  const { user, loading } = useAuth()\r\n\r\n  // Show loading screen while checking authentication\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100\">\r\n        <div className=\"text-center\">\r\n          <Loader2 className=\"w-12 h-12 text-charcoal animate-spin mx-auto mb-4\" />\r\n          <p className=\"text-slate\">Loading...</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // Show auth page if not authenticated\r\n  if (!user) {\r\n    return <AuthPage />\r\n  }\r\n\r\n  // Show protected content if authenticated (wrapped with NotificationProvider for settings routes)\r\n  return (\r\n    <NotificationProvider>\r\n      {children}\r\n    </NotificationProvider>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AACA;;;AANA;;;;;AAYe,SAAS,aAAa,EAAE,QAAQ,EAAqB;;IAClE,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,IAAA,6IAAO;IAEjC,oDAAoD;IACpD,IAAI,SAAS;QACX,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,+NAAO;wBAAC,WAAU;;;;;;kCACnB,6LAAC;wBAAE,WAAU;kCAAa;;;;;;;;;;;;;;;;;IAIlC;IAEA,sCAAsC;IACtC,IAAI,CAAC,MAAM;QACT,qBAAO,6LAAC,oJAAQ;;;;;IAClB;IAEA,kGAAkG;IAClG,qBACE,6LAAC,kKAAoB;kBAClB;;;;;;AAGP;GA1BwB;;QACI,6IAAO;;;KADX","debugId":null}},
    {"offset": {"line": 3092, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/aamir/social_media_os/src/app/settings/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport React, { useMemo } from 'react'\r\nimport { useSearchParams } from 'next/navigation'\r\nimport SettingsLayout from '@/components/settings/SettingsLayout'\r\nimport MembersTab from '@/components/settings/MembersTab'\r\nimport WorkspaceSettingsTab from '@/components/settings/WorkspaceSettingsTab'\r\nimport ActivityLogTab from '@/components/settings/ActivityLogTab'\r\nimport ProtectedApp from '@/components/auth/ProtectedApp'\r\n\r\ntype Tab = 'members' | 'workspace' | 'activity'\r\n\r\nexport default function SettingsPage() {\r\n  const searchParams = useSearchParams()\r\n  const tab = (searchParams.get('tab') || 'members') as Tab\r\n\r\n  const content = useMemo(() => {\r\n    switch (tab) {\r\n      case 'members':\r\n        return <MembersTab />\r\n      case 'workspace':\r\n        return <WorkspaceSettingsTab />\r\n      case 'activity':\r\n        return <ActivityLogTab />\r\n      default:\r\n        return <MembersTab />\r\n    }\r\n  }, [tab])\r\n\r\n  return (\r\n    <ProtectedApp>\r\n      <SettingsLayout activeTab={tab}>\r\n        {content}\r\n      </SettingsLayout>\r\n    </ProtectedApp>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AARA;;;;;;;;AAYe,SAAS;;IACtB,MAAM,eAAe,IAAA,wJAAe;IACpC,MAAM,MAAO,aAAa,GAAG,CAAC,UAAU;IAExC,MAAM,UAAU,IAAA,wKAAO;yCAAC;YACtB,OAAQ;gBACN,KAAK;oBACH,qBAAO,6LAAC,0JAAU;;;;;gBACpB,KAAK;oBACH,qBAAO,6LAAC,oKAAoB;;;;;gBAC9B,KAAK;oBACH,qBAAO,6LAAC,8JAAc;;;;;gBACxB;oBACE,qBAAO,6LAAC,0JAAU;;;;;YACtB;QACF;wCAAG;QAAC;KAAI;IAER,qBACE,6LAAC,wJAAY;kBACX,cAAA,6LAAC,8JAAc;YAAC,WAAW;sBACxB;;;;;;;;;;;AAIT;GAxBwB;;QACD,wJAAe;;;KADd","debugId":null}}]
}