(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,78756,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isUnsafeProperty=function(e){return"__proto__"===e}},33858,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}},96736,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.toKey=function(e){return"string"==typeof e||"symbol"==typeof e?e:Object.is(e?.valueOf?.(),-0)?"-0":String(e)}},48018,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.toString=function e(t){if(null==t)return"";if("string"==typeof t)return t;if(Array.isArray(t))return t.map(e).join(",");let r=String(t);return"0"===r&&Object.is(Number(t),-0)?"-0":r}},79232,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(48018),i=e.r(96736);r.toPath=function(e){if(Array.isArray(e))return e.map(i.toKey);if("symbol"==typeof e)return[e];e=n.toString(e);let t=[],r=e.length;if(0===r)return t;let a=0,o="",l="",s=!1;for(46===e.charCodeAt(0)&&(t.push(""),a++);a<r;){let n=e[a];l?"\\"===n&&a+1<r?o+=e[++a]:n===l?l="":o+=n:s?'"'===n||"'"===n?l=n:"]"===n?(s=!1,t.push(o),o=""):o+=n:"["===n?(s=!0,o&&(t.push(o),o="")):"."===n?o&&(t.push(o),o=""):o+=n,a++}return o&&t.push(o),t}},18915,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(78756),i=e.r(33858),a=e.r(96736),o=e.r(79232);r.get=function e(t,r,l){if(null==t)return l;switch(typeof r){case"string":{if(n.isUnsafeProperty(r))return l;let a=t[r];if(void 0===a)if(i.isDeepKey(r))return e(t,o.toPath(r),l);else return l;return a}case"number":case"symbol":{"number"==typeof r&&(r=a.toKey(r));let e=t[r];if(void 0===e)return l;return e}default:{if(Array.isArray(r)){var s=t,c=r,u=l;if(0===c.length)return u;let e=s;for(let t=0;t<c.length;t++){if(null==e||n.isUnsafeProperty(c[t]))return u;e=e[c[t]]}return void 0===e?u:e}if(r=Object.is(r?.valueOf(),-0)?"-0":String(r),n.isUnsafeProperty(r))return l;let e=t[r];if(void 0===e)return l;return e}}}},92068,(e,t,r)=>{t.exports=e.r(18915).get},14595,(e,t,r)=>{"use strict";var n=e.r(71645),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=n.useSyncExternalStore,o=n.useRef,l=n.useEffect,s=n.useMemo,c=n.useDebugValue;r.useSyncExternalStoreWithSelector=function(e,t,r,n,u){var d=o(null);if(null===d.current){var p={hasValue:!1,value:null};d.current=p}else p=d.current;var f=a(e,(d=s(function(){function e(e){if(!l){if(l=!0,a=e,e=n(e),void 0!==u&&p.hasValue){var t=p.value;if(u(t,e))return o=t}return o=e}if(t=o,i(a,e))return t;var r=n(e);return void 0!==u&&u(t,r)?(a=e,t):(a=e,o=r)}var a,o,l=!1,s=void 0===r?null:r;return[function(){return e(t())},null===s?void 0:function(){return e(s())}]},[t,r,n,u]))[0],d[1]);return l(function(){p.hasValue=!0,p.value=f},[f]),c(f),f}},13027,(e,t,r)=>{"use strict";t.exports=e.r(14595)},55838,(e,t,r)=>{"use strict";var n=e.r(71645),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=n.useState,o=n.useEffect,l=n.useLayoutEffect,s=n.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!i(e,r)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=a({inst:{value:r,getSnapshot:t}}),i=n[0].inst,u=n[1];return l(function(){i.value=r,i.getSnapshot=t,c(i)&&u({inst:i})},[e,r,t]),o(function(){return c(i)&&u({inst:i}),e(function(){c(i)&&u({inst:i})})},[e]),s(r),r};r.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:u},2239,(e,t,r)=>{"use strict";t.exports=e.r(55838)},52822,(e,t,r)=>{"use strict";var n=e.r(71645),i=e.r(2239),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=i.useSyncExternalStore,l=n.useRef,s=n.useEffect,c=n.useMemo,u=n.useDebugValue;r.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var d=l(null);if(null===d.current){var p={hasValue:!1,value:null};d.current=p}else p=d.current;var f=o(e,(d=c(function(){function e(e){if(!s){if(s=!0,o=e,e=n(e),void 0!==i&&p.hasValue){var t=p.value;if(i(t,e))return l=t}return l=e}if(t=l,a(o,e))return t;var r=n(e);return void 0!==i&&i(t,r)?(o=e,t):(o=e,l=r)}var o,l,s=!1,c=void 0===r?null:r;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,r,n,i]))[0],d[1]);return s(function(){p.hasValue=!0,p.value=f},[f]),u(f),f}},30224,(e,t,r)=>{"use strict";t.exports=e.r(52822)},45403,(e,t,r)=>{"use strict";function n(e){return"symbol"==typeof e?1:null===e?2:void 0===e?3:4*(e!=e)}Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.compareValues=(e,t,r)=>{if(e!==t){let i=n(e),a=n(t);if(i===a&&0===i){if(e<t)return"desc"===r?1:-1;if(e>t)return"desc"===r?-1:1}return"desc"===r?a-i:i-a}return 0}},9542,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isSymbol=function(e){return"symbol"==typeof e||e instanceof Symbol}},38104,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(9542),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;r.isKey=function(e,t){return!Array.isArray(e)&&(!!("number"==typeof e||"boolean"==typeof e||null==e||n.isSymbol(e))||"string"==typeof e&&(a.test(e)||!i.test(e))||null!=t&&Object.hasOwn(t,e))}},910,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(45403),i=e.r(38104),a=e.r(79232);r.orderBy=function(e,t,r,o){if(null==e)return[];r=o?void 0:r,Array.isArray(e)||(e=Object.values(e)),Array.isArray(t)||(t=null==t?[null]:[t]),0===t.length&&(t=[null]),Array.isArray(r)||(r=null==r?[]:[r]),r=r.map(e=>String(e));let l=(e,t)=>{let r=e;for(let e=0;e<t.length&&null!=r;++e)r=r[t[e]];return r},s=t.map(e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"==typeof e||Array.isArray(e)||i.isKey(e))?e:{key:e,path:a.toPath(e)});return e.map(e=>({original:e,criteria:s.map(t=>{var r,n;return r=t,null==(n=e)||null==r?n:"object"==typeof r&&"key"in r?Object.hasOwn(n,r.key)?n[r.key]:l(n,r.path):"function"==typeof r?r(n):Array.isArray(r)?l(n,r):"object"==typeof n?n[r]:n})})).slice().sort((e,t)=>{for(let i=0;i<s.length;i++){let a=n.compareValues(e.criteria[i],t.criteria[i],r[i]);if(0!==a)return a}return 0}).map(e=>e.original)}},44647,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.flatten=function(e,t=1){let r=[],n=Math.floor(t),i=(e,t)=>{for(let a=0;a<e.length;a++){let o=e[a];Array.isArray(o)&&t<n?i(o,t+1):r.push(o)}};return i(e,0),r}},5257,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=/^(?:0|[1-9]\d*)$/;r.isIndex=function(e,t=Number.MAX_SAFE_INTEGER){switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<t;case"symbol":return!1;case"string":return n.test(e)}}},70871,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}},69642,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(70871);r.isArrayLike=function(e){return null!=e&&"function"!=typeof e&&n.isLength(e.length)}},90820,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isObject=function(e){return null!==e&&("object"==typeof e||"function"==typeof e)}},23855,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.eq=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}},15111,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(5257),i=e.r(69642),a=e.r(90820),o=e.r(23855);r.isIterateeCall=function(e,t,r){return!!a.isObject(r)&&(!!("number"==typeof t&&i.isArrayLike(r)&&n.isIndex(t))&&t<r.length||"string"==typeof t&&t in r)&&o.eq(r[t],e)}},69955,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(910),i=e.r(44647),a=e.r(15111);r.sortBy=function(e,...t){let r=t.length;return r>1&&a.isIterateeCall(e,t[0],t[1])?t=[]:r>2&&a.isIterateeCall(t[0],t[1],t[2])&&(t=[t[0]]),n.orderBy(e,i.flatten(t),["asc"])}},42342,(e,t,r)=>{t.exports=e.r(69955).sortBy},24798,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.debounce=function(e,t,{signal:r,edges:n}={}){let i,a=null,o=null!=n&&n.includes("leading"),l=null==n||n.includes("trailing"),s=()=>{null!==a&&(e.apply(i,a),i=void 0,a=null)},c=null,u=()=>{null!=c&&clearTimeout(c),c=setTimeout(()=>{c=null,l&&s(),d()},t)},d=()=>{null!==c&&(clearTimeout(c),c=null),i=void 0,a=null},p=function(...e){if(r?.aborted)return;i=this,a=e;let t=null==c;u(),o&&t&&s()};return p.schedule=u,p.cancel=d,p.flush=()=>{s()},r?.addEventListener("abort",d,{once:!0}),p}},96074,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(24798);r.debounce=function(e,t=0,r={}){let i;"object"!=typeof r&&(r={});let{leading:a=!1,trailing:o=!0,maxWait:l}=r,s=[,,];a&&(s[0]="leading"),o&&(s[1]="trailing");let c=null,u=n.debounce(function(...t){i=e.apply(this,t),c=null},t,{edges:s}),d=function(...t){return null!=l&&(null===c&&(c=Date.now()),Date.now()-c>=l)?(i=e.apply(this,t),c=Date.now(),u.cancel(),u.schedule(),i):(u.apply(this,t),i)};return d.cancel=u.cancel,d.flush=()=>(u.flush(),i),d}},46508,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(96074);r.throttle=function(e,t=0,r={}){let{leading:i=!0,trailing:a=!0}=r;return n.debounce(e,t,{leading:i,maxWait:t,trailing:a})}},58723,(e,t,r)=>{t.exports=e.r(46508).throttle},41015,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(9542);r.toNumber=function(e){return n.isSymbol(e)?NaN:Number(e)}},89793,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(41015);r.toFinite=function(e){return e?(e=n.toNumber(e))===1/0||e===-1/0?(e<0?-1:1)*Number.MAX_VALUE:e==e?e:0:0===e?e:0}},45264,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(15111),i=e.r(89793);r.range=function(e,t,r){r&&"number"!=typeof r&&n.isIterateeCall(e,t,r)&&(t=r=void 0),e=i.toFinite(e),void 0===t?(t=e,e=0):t=i.toFinite(t),r=void 0===r?e<t?1:-1:i.toFinite(r);let a=Math.max(Math.ceil((t-e)/(r||1)),0),o=Array(a);for(let t=0;t<a;t++)o[t]=e,e+=r;return o}},66814,(e,t,r)=>{t.exports=e.r(45264).range},51655,(e,t,r)=>{!function(r){"use strict";var n,i={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},a=!0,o="[DecimalError] ",l=o+"Invalid argument: ",s=o+"Exponent out of range: ",c=Math.floor,u=Math.pow,d=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=c(1286742750677284.5),f={};function h(e,t){var r,n,i,o,l,s,c,u,d=e.constructor,p=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),a?S(t,p):t;if(c=e.d,u=t.d,l=e.e,i=t.e,c=c.slice(),o=l-i){for(o<0?(n=c,o=-o,s=u.length):(n=u,i=l,s=c.length),o>(s=(l=Math.ceil(p/7))>s?l+1:s+1)&&(o=s,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for((s=c.length)-(o=u.length)<0&&(o=s,n=u,u=c,c=n),r=0;o;)r=(c[--o]=c[o]+u[o]+r)/1e7|0,c[o]%=1e7;for(r&&(c.unshift(r),++i),s=c.length;0==c[--s];)c.pop();return t.d=c,t.e=i,a?S(t,p):t}function m(e,t,r){if(e!==~~e||e<t||e>r)throw Error(l+e)}function g(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)(r=7-(n=e[t]+"").length)&&(a+=w(r)),a+=n;(r=7-(n=(o=e[t])+"").length)&&(a+=w(r))}else if(0===o)return"0";for(;o%10==0;)o/=10;return a+o}f.absoluteValue=f.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},f.comparedTo=f.cmp=function(e){var t,r,n,i;if(e=new this.constructor(e),this.s!==e.s)return this.s||-e.s;if(this.e!==e.e)return this.e>e.e^this.s<0?1:-1;for(t=0,r=(n=this.d.length)<(i=e.d.length)?n:i;t<r;++t)if(this.d[t]!==e.d[t])return this.d[t]>e.d[t]^this.s<0?1:-1;return n===i?0:n>i^this.s<0?1:-1},f.decimalPlaces=f.dp=function(){var e=this.d.length-1,t=(e-this.e)*7;if(e=this.d[e])for(;e%10==0;e/=10)t--;return t<0?0:t},f.dividedBy=f.div=function(e){return y(this,new this.constructor(e))},f.dividedToIntegerBy=f.idiv=function(e){var t=this.constructor;return S(y(this,new t(e),0,1),t.precision)},f.equals=f.eq=function(e){return!this.cmp(e)},f.exponent=function(){return b(this)},f.greaterThan=f.gt=function(e){return this.cmp(e)>0},f.greaterThanOrEqualTo=f.gte=function(e){return this.cmp(e)>=0},f.isInteger=f.isint=function(){return this.e>this.d.length-2},f.isNegative=f.isneg=function(){return this.s<0},f.isPositive=f.ispos=function(){return this.s>0},f.isZero=function(){return 0===this.s},f.lessThan=f.lt=function(e){return 0>this.cmp(e)},f.lessThanOrEqualTo=f.lte=function(e){return 1>this.cmp(e)},f.logarithm=f.log=function(e){var t,r=this.constructor,i=r.precision,l=i+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(n))throw Error(o+"NaN");if(this.s<1)throw Error(o+(this.s?"NaN":"-Infinity"));return this.eq(n)?new r(0):(a=!1,t=y(O(this,l),O(e,l),l),a=!0,S(t,i))},f.minus=f.sub=function(e){return e=new this.constructor(e),this.s==e.s?A(this,e):h(this,(e.s=-e.s,e))},f.modulo=f.mod=function(e){var t,r=this.constructor,n=r.precision;if(!(e=new r(e)).s)throw Error(o+"NaN");return this.s?(a=!1,t=y(this,e,0,1).times(e),a=!0,this.minus(t)):S(new r(this),n)},f.naturalExponential=f.exp=function(){return v(this)},f.naturalLogarithm=f.ln=function(){return O(this)},f.negated=f.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},f.plus=f.add=function(e){return e=new this.constructor(e),this.s==e.s?h(this,e):A(this,(e.s=-e.s,e))},f.precision=f.sd=function(e){var t,r,n;if(void 0!==e&&!!e!==e&&1!==e&&0!==e)throw Error(l+e);if(t=b(this)+1,r=7*(n=this.d.length-1)+1,n=this.d[n]){for(;n%10==0;n/=10)r--;for(n=this.d[0];n>=10;n/=10)r++}return e&&t>r?t:r},f.squareRoot=f.sqrt=function(){var e,t,r,n,i,l,s,u=this.constructor;if(this.s<1){if(!this.s)return new u(0);throw Error(o+"NaN")}for(e=b(this),a=!1,0==(i=Math.sqrt(+this))||i==1/0?(((t=g(this.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=c((e+1)/2)-(e<0||e%2),n=new u(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):n=new u(i.toString()),i=s=(r=u.precision)+3;;)if(n=(l=n).plus(y(this,l,s+2)).times(.5),g(l.d).slice(0,s)===(t=g(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&"4999"==t){if(S(l,r+1,0),l.times(l).eq(this)){n=l;break}}else if("9999"!=t)break;s+=4}return a=!0,S(n,r)},f.times=f.mul=function(e){var t,r,n,i,o,l,s,c,u,d=this.constructor,p=this.d,f=(e=new d(e)).d;if(!this.s||!e.s)return new d(0);for(e.s*=this.s,r=this.e+e.e,(c=p.length)<(u=f.length)&&(o=p,p=f,f=o,l=c,c=u,u=l),o=[],n=l=c+u;n--;)o.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)s=o[i]+f[n]*p[i-n-1]+t,o[i--]=s%1e7|0,t=s/1e7|0;o[i]=(o[i]+t)%1e7|0}for(;!o[--l];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,a?S(e,d.precision):e},f.toDecimalPlaces=f.todp=function(e,t){var r=this,n=r.constructor;return(r=new n(r),void 0===e)?r:(m(e,0,1e9),void 0===t?t=n.rounding:m(t,0,8),S(r,e+b(r)+1,t))},f.toExponential=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=j(n,!0):(m(e,0,1e9),void 0===t?t=i.rounding:m(t,0,8),r=j(n=S(new i(n),e+1,t),!0,e+1)),r},f.toFixed=function(e,t){var r,n,i=this.constructor;return void 0===e?j(this):(m(e,0,1e9),void 0===t?t=i.rounding:m(t,0,8),r=j((n=S(new i(this),e+b(this)+1,t)).abs(),!1,e+b(n)+1),this.isneg()&&!this.isZero()?"-"+r:r)},f.toInteger=f.toint=function(){var e=this.constructor;return S(new e(this),b(this)+1,e.rounding)},f.toNumber=function(){return+this},f.toPower=f.pow=function(e){var t,r,i,l,s,u,d=this,p=d.constructor,f=+(e=new p(e));if(!e.s)return new p(n);if(!(d=new p(d)).s){if(e.s<1)throw Error(o+"Infinity");return d}if(d.eq(n))return d;if(i=p.precision,e.eq(n))return S(d,i);if(u=(t=e.e)>=(r=e.d.length-1),s=d.s,u){if((r=f<0?-f:f)<=0x1fffffffffffff){for(l=new p(n),t=Math.ceil(i/7+4),a=!1;r%2&&_((l=l.times(d)).d,t),0!==(r=c(r/2));)_((d=d.times(d)).d,t);return a=!0,e.s<0?new p(n).div(l):S(l,i)}}else if(s<0)throw Error(o+"NaN");return s=s<0&&1&e.d[Math.max(t,r)]?-1:1,d.s=1,a=!1,l=e.times(O(d,i+12)),a=!0,(l=v(l)).s=s,l},f.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return void 0===e?(r=b(i),n=j(i,r<=a.toExpNeg||r>=a.toExpPos)):(m(e,1,1e9),void 0===t?t=a.rounding:m(t,0,8),r=b(i=S(new a(i),e,t)),n=j(i,e<=r||r<=a.toExpNeg,e)),n},f.toSignificantDigits=f.tosd=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(m(e,1,1e9),void 0===t?t=r.rounding:m(t,0,8)),S(new r(this),e,t)},f.toString=f.valueOf=f.val=f.toJSON=function(){var e=b(this),t=this.constructor;return j(this,e<=t.toExpNeg||e>=t.toExpPos)};var y=function(){function e(e,t){var r,n=0,i=e.length;for(e=e.slice();i--;)r=e[i]*t+n,e[i]=r%1e7|0,n=r/1e7|0;return n&&e.unshift(n),e}function t(e,t,r,n){var i,a;if(r!=n)a=r>n?1:-1;else for(i=a=0;i<r;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function r(e,t,r){for(var n=0;r--;)e[r]-=n,n=+(e[r]<t[r]),e[r]=1e7*n+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,i,a,l){var s,c,u,d,p,f,h,m,g,y,v,x,w,O,E,A,j,_,C=n.constructor,N=n.s==i.s?1:-1,T=n.d,I=i.d;if(!n.s)return new C(n);if(!i.s)throw Error(o+"Division by zero");for(u=0,c=n.e-i.e,j=I.length,E=T.length,m=(h=new C(N)).d=[];I[u]==(T[u]||0);)++u;if(I[u]>(T[u]||0)&&--c,(x=null==a?a=C.precision:l?a+(b(n)-b(i))+1:a)<0)return new C(0);if(x=x/7+2|0,u=0,1==j)for(d=0,I=I[0],x++;(u<E||d)&&x--;u++)w=1e7*d+(T[u]||0),m[u]=w/I|0,d=w%I|0;else{for((d=1e7/(I[0]+1)|0)>1&&(I=e(I,d),T=e(T,d),j=I.length,E=T.length),O=j,y=(g=T.slice(0,j)).length;y<j;)g[y++]=0;(_=I.slice()).unshift(0),A=I[0],I[1]>=1e7/2&&++A;do d=0,(s=t(I,g,j,y))<0?(v=g[0],j!=y&&(v=1e7*v+(g[1]||0)),(d=v/A|0)>1?(d>=1e7&&(d=1e7-1),f=(p=e(I,d)).length,y=g.length,1==(s=t(p,g,f,y))&&(d--,r(p,j<f?_:I,f))):(0==d&&(s=d=1),p=I.slice()),(f=p.length)<y&&p.unshift(0),r(g,p,y),-1==s&&(y=g.length,(s=t(I,g,j,y))<1&&(d++,r(g,j<y?_:I,y))),y=g.length):0===s&&(d++,g=[0]),m[u++]=d,s&&g[0]?g[y++]=T[O]||0:(g=[T[O]],y=1);while((O++<E||void 0!==g[0])&&x--)}return m[0]||m.shift(),h.e=c,S(h,l?a+b(h)+1:a)}}();function v(e,t){var r,i,o,l,c,d=0,p=0,f=e.constructor,h=f.precision;if(b(e)>16)throw Error(s+b(e));if(!e.s)return new f(n);for(null==t?(a=!1,c=h):c=t,l=new f(.03125);e.abs().gte(.1);)e=e.times(l),p+=5;for(c+=Math.log(u(2,p))/Math.LN10*2+5|0,r=i=o=new f(n),f.precision=c;;){if(i=S(i.times(e),c),r=r.times(++d),g((l=o.plus(y(i,r,c))).d).slice(0,c)===g(o.d).slice(0,c)){for(;p--;)o=S(o.times(o),c);return f.precision=h,null==t?(a=!0,S(o,h)):o}o=l}}function b(e){for(var t=7*e.e,r=e.d[0];r>=10;r/=10)t++;return t}function x(e,t,r){if(t>e.LN10.sd())throw a=!0,r&&(e.precision=r),Error(o+"LN10 precision limit exceeded");return S(new e(e.LN10),t)}function w(e){for(var t="";e--;)t+="0";return t}function O(e,t){var r,i,l,s,c,u,d,p,f,h=1,m=e,v=m.d,w=m.constructor,E=w.precision;if(m.s<1)throw Error(o+(m.s?"NaN":"-Infinity"));if(m.eq(n))return new w(0);if(null==t?(a=!1,p=E):p=t,m.eq(10))return null==t&&(a=!0),x(w,p);if(w.precision=p+=10,i=(r=g(v)).charAt(0),!(15e14>Math.abs(s=b(m))))return d=x(w,p+2,E).times(s+""),m=O(new w(i+"."+r.slice(1)),p-10).plus(d),w.precision=E,null==t?(a=!0,S(m,E)):m;for(;i<7&&1!=i||1==i&&r.charAt(1)>3;)i=(r=g((m=m.times(e)).d)).charAt(0),h++;for(s=b(m),i>1?(m=new w("0."+r),s++):m=new w(i+"."+r.slice(1)),u=c=m=y(m.minus(n),m.plus(n),p),f=S(m.times(m),p),l=3;;){if(c=S(c.times(f),p),g((d=u.plus(y(c,new w(l),p))).d).slice(0,p)===g(u.d).slice(0,p))return u=u.times(2),0!==s&&(u=u.plus(x(w,p+2,E).times(s+""))),u=y(u,new w(h),p),w.precision=E,null==t?(a=!0,S(u,E)):u;u=d,l+=2}}function E(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);)++n;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(n,i)){if(i-=n,e.e=c((r=r-n-1)/7),e.d=[],n=(r+1)%7,r<0&&(n+=7),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=7;n<i;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),a&&(e.e>p||e.e<-p))throw Error(s+r)}else e.s=0,e.e=0,e.d=[0];return e}function S(e,t,r){var n,i,o,l,d,f,h,m,g=e.d;for(l=1,o=g[0];o>=10;o/=10)l++;if((n=t-l)<0)n+=7,i=t,h=g[m=0];else{if((m=Math.ceil((n+1)/7))>=(o=g.length))return e;for(l=1,h=o=g[m];o>=10;o/=10)l++;n%=7,i=n-7+l}if(void 0!==r&&(d=h/(o=u(10,l-i-1))%10|0,f=t<0||void 0!==g[m+1]||h%o,f=r<4?(d||f)&&(0==r||r==(e.s<0?3:2)):d>5||5==d&&(4==r||f||6==r&&(n>0?i>0?h/u(10,l-i):0:g[m-1])%10&1||r==(e.s<0?8:7))),t<1||!g[0])return f?(o=b(e),g.length=1,t=t-o-1,g[0]=u(10,(7-t%7)%7),e.e=c(-t/7)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(0==n?(g.length=m,o=1,m--):(g.length=m+1,o=u(10,7-n),g[m]=i>0?(h/u(10,l-i)%u(10,i)|0)*o:0),f)for(;;)if(0==m){1e7==(g[0]+=o)&&(g[0]=1,++e.e);break}else{if(g[m]+=o,1e7!=g[m])break;g[m--]=0,o=1}for(n=g.length;0===g[--n];)g.pop();if(a&&(e.e>p||e.e<-p))throw Error(s+b(e));return e}function A(e,t){var r,n,i,o,l,s,c,u,d,p,f=e.constructor,h=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),a?S(t,h):t;if(c=e.d,p=t.d,n=t.e,u=e.e,c=c.slice(),l=u-n){for((d=l<0)?(r=c,l=-l,s=p.length):(r=p,n=u,s=c.length),l>(i=Math.max(Math.ceil(h/7),s)+2)&&(l=i,r.length=1),r.reverse(),i=l;i--;)r.push(0);r.reverse()}else{for((d=(i=c.length)<(s=p.length))&&(s=i),i=0;i<s;i++)if(c[i]!=p[i]){d=c[i]<p[i];break}l=0}for(d&&(r=c,c=p,p=r,t.s=-t.s),s=c.length,i=p.length-s;i>0;--i)c[s++]=0;for(i=p.length;i>l;){if(c[--i]<p[i]){for(o=i;o&&0===c[--o];)c[o]=1e7-1;--c[o],c[i]+=1e7}c[i]-=p[i]}for(;0===c[--s];)c.pop();for(;0===c[0];c.shift())--n;return c[0]?(t.d=c,t.e=n,a?S(t,h):t):new f(0)}function j(e,t,r){var n,i=b(e),a=g(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+w(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+w(-i-1)+a,r&&(n=r-o)>0&&(a+=w(n))):i>=o?(a+=w(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+w(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=w(n))),e.s<0?"-"+a:a}function _(e,t){if(e.length>t)return e.length=t,!0}function C(e){if(!e||"object"!=typeof e)throw Error(o+"Object expected");var t,r,n,i=["precision",1,1e9,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(n=e[r=i[t]]))if(c(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(l+r+": "+n);if(void 0!==(n=e[r="LN10"]))if(n==Math.LN10)this[r]=new this(n);else throw Error(l+r+": "+n);return this}if((i=function e(t){var r,n,i;function a(e){if(!(this instanceof a))return new a(e);if(this.constructor=a,e instanceof a){this.s=e.s,this.e=e.e,this.d=(e=e.d)?e.slice():e;return}if("number"==typeof e){if(0*e!=0)throw Error(l+e);if(e>0)this.s=1;else if(e<0)e=-e,this.s=-1;else{this.s=0,this.e=0,this.d=[0];return}if(e===~~e&&e<1e7){this.e=0,this.d=[e];return}return E(this,e.toString())}if("string"!=typeof e)throw Error(l+e);if(45===e.charCodeAt(0)?(e=e.slice(1),this.s=-1):this.s=1,d.test(e))E(this,e);else throw Error(l+e)}if(a.prototype=f,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=e,a.config=a.set=C,void 0===t&&(t={}),t)for(r=0,i=["precision","rounding","toExpNeg","toExpPos","LN10"];r<i.length;)t.hasOwnProperty(n=i[r++])||(t[n]=this[n]);return a.config(t),a}(i)).default=i.Decimal=i,n=new i(1),"function"==typeof define&&define.amd){let t;e.r,void 0!==(t=i)&&e.v(t)}else t.exports?t.exports=i:(r||(r="undefined"!=typeof self&&self&&self.self==self?self:Function("return this")()),r.Decimal=i)}(e.e)},78492,(e,t,r)=>{"use strict";var n=Object.prototype.hasOwnProperty,i="~";function a(){}function o(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function l(e,t,r,n,a){if("function"!=typeof r)throw TypeError("The listener must be a function");var l=new o(r,n||e,a),s=i?i+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],l]:e._events[s].push(l):(e._events[s]=l,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new a:delete e._events[t]}function c(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(i=!1)),c.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},c.prototype.listeners=function(e){var t=i?i+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,a=r.length,o=Array(a);n<a;n++)o[n]=r[n].fn;return o},c.prototype.listenerCount=function(e){var t=i?i+e:e,r=this._events[t];return r?r.fn?1:r.length:0},c.prototype.emit=function(e,t,r,n,a,o){var l=i?i+e:e;if(!this._events[l])return!1;var s,c,u=this._events[l],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,n),!0;case 5:return u.fn.call(u.context,t,r,n,a),!0;case 6:return u.fn.call(u.context,t,r,n,a,o),!0}for(c=1,s=Array(d-1);c<d;c++)s[c-1]=arguments[c];u.fn.apply(u.context,s)}else{var p,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,n);break;default:if(!s)for(p=1,s=Array(d-1);p<d;p++)s[p-1]=arguments[p];u[c].fn.apply(u[c].context,s)}}return!0},c.prototype.on=function(e,t,r){return l(this,e,t,r,!1)},c.prototype.once=function(e,t,r){return l(this,e,t,r,!0)},c.prototype.removeListener=function(e,t,r,n){var a=i?i+e:e;if(!this._events[a])return this;if(!t)return s(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||n&&!o.once||r&&o.context!==r||s(this,a);else{for(var l=0,c=[],u=o.length;l<u;l++)(o[l].fn!==t||n&&!o[l].once||r&&o[l].context!==r)&&c.push(o[l]);c.length?this._events[a]=1===c.length?c[0]:c:s(this,a)}return this},c.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&s(this,t)):(this._events=new a,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=i,c.EventEmitter=c,t.exports=c},78804,(e,t,r)=>{"use strict";var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.view_transition"),g=Symbol.for("react.client.reference");function y(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case a:case l:case o:case d:case p:case m:return e;default:switch(e=e&&e.$$typeof){case c:case u:case h:case f:case s:return e;default:return t}}case i:return t}}}r.ContextConsumer=s,r.ContextProvider=c,r.Element=n,r.ForwardRef=u,r.Fragment=a,r.Lazy=h,r.Memo=f,r.Portal=i,r.Profiler=l,r.StrictMode=o,r.Suspense=d,r.SuspenseList=p,r.isContextConsumer=function(e){return y(e)===s},r.isContextProvider=function(e){return y(e)===c},r.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},r.isForwardRef=function(e){return y(e)===u},r.isFragment=function(e){return y(e)===a},r.isLazy=function(e){return y(e)===h},r.isMemo=function(e){return y(e)===f},r.isPortal=function(e){return y(e)===i},r.isProfiler=function(e){return y(e)===l},r.isStrictMode=function(e){return y(e)===o},r.isSuspense=function(e){return y(e)===d},r.isSuspenseList=function(e){return y(e)===p},r.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===l||e===o||e===d||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===f||e.$$typeof===c||e.$$typeof===s||e.$$typeof===u||e.$$typeof===g||void 0!==e.getModuleId)||!1},r.typeOf=y},35313,(e,t,r)=>{"use strict";t.exports=e.r(78804)},18256,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isPlainObject=function(e){if("object"!=typeof e||null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){let t=e[Symbol.toStringTag];return null!=t&&!!Object.getOwnPropertyDescriptor(e,Symbol.toStringTag)?.writable&&e.toString()===`[object ${t}]`}let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},7328,(e,t,r)=>{t.exports=e.r(18256).isPlainObject},43210,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.last=function(e){return e[e.length-1]}},75576,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}},5518,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(43210),i=e.r(75576),a=e.r(69642);r.last=function(e){if(a.isArrayLike(e))return n.last(i.toArray(e))}},4178,(e,t,r)=>{t.exports=e.r(5518).last},10185,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.uniqBy=function(e,t){let r=new Map;for(let n=0;n<e.length;n++){let i=e[n],a=t(i);r.has(a)||r.set(a,i)}return Array.from(r.values())}},36074,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.identity=function(e){return e}},52603,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isObjectLike=function(e){return"object"==typeof e&&null!==e}},44936,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(69642),i=e.r(52603);r.isArrayLikeObject=function(e){return i.isObjectLike(e)&&n.isArrayLike(e)}},77473,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(18915);r.property=function(e){return function(t){return n.get(t,e)}}},75234,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isPrimitive=function(e){return null==e||"object"!=typeof e&&"function"!=typeof e}},44695,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(90820),i=e.r(75234),a=e.r(23855);function o(e,t,r,c){if(t===e)return!0;switch(typeof t){case"object":return function(e,t,r,n){if(null==t)return!0;if(Array.isArray(t))return l(e,t,r,n);if(t instanceof Map){var a=e,o=t,c=r,u=n;if(0===o.size)return!0;if(!(a instanceof Map))return!1;for(let[e,t]of o.entries())if(!1===c(a.get(e),t,e,a,o,u))return!1;return!0}if(t instanceof Set)return s(e,t,r,n);let d=Object.keys(t);if(null==e)return 0===d.length;if(0===d.length)return!0;if(n?.has(t))return n.get(t)===e;n?.set(t,e);try{for(let a=0;a<d.length;a++){let o=d[a];if(!i.isPrimitive(e)&&!(o in e)||void 0===t[o]&&void 0!==e[o]||null===t[o]&&null!==e[o]||!r(e[o],t[o],o,e,t,n))return!1}return!0}finally{n?.delete(t)}}(e,t,r,c);case"function":if(Object.keys(t).length>0)return o(e,{...t},r,c);return a.eq(e,t);default:if(!n.isObject(e))return a.eq(e,t);if("string"==typeof t)return""===t;return!0}}function l(e,t,r,n){if(0===t.length)return!0;if(!Array.isArray(e))return!1;let i=new Set;for(let a=0;a<t.length;a++){let o=t[a],l=!1;for(let s=0;s<e.length;s++){if(i.has(s))continue;let c=e[s],u=!1;if(r(c,o,a,e,t,n)&&(u=!0),u){i.add(s),l=!0;break}}if(!l)return!1}return!0}function s(e,t,r,n){return 0===t.size||e instanceof Set&&l([...e],[...t],r,n)}r.isMatchWith=function e(t,r,n){return"function"!=typeof n?e(t,r,()=>void 0):o(t,r,function e(t,r,i,a,l,s){let c=n(t,r,i,a,l,s);return void 0!==c?!!c:o(t,r,e,s)},new Map)},r.isSetMatch=s},3450,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(44695);r.isMatch=function(e,t){return n.isMatchWith(e,t,()=>void 0)}},9866,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}},23678,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}},55813,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.argumentsTag="[object Arguments]",r.arrayBufferTag="[object ArrayBuffer]",r.arrayTag="[object Array]",r.bigInt64ArrayTag="[object BigInt64Array]",r.bigUint64ArrayTag="[object BigUint64Array]",r.booleanTag="[object Boolean]",r.dataViewTag="[object DataView]",r.dateTag="[object Date]",r.errorTag="[object Error]",r.float32ArrayTag="[object Float32Array]",r.float64ArrayTag="[object Float64Array]",r.functionTag="[object Function]",r.int16ArrayTag="[object Int16Array]",r.int32ArrayTag="[object Int32Array]",r.int8ArrayTag="[object Int8Array]",r.mapTag="[object Map]",r.numberTag="[object Number]",r.objectTag="[object Object]",r.regexpTag="[object RegExp]",r.setTag="[object Set]",r.stringTag="[object String]",r.symbolTag="[object Symbol]",r.uint16ArrayTag="[object Uint16Array]",r.uint32ArrayTag="[object Uint32Array]",r.uint8ArrayTag="[object Uint8Array]",r.uint8ClampedArrayTag="[object Uint8ClampedArray]"},55424,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}},92348,(e,t,r)=>{"use strict";var n=e.i(67034);Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let i=e.r(9866),a=e.r(23678),o=e.r(55813),l=e.r(75234),s=e.r(55424);function c(e,t,r,i=new Map,d){let p=d?.(e,t,r,i);if(void 0!==p)return p;if(l.isPrimitive(e))return e;if(i.has(e))return i.get(e);if(Array.isArray(e)){let t=Array(e.length);i.set(e,t);for(let n=0;n<e.length;n++)t[n]=c(e[n],n,r,i,d);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){let t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){let t=new Map;for(let[n,a]of(i.set(e,t),e))t.set(n,c(a,n,r,i,d));return t}if(e instanceof Set){let t=new Set;for(let n of(i.set(e,t),e))t.add(c(n,void 0,r,i,d));return t}if(void 0!==n.Buffer&&n.Buffer.isBuffer(e))return e.subarray();if(s.isTypedArray(e)){let t=new(Object.getPrototypeOf(e)).constructor(e.length);i.set(e,t);for(let n=0;n<e.length;n++)t[n]=c(e[n],n,r,i,d);return t}if(e instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){let t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return i.set(e,t),u(t,e,r,i,d),t}if("undefined"!=typeof File&&e instanceof File){let t=new File([e],e.name,{type:e.type});return i.set(e,t),u(t,e,r,i,d),t}if("undefined"!=typeof Blob&&e instanceof Blob){let t=new Blob([e],{type:e.type});return i.set(e,t),u(t,e,r,i,d),t}if(e instanceof Error){let t=new e.constructor;return i.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,u(t,e,r,i,d),t}if(e instanceof Boolean){let t=new Boolean(e.valueOf());return i.set(e,t),u(t,e,r,i,d),t}if(e instanceof Number){let t=new Number(e.valueOf());return i.set(e,t),u(t,e,r,i,d),t}if(e instanceof String){let t=new String(e.valueOf());return i.set(e,t),u(t,e,r,i,d),t}if("object"==typeof e&&function(e){switch(a.getTag(e)){case o.argumentsTag:case o.arrayTag:case o.arrayBufferTag:case o.dataViewTag:case o.booleanTag:case o.dateTag:case o.float32ArrayTag:case o.float64ArrayTag:case o.int8ArrayTag:case o.int16ArrayTag:case o.int32ArrayTag:case o.mapTag:case o.numberTag:case o.objectTag:case o.regexpTag:case o.setTag:case o.stringTag:case o.symbolTag:case o.uint8ArrayTag:case o.uint8ClampedArrayTag:case o.uint16ArrayTag:case o.uint32ArrayTag:return!0;default:return!1}}(e)){let t=Object.create(Object.getPrototypeOf(e));return i.set(e,t),u(t,e,r,i,d),t}return e}function u(e,t,r=e,n,a){let o=[...Object.keys(t),...i.getSymbols(t)];for(let i=0;i<o.length;i++){let l=o[i],s=Object.getOwnPropertyDescriptor(e,l);(null==s||s.writable)&&(e[l]=c(t[l],l,r,n,a))}}r.cloneDeepWith=function(e,t){return c(e,void 0,e,new Map,t)},r.cloneDeepWithImpl=c,r.copyProperties=u},99510,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(92348);r.cloneDeep=function(e){return n.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}},67284,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(3450),i=e.r(99510);r.matches=function(e){return e=i.cloneDeep(e),t=>n.isMatch(t,e)}},68110,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(92348),i=e.r(55813);r.cloneDeepWith=function(e,t){return n.cloneDeepWith(e,(r,a,o,l)=>{let s=t?.(r,a,o,l);if(void 0!==s)return s;if("object"==typeof e)switch(Object.prototype.toString.call(e)){case i.numberTag:case i.stringTag:case i.booleanTag:{let t=new e.constructor(e?.valueOf());return n.copyProperties(t,e),t}case i.argumentsTag:{let t={};return n.copyProperties(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}})}},93141,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(68110);r.cloneDeep=function(e){return n.cloneDeepWith(e)}},17858,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(23678);r.isArguments=function(e){return null!==e&&"object"==typeof e&&"[object Arguments]"===n.getTag(e)}},56518,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(33858),i=e.r(5257),a=e.r(17858),o=e.r(79232);r.has=function(e,t){let r;if(0===(r=Array.isArray(t)?t:"string"==typeof t&&n.isDeepKey(t)&&e?.[t]==null?o.toPath(t):[t]).length)return!1;let l=e;for(let e=0;e<r.length;e++){let t=r[e];if((null==l||!Object.hasOwn(l,t))&&!((Array.isArray(l)||a.isArguments(l))&&i.isIndex(t)&&t<l.length))return!1;l=l[t]}return!0}},40656,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(3450),i=e.r(96736),a=e.r(93141),o=e.r(18915),l=e.r(56518);r.matchesProperty=function(e,t){switch(typeof e){case"object":Object.is(e?.valueOf(),-0)&&(e="-0");break;case"number":e=i.toKey(e)}return t=a.cloneDeep(t),function(r){let i=o.get(r,e);return void 0===i?l.has(r,e):void 0===t?void 0===i:n.isMatch(i,t)}}},27519,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(36074),i=e.r(77473),a=e.r(67284),o=e.r(40656);r.iteratee=function(e){if(null==e)return n.identity;switch(typeof e){case"function":return e;case"object":if(Array.isArray(e)&&2===e.length)return o.matchesProperty(e[0],e[1]);return a.matches(e);case"string":case"symbol":case"number":return i.property(e)}}},77008,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(10185),i=e.r(36074),a=e.r(44936),o=e.r(27519);r.uniqBy=function(e,t=i.identity){return a.isArrayLikeObject(e)?n.uniqBy(Array.from(e),o.iteratee(t)):[]}},92809,(e,t,r)=>{t.exports=e.r(77008).uniqBy},45500,e=>{"use strict";let t,r,n,i,a,o,l,s,c,u,d,p;var f,h,m,g,y,v,b,x,w,O,E,S,A,j,_,C,N,T,I,P,k,M,D,R,U,L,q,F,G,B,H,V,$,z,K,J,Y,W,X,Z,Q,ee,et,er,en,ei,ea,eo,el,es,ec,eu,ed,ep,ef,eh,em,eg,ey,ev,eb,ex,ew,eO,eE,eS,eA,ej,e_,eC,eN,eT,eI,eP,ek,eM,eD,eR,eU,eL,eq,eF,eG,eB,eH,eV,e$,ez,eK,eJ,eY,eW,eX,eZ,eQ,e0,e1,e2,e3,e4,e5,e6,e8,e7,e9,te,tt,tr,tn,ti,ta,to,tl,ts,tc,tu=e.i(43476),td=e.i(71645);e.i(47167);class tp{}function tf(e,t){return e.replace(/\{([^}]+)\}/g,(e,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){let e=t[r];return null!=e?String(e):""}throw Error(`Key '${r}' not found in valueMap.`)})}function th(e,t,r){for(let n=0;n<t.length-1;n++){let i=t[n];if(i.endsWith("[]")){let a=i.slice(0,-2);if(!(a in e))if(Array.isArray(r))e[a]=Array.from({length:r.length},()=>({}));else throw Error(`Value must be a list given an array path ${i}`);if(Array.isArray(e[a])){let i=e[a];if(Array.isArray(r))for(let e=0;e<i.length;e++)th(i[e],t.slice(n+1),r[e]);else for(let e of i)th(e,t.slice(n+1),r)}return}if(i.endsWith("[0]")){let a=i.slice(0,-3);a in e||(e[a]=[{}]),th(e[a][0],t.slice(n+1),r);return}e[i]&&"object"==typeof e[i]||(e[i]={}),e=e[i]}let n=t[t.length-1],i=e[n];if(void 0!==i){if(!r||"object"==typeof r&&0===Object.keys(r).length||r===i)return;if("object"==typeof i&&"object"==typeof r&&null!==i&&null!==r)Object.assign(i,r);else throw Error(`Cannot set value for an existing key. Key: ${n}`)}else"_self"!==n||"object"!=typeof r||null===r||Array.isArray(r)?e[n]=r:Object.assign(e,r)}function tm(e,t,r){try{if(1===t.length&&"_self"===t[0])return e;for(let n=0;n<t.length;n++){if("object"!=typeof e||null===e)return r;let i=t[n];if(i.endsWith("[]")){let a=i.slice(0,-2);if(!(a in e))return r;{let i=e[a];if(!Array.isArray(i))return r;return i.map(e=>tm(e,t.slice(n+1),r))}}e=e[i]}return e}catch(e){if(e instanceof TypeError)return r;throw e}}function tg(e){if("string"!=typeof e)throw Error("fromImageBytes must be a string");return e}(h=eh||(eh={})).OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",h.OUTCOME_OK="OUTCOME_OK",h.OUTCOME_FAILED="OUTCOME_FAILED",h.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED",(m=em||(em={})).LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",m.PYTHON="PYTHON",(g=eg||(eg={})).SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",g.SILENT="SILENT",g.WHEN_IDLE="WHEN_IDLE",g.INTERRUPT="INTERRUPT",(y=ey||(ey={})).TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",y.STRING="STRING",y.NUMBER="NUMBER",y.INTEGER="INTEGER",y.BOOLEAN="BOOLEAN",y.ARRAY="ARRAY",y.OBJECT="OBJECT",y.NULL="NULL",(v=ev||(ev={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",v.MODE_DYNAMIC="MODE_DYNAMIC",(b=eb||(eb={})).AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",b.NO_AUTH="NO_AUTH",b.API_KEY_AUTH="API_KEY_AUTH",b.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",b.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",b.OAUTH="OAUTH",b.OIDC_AUTH="OIDC_AUTH",(x=ex||(ex={})).API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",x.SIMPLE_SEARCH="SIMPLE_SEARCH",x.ELASTIC_SEARCH="ELASTIC_SEARCH",(w=ew||(ew={})).HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",w.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",w.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",w.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",w.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",w.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",w.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",w.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",w.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",w.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",w.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK",(O=eO||(eO={})).HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",O.SEVERITY="SEVERITY",O.PROBABILITY="PROBABILITY",(E=eE||(eE={})).HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",E.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",E.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",E.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",E.BLOCK_NONE="BLOCK_NONE",E.OFF="OFF",(S=eS||(eS={})).FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",S.STOP="STOP",S.MAX_TOKENS="MAX_TOKENS",S.SAFETY="SAFETY",S.RECITATION="RECITATION",S.LANGUAGE="LANGUAGE",S.OTHER="OTHER",S.BLOCKLIST="BLOCKLIST",S.PROHIBITED_CONTENT="PROHIBITED_CONTENT",S.SPII="SPII",S.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",S.IMAGE_SAFETY="IMAGE_SAFETY",S.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",S.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",S.NO_IMAGE="NO_IMAGE",(A=eA||(eA={})).HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",A.NEGLIGIBLE="NEGLIGIBLE",A.LOW="LOW",A.MEDIUM="MEDIUM",A.HIGH="HIGH",(j=ej||(ej={})).HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",j.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",j.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",j.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",j.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH",(_=e_||(e_={})).URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",_.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",_.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",_.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",_.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE",(C=eC||(eC={})).BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",C.SAFETY="SAFETY",C.OTHER="OTHER",C.BLOCKLIST="BLOCKLIST",C.PROHIBITED_CONTENT="PROHIBITED_CONTENT",C.IMAGE_SAFETY="IMAGE_SAFETY",C.MODEL_ARMOR="MODEL_ARMOR",C.JAILBREAK="JAILBREAK",(N=eN||(eN={})).TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",N.ON_DEMAND="ON_DEMAND",N.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT",(T=eT||(eT={})).MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",T.TEXT="TEXT",T.IMAGE="IMAGE",T.AUDIO="AUDIO",(I=eI||(eI={})).MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",I.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",I.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",I.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",(P=eP||(eP={})).TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",P.TUNING_MODE_FULL="TUNING_MODE_FULL",P.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER",(k=ek||(ek={})).ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",k.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",k.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",k.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",k.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",k.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",k.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO",(M=eM||(eM={})).JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",M.JOB_STATE_QUEUED="JOB_STATE_QUEUED",M.JOB_STATE_PENDING="JOB_STATE_PENDING",M.JOB_STATE_RUNNING="JOB_STATE_RUNNING",M.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",M.JOB_STATE_FAILED="JOB_STATE_FAILED",M.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",M.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",M.JOB_STATE_PAUSED="JOB_STATE_PAUSED",M.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",M.JOB_STATE_UPDATING="JOB_STATE_UPDATING",M.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED",(D=eD||(eD={})).TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",D.TUNING_TASK_I2V="TUNING_TASK_I2V",D.TUNING_TASK_T2V="TUNING_TASK_T2V",(R=eR||(eR={})).FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",R.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",R.BALANCED="BALANCED",R.PRIORITIZE_COST="PRIORITIZE_COST",(U=eU||(eU={})).UNSPECIFIED="UNSPECIFIED",U.BLOCKING="BLOCKING",U.NON_BLOCKING="NON_BLOCKING",(L=eL||(eL={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",L.MODE_DYNAMIC="MODE_DYNAMIC",(q=eq||(eq={})).ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",q.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER",(F=eF||(eF={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",F.AUTO="AUTO",F.ANY="ANY",F.NONE="NONE",F.VALIDATED="VALIDATED",(G=eG||(eG={})).BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",G.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",G.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",G.BLOCK_NONE="BLOCK_NONE",(B=eB||(eB={})).DONT_ALLOW="DONT_ALLOW",B.ALLOW_ADULT="ALLOW_ADULT",B.ALLOW_ALL="ALLOW_ALL",(H=eH||(eH={})).auto="auto",H.en="en",H.ja="ja",H.ko="ko",H.hi="hi",H.zh="zh",H.pt="pt",H.es="es",(V=eV||(eV={})).MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",V.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",V.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",V.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",V.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC",($=e$||(e$={})).CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",$.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",$.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",$.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH",(z=ez||(ez={})).SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",z.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",z.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",z.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT",(K=eK||(eK={})).EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",K.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",K.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",K.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",K.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",K.EDIT_MODE_STYLE="EDIT_MODE_STYLE",K.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",K.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE",(J=eJ||(eJ={})).FOREGROUND="FOREGROUND",J.BACKGROUND="BACKGROUND",J.PROMPT="PROMPT",J.SEMANTIC="SEMANTIC",J.INTERACTIVE="INTERACTIVE",(Y=eY||(eY={})).ASSET="ASSET",Y.STYLE="STYLE",(W=eW||(eW={})).INSERT="INSERT",W.REMOVE="REMOVE",W.REMOVE_STATIC="REMOVE_STATIC",W.OUTPAINT="OUTPAINT",(X=eX||(eX={})).OPTIMIZED="OPTIMIZED",X.LOSSLESS="LOSSLESS",(Z=eZ||(eZ={})).SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",Z.PREFERENCE_TUNING="PREFERENCE_TUNING",(Q=eQ||(eQ={})).STATE_UNSPECIFIED="STATE_UNSPECIFIED",Q.PROCESSING="PROCESSING",Q.ACTIVE="ACTIVE",Q.FAILED="FAILED",(ee=e0||(e0={})).SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",ee.UPLOADED="UPLOADED",ee.GENERATED="GENERATED",(et=e1||(e1={})).TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",et.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",et.RESPONSE_REJECTED="RESPONSE_REJECTED",et.NEED_MORE_INPUT="NEED_MORE_INPUT",(er=e2||(e2={})).MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",er.TEXT="TEXT",er.IMAGE="IMAGE",er.VIDEO="VIDEO",er.AUDIO="AUDIO",er.DOCUMENT="DOCUMENT",(en=e3||(e3={})).START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",en.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",en.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW",(ei=e4||(e4={})).END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",ei.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",ei.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW",(ea=e5||(e5={})).ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",ea.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",ea.NO_INTERRUPTION="NO_INTERRUPTION",(eo=e6||(e6={})).TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",eo.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",eo.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT",(el=e8||(e8={})).SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",el.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",el.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",el.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",el.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",el.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",el.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",el.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",el.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",el.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",el.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",el.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",el.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR",(es=e7||(e7={})).MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",es.QUALITY="QUALITY",es.DIVERSITY="DIVERSITY",es.VOCALIZATION="VOCALIZATION",(ec=e9||(e9={})).PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",ec.PLAY="PLAY",ec.PAUSE="PAUSE",ec.STOP="STOP",ec.RESET_CONTEXT="RESET_CONTEXT";class ty{constructor(e){const t={};for(const r of e.headers.entries())t[r[0]]=r[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class tv{get text(){var e,t,r,n,i,a,o,l;if((null==(n=null==(r=null==(t=null==(e=this.candidates)?void 0:e[0])?void 0:t.content)?void 0:r.parts)?void 0:n.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let s="",c=!1,u=[];for(let e of null!=(l=null==(o=null==(a=null==(i=this.candidates)?void 0:i[0])?void 0:a.content)?void 0:o.parts)?l:[]){for(let[t,r]of Object.entries(e))"text"!==t&&"thought"!==t&&(null!==r||void 0!==r)&&u.push(t);if("string"==typeof e.text){if("boolean"==typeof e.thought&&e.thought)continue;c=!0,s+=e.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?s:void 0}get data(){var e,t,r,n,i,a,o,l;if((null==(n=null==(r=null==(t=null==(e=this.candidates)?void 0:e[0])?void 0:t.content)?void 0:r.parts)?void 0:n.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let s="",c=[];for(let e of null!=(l=null==(o=null==(a=null==(i=this.candidates)?void 0:i[0])?void 0:a.content)?void 0:o.parts)?l:[]){for(let[t,r]of Object.entries(e))"inlineData"!==t&&(null!==r||void 0!==r)&&c.push(t);e.inlineData&&"string"==typeof e.inlineData.data&&(s+=atob(e.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}get functionCalls(){var e,t,r,n,i,a,o,l;if((null==(n=null==(r=null==(t=null==(e=this.candidates)?void 0:e[0])?void 0:t.content)?void 0:r.parts)?void 0:n.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");let s=null==(l=null==(o=null==(a=null==(i=this.candidates)?void 0:i[0])?void 0:a.content)?void 0:o.parts)?void 0:l.filter(e=>e.functionCall).map(e=>e.functionCall).filter(e=>void 0!==e);if((null==s?void 0:s.length)!==0)return s}get executableCode(){var e,t,r,n,i,a,o,l,s;if((null==(n=null==(r=null==(t=null==(e=this.candidates)?void 0:e[0])?void 0:t.content)?void 0:r.parts)?void 0:n.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");let c=null==(l=null==(o=null==(a=null==(i=this.candidates)?void 0:i[0])?void 0:a.content)?void 0:o.parts)?void 0:l.filter(e=>e.executableCode).map(e=>e.executableCode).filter(e=>void 0!==e);if((null==c?void 0:c.length)!==0)return null==(s=null==c?void 0:c[0])?void 0:s.code}get codeExecutionResult(){var e,t,r,n,i,a,o,l,s;if((null==(n=null==(r=null==(t=null==(e=this.candidates)?void 0:e[0])?void 0:t.content)?void 0:r.parts)?void 0:n.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");let c=null==(l=null==(o=null==(a=null==(i=this.candidates)?void 0:i[0])?void 0:a.content)?void 0:o.parts)?void 0:l.filter(e=>e.codeExecutionResult).map(e=>e.codeExecutionResult).filter(e=>void 0!==e);if((null==c?void 0:c.length)!==0)return null==(s=null==c?void 0:c[0])?void 0:s.output}}class tb{}class tx{}class tw{}class tO{}class tE{}class tS{}class tA{}class tj{}class t_{}class tC{}class tN{_fromAPIResponse({apiResponse:e,isVertexAI:t}){let r,n=new tN;if(t){let t,n,i,a,o,l;t={},null!=(n=tm(e,["name"]))&&th(t,["name"],n),null!=(i=tm(e,["metadata"]))&&th(t,["metadata"],i),null!=(a=tm(e,["done"]))&&th(t,["done"],a),null!=(o=tm(e,["error"]))&&th(t,["error"],o),null!=(l=tm(e,["response"]))&&th(t,["response"],function(e){let t={},r=tm(e,["videos"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>{var t;let r,n,i,a,o,l;return r={},null!=(n=tm(e,["_self"]))&&th(r,["video"],(i={},null!=(a=tm(t=n,["gcsUri"]))&&th(i,["uri"],a),null!=(o=tm(t,["bytesBase64Encoded"]))&&th(i,["videoBytes"],tg(o)),null!=(l=tm(t,["mimeType"]))&&th(i,["mimeType"],l),i)),r})),th(t,["generatedVideos"],e)}let n=tm(e,["raiMediaFilteredCount"]);null!=n&&th(t,["raiMediaFilteredCount"],n);let i=tm(e,["raiMediaFilteredReasons"]);return null!=i&&th(t,["raiMediaFilteredReasons"],i),t}(l)),r=t}else{let t,n,i,a,o,l;t={},null!=(n=tm(e,["name"]))&&th(t,["name"],n),null!=(i=tm(e,["metadata"]))&&th(t,["metadata"],i),null!=(a=tm(e,["done"]))&&th(t,["done"],a),null!=(o=tm(e,["error"]))&&th(t,["error"],o),null!=(l=tm(e,["response","generateVideoResponse"]))&&th(t,["response"],function(e){let t={},r=tm(e,["generatedSamples"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>{var t;let r,n,i,a,o,l;return r={},null!=(n=tm(e,["video"]))&&th(r,["video"],(i={},null!=(a=tm(t=n,["uri"]))&&th(i,["uri"],a),null!=(o=tm(t,["encodedVideo"]))&&th(i,["videoBytes"],tg(o)),null!=(l=tm(t,["encoding"]))&&th(i,["mimeType"],l),i)),r})),th(t,["generatedVideos"],e)}let n=tm(e,["raiMediaFilteredCount"]);null!=n&&th(t,["raiMediaFilteredCount"],n);let i=tm(e,["raiMediaFilteredReasons"]);return null!=i&&th(t,["raiMediaFilteredReasons"],i),t}(l)),r=t}return Object.assign(n,r),n}}class tT{}class tI{}class tP{}class tk{}class tM{}class tD{}class tR{}class tU{get text(){var e,t,r;let n="",i=!1,a=[];for(let o of null!=(r=null==(t=null==(e=this.serverContent)?void 0:e.modelTurn)?void 0:t.parts)?r:[]){for(let[e,t]of Object.entries(o))"text"!==e&&"thought"!==e&&null!==t&&a.push(e);if("string"==typeof o.text){if("boolean"==typeof o.thought&&o.thought)continue;i=!0,n+=o.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?n:void 0}get data(){var e,t,r;let n="",i=[];for(let a of null!=(r=null==(t=null==(e=this.serverContent)?void 0:e.modelTurn)?void 0:t.parts)?r:[]){for(let[e,t]of Object.entries(a))"inlineData"!==e&&null!==t&&i.push(e);a.inlineData&&"string"==typeof a.inlineData.data&&(n+=atob(a.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),n.length>0?btoa(n):void 0}}class tL{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}function tq(e,t){if(!t||"string"!=typeof t)throw Error("model is required and must be a string");if(e.isVertexAI())if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;else{if(!(t.indexOf("/")>=0))return`publishers/google/models/${t}`;let e=t.split("/",2);return`publishers/${e[0]}/models/${e[1]}`}return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function tF(e,t){let r=tq(e,t);return r?r.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${r}`:r.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${r}`:r:""}function tG(e){return Array.isArray(e)?e.map(e=>tB(e)):[tB(e)]}function tB(e){if("object"==typeof e&&null!==e)return e;throw Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function tH(e){let t=tB(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw Error(`Unsupported mime type: ${t.mimeType}`)}function tV(e){let t=tB(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw Error(`Unsupported mime type: ${t.mimeType}`)}function t$(e){if(null==e)throw Error("PartUnion is required");if("object"==typeof e)return e;if("string"==typeof e)return{text:e};throw Error(`Unsupported part type: ${typeof e}`)}function tz(e){if(null==e||Array.isArray(e)&&0===e.length)throw Error("PartListUnion is required");return Array.isArray(e)?e.map(e=>t$(e)):[t$(e)]}function tK(e){return null!=e&&"object"==typeof e&&"parts"in e&&Array.isArray(e.parts)}function tJ(e){return null!=e&&"object"==typeof e&&"functionCall"in e}function tY(e){return null!=e&&"object"==typeof e&&"functionResponse"in e}function tW(e){if(null==e)throw Error("ContentUnion is required");return tK(e)?e:{role:"user",parts:tz(e)}}function tX(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(e=>{let t=tW(e);return t.parts&&t.parts.length>0&&void 0!==t.parts[0].text?[t.parts[0].text]:[]});if(e.isVertexAI()){let e=tW(t);return e.parts&&e.parts.length>0&&void 0!==e.parts[0].text?[e.parts[0].text]:[]}return Array.isArray(t)?t.map(e=>tW(e)):[tW(t)]}function tZ(e){if(null==e||Array.isArray(e)&&0===e.length)throw Error("contents are required");if(!Array.isArray(e)){if(tJ(e)||tY(e))throw Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[tW(e)]}let t=[],r=[],n=tK(e[0]);for(let i of e){let e=tK(i);if(e!=n)throw Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(e)t.push(i);else if(tJ(i)||tY(i))throw Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");else r.push(i)}return n||t.push({role:"user",parts:tz(r)}),t}function tQ(e){let t={},r=["items"],n=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw Error("type and anyOf cannot be both populated.");let a=e.anyOf;for(let[o,l]of(null!=a&&2==a.length&&("null"===a[0].type?(t.nullable=!0,e=a[1]):"null"===a[1].type&&(t.nullable=!0,e=a[0])),e.type instanceof Array&&function(e,t){e.includes("null")&&(t.nullable=!0);let r=e.filter(e=>"null"!==e);if(1===r.length)t.type=Object.values(ey).includes(r[0].toUpperCase())?r[0].toUpperCase():ey.TYPE_UNSPECIFIED;else for(let e of(t.anyOf=[],r))t.anyOf.push({type:Object.values(ey).includes(e.toUpperCase())?e.toUpperCase():ey.TYPE_UNSPECIFIED})}(e.type,t),Object.entries(e)))if(null!=l)if("type"==o){if("null"===l)throw Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;t.type=Object.values(ey).includes(l.toUpperCase())?l.toUpperCase():ey.TYPE_UNSPECIFIED}else if(r.includes(o))t[o]=tQ(l);else if(n.includes(o)){let e=[];for(let r of l){if("null"==r.type){t.nullable=!0;continue}e.push(tQ(r))}t[o]=e}else if(i.includes(o)){let e={};for(let[t,r]of Object.entries(l))e[t]=tQ(r);t[o]=e}else{if("additionalProperties"===o)continue;t[o]=l}return t}function t0(e){if("object"==typeof e)return e;if("string"==typeof e)return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw Error(`Unsupported speechConfig type: ${typeof e}`)}function t1(e){if("multiSpeakerVoiceConfig"in e)throw Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function t2(e){if(e.functionDeclarations)for(let t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=tQ(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=tQ(t.response));return e}function t3(e){if(null==e)throw Error("tools is required");if(!Array.isArray(e))throw Error("tools is required and must be an array of Tools");let t=[];for(let r of e)t.push(r);return t}function t4(e,t){if("string"!=typeof t)throw Error("name must be a string");return function(e,t,r,n=1){let i=!t.startsWith(`${r}/`)&&t.split("/").length===n;if(e.isVertexAI())if(t.startsWith("projects/"))return t;else if(t.startsWith("locations/"))return`projects/${e.getProject()}/${t}`;else if(t.startsWith(`${r}/`))return`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`;else if(i)return`projects/${e.getProject()}/locations/${e.getLocation()}/${r}/${t}`;else return t;return i?`${r}/${t}`:t}(e,t,"cachedContents")}function t5(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function t6(e){var t;let r;if(null!=e&&"object"==typeof e&&"name"in e&&(r=e.name),null==e||"object"!=typeof e||!("uri"in e)||void 0!==(r=e.uri)){if(null==e||"object"!=typeof e||!("video"in e)||void 0!==(r=null==(t=e.video)?void 0:t.uri)){if("string"==typeof e&&(r=e),void 0===r)throw Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){let e=r.split("files/")[1].match(/[a-z0-9]+/);if(null===e)throw Error(`Could not extract file name from URI ${r}`);r=e[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}}function t8(e,t){return e.isVertexAI()?t?"publishers/google/models":"models":t?"models":"tunedModels"}function t7(e){for(let n of["models","tunedModels","publisherModels"]){var t,r;if(t=e,r=n,null!==t&&"object"==typeof t&&r in t)return e[n]}return[]}function t9(e,t){let r;if("string"==typeof t)if(e.isVertexAI())if(t.startsWith("gs://"))r={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))r={format:"bigquery",bigqueryUri:t};else throw Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))r={fileName:t};else throw Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw Error("InlinedRequest[] is not supported in Vertex AI.");r={inlinedRequests:t}}else r=t;let n=[r.gcsUri,r.bigqueryUri].filter(Boolean).length,i=[r.inlinedRequests,r.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||1!==n)throw Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(n>0||1!==i)throw Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return r}function re(e){if("object"!=typeof e||null===e)return{};let t=e.inlinedResponses;if("object"!=typeof t||null===t)return e;let r=t.inlinedResponses;if(!Array.isArray(r)||0===r.length)return e;let n=!1;for(let e of r){if("object"!=typeof e||null===e)continue;let t=e.response;if("object"==typeof t&&null!==t&&void 0!==t.embedding){n=!0;break}}return n&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),e}function rt(e,t){if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw Error(`Invalid batch job name: ${t}.`)}function rr(e){if("BATCH_STATE_UNSPECIFIED"===e)return"JOB_STATE_UNSPECIFIED";if("BATCH_STATE_PENDING"===e)return"JOB_STATE_PENDING";if("BATCH_STATE_RUNNING"===e)return"JOB_STATE_RUNNING";if("BATCH_STATE_SUCCEEDED"===e)return"JOB_STATE_SUCCEEDED";if("BATCH_STATE_FAILED"===e)return"JOB_STATE_FAILED";else if("BATCH_STATE_CANCELLED"===e)return"JOB_STATE_CANCELLED";else if("BATCH_STATE_EXPIRED"===e)return"JOB_STATE_EXPIRED";else return e}function rn(e){let t={},r=tm(e,["name"]);null!=r&&th(t,["name"],r);let n=tm(e,["metadata","displayName"]);null!=n&&th(t,["displayName"],n);let i=tm(e,["metadata","state"]);null!=i&&th(t,["state"],rr(i));let a=tm(e,["metadata","createTime"]);null!=a&&th(t,["createTime"],a);let o=tm(e,["metadata","endTime"]);null!=o&&th(t,["endTime"],o);let l=tm(e,["metadata","updateTime"]);null!=l&&th(t,["updateTime"],l);let s=tm(e,["metadata","model"]);null!=s&&th(t,["model"],s);let c=tm(e,["metadata","output"]);return null!=c&&th(t,["dest"],function(e){let t={},r=tm(e,["responsesFile"]);null!=r&&th(t,["fileName"],r);let n=tm(e,["inlinedResponses","inlinedResponses"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>{var t;let r,n,i;return r={},null!=(n=tm(t=e,["response"]))&&th(r,["response"],function(e){let t={},r=tm(e,["sdkHttpResponse"]);null!=r&&th(t,["sdkHttpResponse"],r);let n=tm(e,["candidates"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>(function(e){let t={},r=tm(e,["content"]);null!=r&&th(t,["content"],r);let n=tm(e,["citationMetadata"]);null!=n&&th(t,["citationMetadata"],function(e){let t={},r=tm(e,["citationSources"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),th(t,["citations"],e)}return t}(n));let i=tm(e,["tokenCount"]);null!=i&&th(t,["tokenCount"],i);let a=tm(e,["finishReason"]);null!=a&&th(t,["finishReason"],a);let o=tm(e,["avgLogprobs"]);null!=o&&th(t,["avgLogprobs"],o);let l=tm(e,["groundingMetadata"]);null!=l&&th(t,["groundingMetadata"],l);let s=tm(e,["index"]);null!=s&&th(t,["index"],s);let c=tm(e,["logprobsResult"]);null!=c&&th(t,["logprobsResult"],c);let u=tm(e,["safetyRatings"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>e)),th(t,["safetyRatings"],e)}let d=tm(e,["urlContextMetadata"]);return null!=d&&th(t,["urlContextMetadata"],d),t})(e))),th(t,["candidates"],e)}let i=tm(e,["modelVersion"]);null!=i&&th(t,["modelVersion"],i);let a=tm(e,["promptFeedback"]);null!=a&&th(t,["promptFeedback"],a);let o=tm(e,["responseId"]);null!=o&&th(t,["responseId"],o);let l=tm(e,["usageMetadata"]);return null!=l&&th(t,["usageMetadata"],l),t}(n)),null!=(i=tm(t,["error"]))&&th(r,["error"],i),r})),th(t,["inlinedResponses"],e)}let i=tm(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),th(t,["inlinedEmbedContentResponses"],e)}return t}(re(c))),t}function ri(e){var t,r;let n,i,a,o,l,s,c,u,d={},p=tm(e,["name"]);null!=p&&th(d,["name"],p);let f=tm(e,["displayName"]);null!=f&&th(d,["displayName"],f);let h=tm(e,["state"]);null!=h&&th(d,["state"],rr(h));let m=tm(e,["error"]);null!=m&&th(d,["error"],m);let g=tm(e,["createTime"]);null!=g&&th(d,["createTime"],g);let y=tm(e,["startTime"]);null!=y&&th(d,["startTime"],y);let v=tm(e,["endTime"]);null!=v&&th(d,["endTime"],v);let b=tm(e,["updateTime"]);null!=b&&th(d,["updateTime"],b);let x=tm(e,["model"]);null!=x&&th(d,["model"],x);let w=tm(e,["inputConfig"]);null!=w&&th(d,["src"],(n={},null!=(i=tm(r=w,["instancesFormat"]))&&th(n,["format"],i),null!=(a=tm(r,["gcsSource","uris"]))&&th(n,["gcsUri"],a),null!=(o=tm(r,["bigquerySource","inputUri"]))&&th(n,["bigqueryUri"],o),n));let O=tm(e,["outputConfig"]);return null!=O&&th(d,["dest"],(t=re(O),l={},null!=(s=tm(t,["predictionsFormat"]))&&th(l,["format"],s),null!=(c=tm(t,["gcsDestination","outputUriPrefix"]))&&th(l,["gcsUri"],c),null!=(u=tm(t,["bigqueryDestination","outputUri"]))&&th(l,["bigqueryUri"],u),l)),d}function ra(e){let t={},r=tm(e,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>{var t;let r,n,i,a,o,l,s,c,u,d,p;return r={},null!=(n=tm(t=e,["functionCall"]))&&th(r,["functionCall"],n),null!=(i=tm(t,["codeExecutionResult"]))&&th(r,["codeExecutionResult"],i),null!=(a=tm(t,["executableCode"]))&&th(r,["executableCode"],a),null!=(o=tm(t,["fileData"]))&&th(r,["fileData"],function(e){let t={};if(void 0!==tm(e,["displayName"]))throw Error("displayName parameter is not supported in Gemini API.");let r=tm(e,["fileUri"]);null!=r&&th(t,["fileUri"],r);let n=tm(e,["mimeType"]);return null!=n&&th(t,["mimeType"],n),t}(o)),null!=(l=tm(t,["functionResponse"]))&&th(r,["functionResponse"],l),null!=(s=tm(t,["inlineData"]))&&th(r,["inlineData"],function(e){let t={},r=tm(e,["data"]);if(null!=r&&th(t,["data"],r),void 0!==tm(e,["displayName"]))throw Error("displayName parameter is not supported in Gemini API.");let n=tm(e,["mimeType"]);return null!=n&&th(t,["mimeType"],n),t}(s)),null!=(c=tm(t,["text"]))&&th(r,["text"],c),null!=(u=tm(t,["thought"]))&&th(r,["thought"],u),null!=(d=tm(t,["thoughtSignature"]))&&th(r,["thoughtSignature"],d),null!=(p=tm(t,["videoMetadata"]))&&th(r,["videoMetadata"],p),r})),th(t,["parts"],e)}let n=tm(e,["role"]);return null!=n&&th(t,["role"],n),t}function ro(e,t){let r={},n=tm(t,["model"]);null!=n&&th(r,["_url","model"],tq(e,n));let i=tm(t,["src"]);null!=i&&th(r,["batch","inputConfig"],function(e,t){let r={};if(void 0!==tm(t,["format"]))throw Error("format parameter is not supported in Gemini API.");if(void 0!==tm(t,["gcsUri"]))throw Error("gcsUri parameter is not supported in Gemini API.");if(void 0!==tm(t,["bigqueryUri"]))throw Error("bigqueryUri parameter is not supported in Gemini API.");let n=tm(t,["fileName"]);null!=n&&th(r,["fileName"],n);let i=tm(t,["inlinedRequests"]);if(null!=i){let t=i;Array.isArray(t)&&(t=t.map(t=>(function(e,t){let r={},n=tm(t,["model"]);null!=n&&th(r,["request","model"],tq(e,n));let i=tm(t,["contents"]);if(null!=i){let e=tZ(i);Array.isArray(e)&&(e=e.map(e=>ra(e))),th(r,["request","contents"],e)}let a=tm(t,["metadata"]);null!=a&&th(r,["metadata"],a);let o=tm(t,["config"]);return null!=o&&th(r,["request","generationConfig"],function(e,t,r){let n={},i=tm(t,["systemInstruction"]);void 0!==r&&null!=i&&th(r,["systemInstruction"],ra(tW(i)));let a=tm(t,["temperature"]);null!=a&&th(n,["temperature"],a);let o=tm(t,["topP"]);null!=o&&th(n,["topP"],o);let l=tm(t,["topK"]);null!=l&&th(n,["topK"],l);let s=tm(t,["candidateCount"]);null!=s&&th(n,["candidateCount"],s);let c=tm(t,["maxOutputTokens"]);null!=c&&th(n,["maxOutputTokens"],c);let u=tm(t,["stopSequences"]);null!=u&&th(n,["stopSequences"],u);let d=tm(t,["responseLogprobs"]);null!=d&&th(n,["responseLogprobs"],d);let p=tm(t,["logprobs"]);null!=p&&th(n,["logprobs"],p);let f=tm(t,["presencePenalty"]);null!=f&&th(n,["presencePenalty"],f);let h=tm(t,["frequencyPenalty"]);null!=h&&th(n,["frequencyPenalty"],h);let m=tm(t,["seed"]);null!=m&&th(n,["seed"],m);let g=tm(t,["responseMimeType"]);null!=g&&th(n,["responseMimeType"],g);let y=tm(t,["responseSchema"]);null!=y&&th(n,["responseSchema"],tQ(y));let v=tm(t,["responseJsonSchema"]);if(null!=v&&th(n,["responseJsonSchema"],v),void 0!==tm(t,["routingConfig"]))throw Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==tm(t,["modelSelectionConfig"]))throw Error("modelSelectionConfig parameter is not supported in Gemini API.");let b=tm(t,["safetySettings"]);if(void 0!==r&&null!=b){let e=b;Array.isArray(e)&&(e=e.map(e=>(function(e){let t={},r=tm(e,["category"]);if(null!=r&&th(t,["category"],r),void 0!==tm(e,["method"]))throw Error("method parameter is not supported in Gemini API.");let n=tm(e,["threshold"]);return null!=n&&th(t,["threshold"],n),t})(e))),th(r,["safetySettings"],e)}let x=tm(t,["tools"]);if(void 0!==r&&null!=x){let e=t3(x);Array.isArray(e)&&(e=e.map(e=>(function(e){let t={},r=tm(e,["functionDeclarations"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),th(t,["functionDeclarations"],e)}if(void 0!==tm(e,["retrieval"]))throw Error("retrieval parameter is not supported in Gemini API.");let n=tm(e,["googleSearchRetrieval"]);null!=n&&th(t,["googleSearchRetrieval"],n);let i=tm(e,["googleMaps"]);null!=i&&th(t,["googleMaps"],function(e){let t={};if(void 0!==tm(e,["authConfig"]))throw Error("authConfig parameter is not supported in Gemini API.");let r=tm(e,["enableWidget"]);return null!=r&&th(t,["enableWidget"],r),t}(i));let a=tm(e,["computerUse"]);null!=a&&th(t,["computerUse"],a);let o=tm(e,["codeExecution"]);if(null!=o&&th(t,["codeExecution"],o),void 0!==tm(e,["enterpriseWebSearch"]))throw Error("enterpriseWebSearch parameter is not supported in Gemini API.");let l=tm(e,["googleSearch"]);null!=l&&th(t,["googleSearch"],function(e){let t={};if(void 0!==tm(e,["excludeDomains"]))throw Error("excludeDomains parameter is not supported in Gemini API.");let r=tm(e,["timeRangeFilter"]);return null!=r&&th(t,["timeRangeFilter"],r),t}(l));let s=tm(e,["urlContext"]);return null!=s&&th(t,["urlContext"],s),t})(t2(e)))),th(r,["tools"],e)}let w=tm(t,["toolConfig"]);if(void 0!==r&&null!=w&&th(r,["toolConfig"],w),void 0!==tm(t,["labels"]))throw Error("labels parameter is not supported in Gemini API.");let O=tm(t,["cachedContent"]);void 0!==r&&null!=O&&th(r,["cachedContent"],t4(e,O));let E=tm(t,["responseModalities"]);null!=E&&th(n,["responseModalities"],E);let S=tm(t,["mediaResolution"]);null!=S&&th(n,["mediaResolution"],S);let A=tm(t,["speechConfig"]);if(null!=A&&th(n,["speechConfig"],t0(A)),void 0!==tm(t,["audioTimestamp"]))throw Error("audioTimestamp parameter is not supported in Gemini API.");let j=tm(t,["thinkingConfig"]);null!=j&&th(n,["thinkingConfig"],j);let _=tm(t,["imageConfig"]);return null!=_&&th(n,["imageConfig"],_),n}(e,o,tm(r,["request"],{}))),r})(e,t))),th(r,["requests","requests"],t)}return r}(e,t9(e,i)));let a=tm(t,["config"]);return null!=a&&function(e,t){let r=tm(e,["displayName"]);if(void 0!==t&&null!=r&&th(t,["batch","displayName"],r),void 0!==tm(e,["dest"]))throw Error("dest parameter is not supported in Gemini API.")}(a,r),r}(eu=te||(te={})).PAGED_ITEM_BATCH_JOBS="batchJobs",eu.PAGED_ITEM_MODELS="models",eu.PAGED_ITEM_TUNING_JOBS="tuningJobs",eu.PAGED_ITEM_FILES="files",eu.PAGED_ITEM_CACHED_CONTENTS="cachedContents",eu.PAGED_ITEM_RAG_STORES="ragStores",eu.PAGED_ITEM_DOCUMENTS="documents";class rl{constructor(e,t,r,n){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,r,n)}init(e,t,r){var n,i;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=null==t?void 0:t.sdkHttpResponse,this.idxInternal=0;let a={config:{}};(a=r&&0!==Object.keys(r).length?"object"==typeof r?Object.assign({},r):r:{config:{}}).config&&(a.config.pageToken=t.nextPageToken),this.paramsInternal=a,this.pageInternalSize=null!=(i=null==(n=a.config)?void 0:n.pageSize)?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(!this.hasNextPage())return{value:void 0,done:!0};else await this.nextPage();let e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw Error("No more pages to fetch.");let e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return(null==(e=this.params.config)?void 0:e.pageToken)!==void 0}}class rs extends tp{constructor(e){super(),this.apiClient=e,this.create=async e=>(this.apiClient.isVertexAI()&&(e.config=this.formatDestination(e.src,e.config)),this.createInternal(e)),this.createEmbeddings=async e=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(e)},this.list=async(e={})=>new rl(te.PAGED_ITEM_BATCH_JOBS,e=>this.listInternal(e),await this.listInternal(e),e)}createInlinedGenerateContentRequest(e){let t=ro(this.apiClient,e),r=tf("{model}:batchGenerateContent",t._url),n=t.batch.inputConfig.requests,i=n.requests,a=[];for(let e of i){let t=Object.assign({},e);if(t.systemInstruction){let e=t.systemInstruction;delete t.systemInstruction;let r=t.request;r.systemInstruction=e,t.request=r}a.push(t)}return n.requests=a,delete t.config,delete t._url,delete t._query,{path:r,body:t}}getGcsUri(e){return"string"==typeof e?e.startsWith("gs://")?e:void 0:!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0?e.gcsUri[0]:void 0}getBigqueryUri(e){return"string"==typeof e?e.startsWith("bq://")?e:void 0:Array.isArray(e)?void 0:e.bigqueryUri}formatDestination(e,t){let r=t?Object.assign({},t):{},n=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${n}`),void 0===r.dest){let t=this.getGcsUri(e),i=this.getBigqueryUri(e);if(t)t.endsWith(".jsonl")?r.dest=`${t.slice(0,-6)}/dest`:r.dest=`${t}_dest_${n}`;else if(i)r.dest=`${i}_dest_${n}`;else throw Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var t,r,n,i,a;let o="",l={};if(this.apiClient.isVertexAI()){let n,i,s,c,u,d,p=(a=this.apiClient,n={},null!=(i=tm(e,["model"]))&&th(n,["model"],tq(a,i)),null!=(s=tm(e,["src"]))&&th(n,["inputConfig"],function(e){let t={},r=tm(e,["format"]);null!=r&&th(t,["instancesFormat"],r);let n=tm(e,["gcsUri"]);null!=n&&th(t,["gcsSource","uris"],n);let i=tm(e,["bigqueryUri"]);if(null!=i&&th(t,["bigquerySource","inputUri"],i),void 0!==tm(e,["fileName"]))throw Error("fileName parameter is not supported in Vertex AI.");if(void 0!==tm(e,["inlinedRequests"]))throw Error("inlinedRequests parameter is not supported in Vertex AI.");return t}(t9(a,s))),null!=(c=tm(e,["config"]))&&(u=tm(c,["displayName"]),void 0!==n&&null!=u&&th(n,["displayName"],u),d=tm(c,["dest"]),void 0!==n&&null!=d&&th(n,["outputConfig"],function(e){let t={},r=tm(e,["format"]);null!=r&&th(t,["predictionsFormat"],r);let n=tm(e,["gcsUri"]);null!=n&&th(t,["gcsDestination","outputUriPrefix"],n);let i=tm(e,["bigqueryUri"]);if(null!=i&&th(t,["bigqueryDestination","outputUri"],i),void 0!==tm(e,["fileName"]))throw Error("fileName parameter is not supported in Vertex AI.");if(void 0!==tm(e,["inlinedResponses"]))throw Error("inlinedResponses parameter is not supported in Vertex AI.");if(void 0!==tm(e,["inlinedEmbedContentResponses"]))throw Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}(function(e){if("string"!=typeof e)return e;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw Error(`Unsupported destination: ${e}`)}(d)))),n);return o=tf("batchPredictionJobs",p._url),l=p._query,delete p._url,delete p._query,this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(p),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>ri(e))}{let t=ro(this.apiClient,e);return o=tf("{model}:batchGenerateContent",t._url),l=t._query,delete t._url,delete t._query,this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal}).then(e=>e.json()).then(e=>rn(e))}}async createEmbeddingsInternal(e){var t,r,n,i,a;let o="",l={};if(this.apiClient.isVertexAI())throw Error("This method is only supported by the Gemini Developer API.");{let s,c,u,d,p,f,h,m,g=(n=this.apiClient,d={},null!=(p=tm(e,["model"]))&&th(d,["_url","model"],tq(n,p)),null!=(f=tm(e,["src"]))&&th(d,["batch","inputConfig"],(i=n,s={},null!=(c=tm(a=f,["fileName"]))&&th(s,["file_name"],c),null!=(u=tm(a,["inlinedRequests"]))&&th(s,["requests"],function(e,t){let r={},n=tm(t,["contents"]);if(null!=n){let t=tX(e,n);Array.isArray(t)&&(t=t.map(e=>e)),th(r,["requests[]","request","content"],t)}let i=tm(t,["config"]);return null!=i&&(th(r,["_self"],function(e,t){let r=tm(e,["taskType"]);void 0!==t&&null!=r&&th(t,["requests[]","taskType"],r);let n=tm(e,["title"]);void 0!==t&&null!=n&&th(t,["requests[]","title"],n);let i=tm(e,["outputDimensionality"]);if(void 0!==t&&null!=i&&th(t,["requests[]","outputDimensionality"],i),void 0!==tm(e,["mimeType"]))throw Error("mimeType parameter is not supported in Gemini API.");if(void 0!==tm(e,["autoTruncate"]))throw Error("autoTruncate parameter is not supported in Gemini API.");return{}}(i,r)),!function(e,t){for(let[r,n]of Object.entries(t)){let t=r.split("."),i=n.split("."),a=new Set,o=-1;for(let e=0;e<t.length;e++)if("*"===t[e]){o=e;break}if(-1!==o&&i.length>o)for(let e=o;e<i.length;e++){let t=i[e];"*"===t||t.endsWith("[]")||t.endsWith("[0]")||a.add(t)}!function e(t,r,n,i,a){if(i>=r.length||"object"!=typeof t||null===t)return;let o=r[i];if(o.endsWith("[]")){let l=o.slice(0,-2);if(l in t&&Array.isArray(t[l]))for(let o of t[l])e(o,r,n,i+1,a)}else if("*"===o){if("object"==typeof t&&null!==t&&!Array.isArray(t)){let e=Object.keys(t).filter(e=>!e.startsWith("_")&&!a.has(e)),r={};for(let n of e)r[n]=t[n];for(let[e,a]of Object.entries(r)){let r=[];for(let t of n.slice(i))"*"===t?r.push(e):r.push(t);th(t,r,a)}for(let r of e)delete t[r]}}else o in t&&e(t[o],r,n,i+1,a)}(e,t,i,0,a)}}(r,{"requests[].*":"requests[].request.*"})),r}(i,u)),s)),null!=(h=tm(e,["config"]))&&(m=tm(h,["displayName"]),void 0!==d&&null!=m&&th(d,["batch","displayName"],m)),d);return o=tf("{model}:asyncBatchEmbedContent",g._url),l=g._query,delete g._url,delete g._query,this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(g),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>rn(e))}}async get(e){var t,r,n,i,a,o;let l="",s={};if(this.apiClient.isVertexAI()){let n,i,o=(a=this.apiClient,n={},null!=(i=tm(e,["name"]))&&th(n,["_url","name"],rt(a,i)),n);return l=tf("batchPredictionJobs/{name}",o._url),s=o._query,delete o._url,delete o._query,this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>ri(e))}{let t,r,a=(o=this.apiClient,t={},null!=(r=tm(e,["name"]))&&th(t,["_url","name"],rt(o,r)),t);return l=tf("batches/{name}",a._url),s=a._query,delete a._url,delete a._query,this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal}).then(e=>e.json()).then(e=>rn(e))}}async cancel(e){var t,r,n,i,a,o;let l="",s={};if(this.apiClient.isVertexAI()){let n,i,o=(a=this.apiClient,n={},null!=(i=tm(e,["name"]))&&th(n,["_url","name"],rt(a,i)),n);l=tf("batchPredictionJobs/{name}:cancel",o._url),s=o._query,delete o._url,delete o._query,await this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal})}else{let t,r,a=(o=this.apiClient,t={},null!=(r=tm(e,["name"]))&&th(t,["_url","name"],rt(o,r)),t);l=tf("batches/{name}:cancel",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal})}}async listInternal(e){var t,r,n,i;let a="",o={};if(this.apiClient.isVertexAI()){let n,i,l,s,c,u=(n={},null!=(i=tm(e,["config"]))&&(l=tm(i,["pageSize"]),void 0!==n&&null!=l&&th(n,["_query","pageSize"],l),s=tm(i,["pageToken"]),void 0!==n&&null!=s&&th(n,["_query","pageToken"],s),c=tm(i,["filter"]),void 0!==n&&null!=c&&th(n,["_query","filter"],c)),n);return a=tf("batchPredictionJobs",u._url),o=u._query,delete u._url,delete u._query,this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(u),httpMethod:"GET",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e){let t={},r=tm(e,["sdkHttpResponse"]);null!=r&&th(t,["sdkHttpResponse"],r);let n=tm(e,["nextPageToken"]);null!=n&&th(t,["nextPageToken"],n);let i=tm(e,["batchPredictionJobs"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>ri(e))),th(t,["batchJobs"],e)}return t}(e),r=new tR;return Object.assign(r,t),r})}{let t,r,l=(t={},null!=(r=tm(e,["config"]))&&function(e,t){let r=tm(e,["pageSize"]);void 0!==t&&null!=r&&th(t,["_query","pageSize"],r);let n=tm(e,["pageToken"]);if(void 0!==t&&null!=n&&th(t,["_query","pageToken"],n),void 0!==tm(e,["filter"]))throw Error("filter parameter is not supported in Gemini API.")}(r,t),t);return a=tf("batches",l._url),o=l._query,delete l._url,delete l._query,this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e){let t={},r=tm(e,["sdkHttpResponse"]);null!=r&&th(t,["sdkHttpResponse"],r);let n=tm(e,["nextPageToken"]);null!=n&&th(t,["nextPageToken"],n);let i=tm(e,["operations"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>rn(e))),th(t,["batchJobs"],e)}return t}(e),r=new tR;return Object.assign(r,t),r})}}async delete(e){var t,r,n,i,a,o;let l="",s={};if(this.apiClient.isVertexAI()){let n,i,o=(a=this.apiClient,n={},null!=(i=tm(e,["name"]))&&th(n,["_url","name"],rt(a,i)),n);return l=tf("batchPredictionJobs/{name}",o._url),s=o._query,delete o._url,delete o._query,this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t,r,n,i,a;return t={},null!=(r=tm(e,["sdkHttpResponse"]))&&th(t,["sdkHttpResponse"],r),null!=(n=tm(e,["name"]))&&th(t,["name"],n),null!=(i=tm(e,["done"]))&&th(t,["done"],i),null!=(a=tm(e,["error"]))&&th(t,["error"],a),t})}{let t,r,a=(o=this.apiClient,t={},null!=(r=tm(e,["name"]))&&th(t,["_url","name"],rt(o,r)),t);return l=tf("batches/{name}",a._url),s=a._query,delete a._url,delete a._query,this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t,r,n,i,a;return t={},null!=(r=tm(e,["sdkHttpResponse"]))&&th(t,["sdkHttpResponse"],r),null!=(n=tm(e,["name"]))&&th(t,["name"],n),null!=(i=tm(e,["done"]))&&th(t,["done"],i),null!=(a=tm(e,["error"]))&&th(t,["error"],a),t})}}}function rc(e){let t={},r=tm(e,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>{var t;let r,n,i,a,o,l,s,c,u,d,p;return r={},null!=(n=tm(t=e,["functionCall"]))&&th(r,["functionCall"],n),null!=(i=tm(t,["codeExecutionResult"]))&&th(r,["codeExecutionResult"],i),null!=(a=tm(t,["executableCode"]))&&th(r,["executableCode"],a),null!=(o=tm(t,["fileData"]))&&th(r,["fileData"],function(e){let t={};if(void 0!==tm(e,["displayName"]))throw Error("displayName parameter is not supported in Gemini API.");let r=tm(e,["fileUri"]);null!=r&&th(t,["fileUri"],r);let n=tm(e,["mimeType"]);return null!=n&&th(t,["mimeType"],n),t}(o)),null!=(l=tm(t,["functionResponse"]))&&th(r,["functionResponse"],l),null!=(s=tm(t,["inlineData"]))&&th(r,["inlineData"],function(e){let t={},r=tm(e,["data"]);if(null!=r&&th(t,["data"],r),void 0!==tm(e,["displayName"]))throw Error("displayName parameter is not supported in Gemini API.");let n=tm(e,["mimeType"]);return null!=n&&th(t,["mimeType"],n),t}(s)),null!=(c=tm(t,["text"]))&&th(r,["text"],c),null!=(u=tm(t,["thought"]))&&th(r,["thought"],u),null!=(d=tm(t,["thoughtSignature"]))&&th(r,["thoughtSignature"],d),null!=(p=tm(t,["videoMetadata"]))&&th(r,["videoMetadata"],p),r})),th(t,["parts"],e)}let n=tm(e,["role"]);return null!=n&&th(t,["role"],n),t}class ru extends tp{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new rl(te.PAGED_ITEM_CACHED_CONTENTS,e=>this.listInternal(e),await this.listInternal(e),e)}async create(e){var t,r,n,i,a,o;let l="",s={};if(this.apiClient.isVertexAI()){let n,i,o,c=(a=this.apiClient,n={},null!=(i=tm(e,["model"]))&&th(n,["model"],tF(a,i)),null!=(o=tm(e,["config"]))&&function(e,t){let r=tm(e,["ttl"]);void 0!==t&&null!=r&&th(t,["ttl"],r);let n=tm(e,["expireTime"]);void 0!==t&&null!=n&&th(t,["expireTime"],n);let i=tm(e,["displayName"]);void 0!==t&&null!=i&&th(t,["displayName"],i);let a=tm(e,["contents"]);if(void 0!==t&&null!=a){let e=tZ(a);Array.isArray(e)&&(e=e.map(e=>e)),th(t,["contents"],e)}let o=tm(e,["systemInstruction"]);void 0!==t&&null!=o&&th(t,["systemInstruction"],tW(o));let l=tm(e,["tools"]);if(void 0!==t&&null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>(function(e){let t={},r=tm(e,["functionDeclarations"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>(function(e){let t={};if(void 0!==tm(e,["behavior"]))throw Error("behavior parameter is not supported in Vertex AI.");let r=tm(e,["description"]);null!=r&&th(t,["description"],r);let n=tm(e,["name"]);null!=n&&th(t,["name"],n);let i=tm(e,["parameters"]);null!=i&&th(t,["parameters"],i);let a=tm(e,["parametersJsonSchema"]);null!=a&&th(t,["parametersJsonSchema"],a);let o=tm(e,["response"]);null!=o&&th(t,["response"],o);let l=tm(e,["responseJsonSchema"]);return null!=l&&th(t,["responseJsonSchema"],l),t})(e))),th(t,["functionDeclarations"],e)}let n=tm(e,["retrieval"]);null!=n&&th(t,["retrieval"],n);let i=tm(e,["googleSearchRetrieval"]);null!=i&&th(t,["googleSearchRetrieval"],i);let a=tm(e,["googleMaps"]);null!=a&&th(t,["googleMaps"],a);let o=tm(e,["computerUse"]);null!=o&&th(t,["computerUse"],o);let l=tm(e,["codeExecution"]);null!=l&&th(t,["codeExecution"],l);let s=tm(e,["enterpriseWebSearch"]);null!=s&&th(t,["enterpriseWebSearch"],s);let c=tm(e,["googleSearch"]);null!=c&&th(t,["googleSearch"],c);let u=tm(e,["urlContext"]);return null!=u&&th(t,["urlContext"],u),t})(e))),th(t,["tools"],e)}let s=tm(e,["toolConfig"]);void 0!==t&&null!=s&&th(t,["toolConfig"],s);let c=tm(e,["kmsKeyName"]);void 0!==t&&null!=c&&th(t,["encryption_spec","kmsKeyName"],c)}(o,n),n);return l=tf("cachedContents",c._url),s=c._query,delete c._url,delete c._query,this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>e)}{let t,r,a,c=(o=this.apiClient,t={},null!=(r=tm(e,["model"]))&&th(t,["model"],tF(o,r)),null!=(a=tm(e,["config"]))&&function(e,t){let r=tm(e,["ttl"]);void 0!==t&&null!=r&&th(t,["ttl"],r);let n=tm(e,["expireTime"]);void 0!==t&&null!=n&&th(t,["expireTime"],n);let i=tm(e,["displayName"]);void 0!==t&&null!=i&&th(t,["displayName"],i);let a=tm(e,["contents"]);if(void 0!==t&&null!=a){let e=tZ(a);Array.isArray(e)&&(e=e.map(e=>rc(e))),th(t,["contents"],e)}let o=tm(e,["systemInstruction"]);void 0!==t&&null!=o&&th(t,["systemInstruction"],rc(tW(o)));let l=tm(e,["tools"]);if(void 0!==t&&null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>(function(e){let t={},r=tm(e,["functionDeclarations"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),th(t,["functionDeclarations"],e)}if(void 0!==tm(e,["retrieval"]))throw Error("retrieval parameter is not supported in Gemini API.");let n=tm(e,["googleSearchRetrieval"]);null!=n&&th(t,["googleSearchRetrieval"],n);let i=tm(e,["googleMaps"]);null!=i&&th(t,["googleMaps"],function(e){let t={};if(void 0!==tm(e,["authConfig"]))throw Error("authConfig parameter is not supported in Gemini API.");let r=tm(e,["enableWidget"]);return null!=r&&th(t,["enableWidget"],r),t}(i));let a=tm(e,["computerUse"]);null!=a&&th(t,["computerUse"],a);let o=tm(e,["codeExecution"]);if(null!=o&&th(t,["codeExecution"],o),void 0!==tm(e,["enterpriseWebSearch"]))throw Error("enterpriseWebSearch parameter is not supported in Gemini API.");let l=tm(e,["googleSearch"]);null!=l&&th(t,["googleSearch"],function(e){let t={};if(void 0!==tm(e,["excludeDomains"]))throw Error("excludeDomains parameter is not supported in Gemini API.");let r=tm(e,["timeRangeFilter"]);return null!=r&&th(t,["timeRangeFilter"],r),t}(l));let s=tm(e,["urlContext"]);return null!=s&&th(t,["urlContext"],s),t})(e))),th(t,["tools"],e)}let s=tm(e,["toolConfig"]);if(void 0!==t&&null!=s&&th(t,["toolConfig"],s),void 0!==tm(e,["kmsKeyName"]))throw Error("kmsKeyName parameter is not supported in Gemini API.")}(a,t),t);return l=tf("cachedContents",c._url),s=c._query,delete c._url,delete c._query,this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal}).then(e=>e.json()).then(e=>e)}}async get(e){var t,r,n,i,a,o;let l="",s={};if(this.apiClient.isVertexAI()){let n,i,o=(a=this.apiClient,n={},null!=(i=tm(e,["name"]))&&th(n,["_url","name"],t4(a,i)),n);return l=tf("{name}",o._url),s=o._query,delete o._url,delete o._query,this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>e)}{let t,r,a=(o=this.apiClient,t={},null!=(r=tm(e,["name"]))&&th(t,["_url","name"],t4(o,r)),t);return l=tf("{name}",a._url),s=a._query,delete a._url,delete a._query,this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal}).then(e=>e.json()).then(e=>e)}}async delete(e){var t,r,n,i,a,o;let l="",s={};if(this.apiClient.isVertexAI()){let n,i,o=(a=this.apiClient,n={},null!=(i=tm(e,["name"]))&&th(n,["_url","name"],t4(a,i)),n);return l=tf("{name}",o._url),s=o._query,delete o._url,delete o._query,this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t,r,n=(t={},null!=(r=tm(e,["sdkHttpResponse"]))&&th(t,["sdkHttpResponse"],r),t),i=new tI;return Object.assign(i,n),i})}{let t,r,a=(o=this.apiClient,t={},null!=(r=tm(e,["name"]))&&th(t,["_url","name"],t4(o,r)),t);return l=tf("{name}",a._url),s=a._query,delete a._url,delete a._query,this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t,r,n=(t={},null!=(r=tm(e,["sdkHttpResponse"]))&&th(t,["sdkHttpResponse"],r),t),i=new tI;return Object.assign(i,n),i})}}async update(e){var t,r,n,i,a,o;let l="",s={};if(this.apiClient.isVertexAI()){let n,i,o,c,u,d=(a=this.apiClient,n={},null!=(i=tm(e,["name"]))&&th(n,["_url","name"],t4(a,i)),null!=(o=tm(e,["config"]))&&(c=tm(o,["ttl"]),void 0!==n&&null!=c&&th(n,["ttl"],c),u=tm(o,["expireTime"]),void 0!==n&&null!=u&&th(n,["expireTime"],u)),n);return l=tf("{name}",d._url),s=d._query,delete d._url,delete d._query,this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>e)}{let t,r,a,c,u,d=(o=this.apiClient,t={},null!=(r=tm(e,["name"]))&&th(t,["_url","name"],t4(o,r)),null!=(a=tm(e,["config"]))&&(c=tm(a,["ttl"]),void 0!==t&&null!=c&&th(t,["ttl"],c),u=tm(a,["expireTime"]),void 0!==t&&null!=u&&th(t,["expireTime"],u)),t);return l=tf("{name}",d._url),s=d._query,delete d._url,delete d._query,this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal}).then(e=>e.json()).then(e=>e)}}async listInternal(e){var t,r,n,i;let a="",o={};if(this.apiClient.isVertexAI()){let n,i,l,s,c=(n={},null!=(i=tm(e,["config"]))&&(l=tm(i,["pageSize"]),void 0!==n&&null!=l&&th(n,["_query","pageSize"],l),s=tm(i,["pageToken"]),void 0!==n&&null!=s&&th(n,["_query","pageToken"],s)),n);return a=tf("cachedContents",c._url),o=c._query,delete c._url,delete c._query,this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e){let t={},r=tm(e,["sdkHttpResponse"]);null!=r&&th(t,["sdkHttpResponse"],r);let n=tm(e,["nextPageToken"]);null!=n&&th(t,["nextPageToken"],n);let i=tm(e,["cachedContents"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),th(t,["cachedContents"],e)}return t}(e),r=new tP;return Object.assign(r,t),r})}{let t,r,l,s,c=(t={},null!=(r=tm(e,["config"]))&&(l=tm(r,["pageSize"]),void 0!==t&&null!=l&&th(t,["_query","pageSize"],l),s=tm(r,["pageToken"]),void 0!==t&&null!=s&&th(t,["_query","pageToken"],s)),t);return a=tf("cachedContents",c._url),o=c._query,delete c._url,delete c._query,this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e){let t={},r=tm(e,["sdkHttpResponse"]);null!=r&&th(t,["sdkHttpResponse"],r);let n=tm(e,["nextPageToken"]);null!=n&&th(t,["nextPageToken"],n);let i=tm(e,["cachedContents"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),th(t,["cachedContents"],e)}return t}(e),r=new tP;return Object.assign(r,t),r})}}}function rd(e){return this instanceof rd?(this.v=e,this):new rd(e)}function rp(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),a=[];return n=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",function(e){return function(t){return Promise.resolve(t).then(e,c)}}),n[Symbol.asyncIterator]=function(){return this},n;function o(e,t){i[e]&&(n[e]=function(t){return new Promise(function(r,n){a.push([e,t,r,n])>1||l(e,t)})},t&&(n[e]=t(n[e])))}function l(e,t){try{var r;(r=i[e](t)).value instanceof rd?Promise.resolve(r.value.v).then(s,c):u(a[0][2],r)}catch(e){u(a[0][3],e)}}function s(e){l("next",e)}function c(e){l("throw",e)}function u(e,t){e(t),a.shift(),a.length&&l(a[0][0],a[0][1])}}function rf(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){var a,o,l;a=n,o=i,l=(t=e[r](t)).done,Promise.resolve(t.value).then(function(e){a({value:e,done:l})},o)})}}}function rh(e){if(void 0===e.parts||0===e.parts.length)return!1;for(let t of e.parts)if(void 0===t||0===Object.keys(t).length)return!1;return!0}function rm(e){if(void 0===e||0===e.length)return[];let t=[],r=e.length,n=0;for(;n<r;)if("user"===e[n].role)t.push(e[n]),n++;else{let i=[],a=!0;for(;n<r&&"model"===e[n].role;)i.push(e[n]),a&&!rh(e[n])&&(a=!1),n++;a?t.push(...i):t.pop()}return t}"function"==typeof SuppressedError&&SuppressedError;class rg{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new ry(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class ry{constructor(e,t,r,n={},i=[]){this.apiClient=e,this.modelsModule=t,this.model=r,this.config=n,this.history=i,this.sendPromise=Promise.resolve(),function(e){if(0!==e.length){for(let t of e)if("user"!==t.role&&"model"!==t.role)throw Error(`Role must be user or model, but got ${t.role}.`)}}(i)}async sendMessage(e){var t;await this.sendPromise;let r=tW(e.message),n=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:null!=(t=e.config)?t:this.config});return this.sendPromise=(async()=>{var e,t,i;let a=await n,o=null==(t=null==(e=a.candidates)?void 0:e[0])?void 0:t.content,l=a.automaticFunctionCallingHistory,s=this.getHistory(!0).length,c=[];null!=l&&(c=null!=(i=l.slice(s))?i:[]),this.recordHistory(r,o?[o]:[],c)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),n}async sendMessageStream(e){var t;await this.sendPromise;let r=tW(e.message),n=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:null!=(t=e.config)?t:this.config});this.sendPromise=n.then(()=>void 0).catch(()=>void 0);let i=await n;return this.processStreamResponse(i,r)}getHistory(e=!1){return structuredClone(e?rm(this.history):this.history)}processStreamResponse(e,t){var r,n;return rp(this,arguments,function*(){var i,a,o,l;let s=[];try{for(var c,u=!0,d=rf(e);!(i=(c=yield rd(d.next())).done);u=!0){if(l=c.value,u=!1,function(e){var t;if(void 0==e.candidates||0===e.candidates.length)return!1;let r=null==(t=e.candidates[0])?void 0:t.content;return void 0!==r&&rh(r)}(l)){let e=null==(n=null==(r=l.candidates)?void 0:r[0])?void 0:n.content;void 0!==e&&s.push(e)}yield yield rd(l)}}catch(e){a={error:e}}finally{try{!u&&!i&&(o=d.return)&&(yield rd(o.call(d)))}finally{if(a)throw a.error}}this.recordHistory(t,s)})}recordHistory(e,t,r){let n=[];t.length>0&&t.every(e=>void 0!==e.role)?n=t:n.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...rm(r)):this.history.push(e),this.history.push(...n)}}class rv extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,rv.prototype)}}class rb extends tp{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new rl(te.PAGED_ITEM_FILES,e=>this.listInternal(e),await this.listInternal(e),e)}async upload(e){if(this.apiClient.isVertexAI())throw Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(e=>e)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,r;let n="",i={};if(this.apiClient.isVertexAI())throw Error("This method is only supported by the Gemini Developer API.");{let a,o,l,s,c=(a={},null!=(o=tm(e,["config"]))&&(l=tm(o,["pageSize"]),void 0!==a&&null!=l&&th(a,["_query","pageSize"],l),s=tm(o,["pageToken"]),void 0!==a&&null!=s&&th(a,["_query","pageToken"],s)),a);return n=tf("files",c._url),i=c._query,delete c._url,delete c._query,this.apiClient.request({path:n,queryParams:i,body:JSON.stringify(c),httpMethod:"GET",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e){let t={},r=tm(e,["sdkHttpResponse"]);null!=r&&th(t,["sdkHttpResponse"],r);let n=tm(e,["nextPageToken"]);null!=n&&th(t,["nextPageToken"],n);let i=tm(e,["files"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),th(t,["files"],e)}return t}(e),r=new tk;return Object.assign(r,t),r})}}async createInternal(e){var t,r;let n="",i={};if(this.apiClient.isVertexAI())throw Error("This method is only supported by the Gemini Developer API.");{let a,o,l=(a={},null!=(o=tm(e,["file"]))&&th(a,["file"],o),a);return n=tf("upload/v1beta/files",l._url),i=l._query,delete l._url,delete l._query,this.apiClient.request({path:n,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>{let t,r,n=(t={},null!=(r=tm(e,["sdkHttpResponse"]))&&th(t,["sdkHttpResponse"],r),t),i=new tM;return Object.assign(i,n),i})}}async get(e){var t,r;let n="",i={};if(this.apiClient.isVertexAI())throw Error("This method is only supported by the Gemini Developer API.");{let a,o,l=(a={},null!=(o=tm(e,["name"]))&&th(a,["_url","file"],t6(o)),a);return n=tf("files/{file}",l._url),i=l._query,delete l._url,delete l._query,this.apiClient.request({path:n,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>e)}}async delete(e){var t,r;let n="",i={};if(this.apiClient.isVertexAI())throw Error("This method is only supported by the Gemini Developer API.");{let a,o,l=(a={},null!=(o=tm(e,["name"]))&&th(a,["_url","file"],t6(o)),a);return n=tf("files/{file}",l._url),i=l._query,delete l._url,delete l._query,this.apiClient.request({path:n,queryParams:i,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t,r,n=(t={},null!=(r=tm(e,["sdkHttpResponse"]))&&th(t,["sdkHttpResponse"],r),t),i=new tD;return Object.assign(i,n),i})}}}function rx(e){let t={},r=tm(e,["data"]);if(null!=r&&th(t,["data"],r),void 0!==tm(e,["displayName"]))throw Error("displayName parameter is not supported in Gemini API.");let n=tm(e,["mimeType"]);return null!=n&&th(t,["mimeType"],n),t}function rw(e){let t={},r=tm(e,["languageCode"]);null!=r&&th(t,["languageCode"],r);let n=tm(e,["voiceConfig"]);if(null!=n&&th(t,["voiceConfig"],n),void 0!==tm(e,["multiSpeakerVoiceConfig"]))throw Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function rO(e){let t={},r=tm(e,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>{var t;let r,n,i,a,o,l,s,c,u,d,p;return r={},null!=(n=tm(t=e,["functionCall"]))&&th(r,["functionCall"],n),null!=(i=tm(t,["codeExecutionResult"]))&&th(r,["codeExecutionResult"],i),null!=(a=tm(t,["executableCode"]))&&th(r,["executableCode"],a),null!=(o=tm(t,["fileData"]))&&th(r,["fileData"],function(e){let t={};if(void 0!==tm(e,["displayName"]))throw Error("displayName parameter is not supported in Gemini API.");let r=tm(e,["fileUri"]);null!=r&&th(t,["fileUri"],r);let n=tm(e,["mimeType"]);return null!=n&&th(t,["mimeType"],n),t}(o)),null!=(l=tm(t,["functionResponse"]))&&th(r,["functionResponse"],l),null!=(s=tm(t,["inlineData"]))&&th(r,["inlineData"],function(e){let t={},r=tm(e,["data"]);if(null!=r&&th(t,["data"],r),void 0!==tm(e,["displayName"]))throw Error("displayName parameter is not supported in Gemini API.");let n=tm(e,["mimeType"]);return null!=n&&th(t,["mimeType"],n),t}(s)),null!=(c=tm(t,["text"]))&&th(r,["text"],c),null!=(u=tm(t,["thought"]))&&th(r,["thought"],u),null!=(d=tm(t,["thoughtSignature"]))&&th(r,["thoughtSignature"],d),null!=(p=tm(t,["videoMetadata"]))&&th(r,["videoMetadata"],p),r})),th(t,["parts"],e)}let n=tm(e,["role"]);return null!=n&&th(t,["role"],n),t}function rE(e,t){let r={},n=tm(t,["model"]);null!=n&&th(r,["_url","model"],tq(e,n));let i=tm(t,["contents"]);if(null!=i){let e=tZ(i);Array.isArray(e)&&(e=e.map(e=>rO(e))),th(r,["contents"],e)}let a=tm(t,["config"]);return null!=a&&th(r,["generationConfig"],function(e,t,r){let n={},i=tm(t,["systemInstruction"]);void 0!==r&&null!=i&&th(r,["systemInstruction"],rO(tW(i)));let a=tm(t,["temperature"]);null!=a&&th(n,["temperature"],a);let o=tm(t,["topP"]);null!=o&&th(n,["topP"],o);let l=tm(t,["topK"]);null!=l&&th(n,["topK"],l);let s=tm(t,["candidateCount"]);null!=s&&th(n,["candidateCount"],s);let c=tm(t,["maxOutputTokens"]);null!=c&&th(n,["maxOutputTokens"],c);let u=tm(t,["stopSequences"]);null!=u&&th(n,["stopSequences"],u);let d=tm(t,["responseLogprobs"]);null!=d&&th(n,["responseLogprobs"],d);let p=tm(t,["logprobs"]);null!=p&&th(n,["logprobs"],p);let f=tm(t,["presencePenalty"]);null!=f&&th(n,["presencePenalty"],f);let h=tm(t,["frequencyPenalty"]);null!=h&&th(n,["frequencyPenalty"],h);let m=tm(t,["seed"]);null!=m&&th(n,["seed"],m);let g=tm(t,["responseMimeType"]);null!=g&&th(n,["responseMimeType"],g);let y=tm(t,["responseSchema"]);null!=y&&th(n,["responseSchema"],tQ(y));let v=tm(t,["responseJsonSchema"]);if(null!=v&&th(n,["responseJsonSchema"],v),void 0!==tm(t,["routingConfig"]))throw Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==tm(t,["modelSelectionConfig"]))throw Error("modelSelectionConfig parameter is not supported in Gemini API.");let b=tm(t,["safetySettings"]);if(void 0!==r&&null!=b){let e=b;Array.isArray(e)&&(e=e.map(e=>(function(e){let t={},r=tm(e,["category"]);if(null!=r&&th(t,["category"],r),void 0!==tm(e,["method"]))throw Error("method parameter is not supported in Gemini API.");let n=tm(e,["threshold"]);return null!=n&&th(t,["threshold"],n),t})(e))),th(r,["safetySettings"],e)}let x=tm(t,["tools"]);if(void 0!==r&&null!=x){let e=t3(x);Array.isArray(e)&&(e=e.map(e=>(function(e){let t={},r=tm(e,["functionDeclarations"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),th(t,["functionDeclarations"],e)}if(void 0!==tm(e,["retrieval"]))throw Error("retrieval parameter is not supported in Gemini API.");let n=tm(e,["googleSearchRetrieval"]);null!=n&&th(t,["googleSearchRetrieval"],n);let i=tm(e,["googleMaps"]);null!=i&&th(t,["googleMaps"],function(e){let t={};if(void 0!==tm(e,["authConfig"]))throw Error("authConfig parameter is not supported in Gemini API.");let r=tm(e,["enableWidget"]);return null!=r&&th(t,["enableWidget"],r),t}(i));let a=tm(e,["computerUse"]);null!=a&&th(t,["computerUse"],a);let o=tm(e,["codeExecution"]);if(null!=o&&th(t,["codeExecution"],o),void 0!==tm(e,["enterpriseWebSearch"]))throw Error("enterpriseWebSearch parameter is not supported in Gemini API.");let l=tm(e,["googleSearch"]);null!=l&&th(t,["googleSearch"],function(e){let t={};if(void 0!==tm(e,["excludeDomains"]))throw Error("excludeDomains parameter is not supported in Gemini API.");let r=tm(e,["timeRangeFilter"]);return null!=r&&th(t,["timeRangeFilter"],r),t}(l));let s=tm(e,["urlContext"]);return null!=s&&th(t,["urlContext"],s),t})(t2(e)))),th(r,["tools"],e)}let w=tm(t,["toolConfig"]);if(void 0!==r&&null!=w&&th(r,["toolConfig"],w),void 0!==tm(t,["labels"]))throw Error("labels parameter is not supported in Gemini API.");let O=tm(t,["cachedContent"]);void 0!==r&&null!=O&&th(r,["cachedContent"],t4(e,O));let E=tm(t,["responseModalities"]);null!=E&&th(n,["responseModalities"],E);let S=tm(t,["mediaResolution"]);null!=S&&th(n,["mediaResolution"],S);let A=tm(t,["speechConfig"]);if(null!=A&&th(n,["speechConfig"],t0(A)),void 0!==tm(t,["audioTimestamp"]))throw Error("audioTimestamp parameter is not supported in Gemini API.");let j=tm(t,["thinkingConfig"]);null!=j&&th(n,["thinkingConfig"],j);let _=tm(t,["imageConfig"]);return null!=_&&th(n,["imageConfig"],_),n}(e,a,r)),r}function rS(e,t){let r={},n=tm(t,["model"]);null!=n&&th(r,["_url","model"],tq(e,n));let i=tm(t,["contents"]);if(null!=i){let e=tZ(i);Array.isArray(e)&&(e=e.map(e=>e)),th(r,["contents"],e)}let a=tm(t,["config"]);return null!=a&&th(r,["generationConfig"],function(e,t,r){let n={},i=tm(t,["systemInstruction"]);void 0!==r&&null!=i&&th(r,["systemInstruction"],tW(i));let a=tm(t,["temperature"]);null!=a&&th(n,["temperature"],a);let o=tm(t,["topP"]);null!=o&&th(n,["topP"],o);let l=tm(t,["topK"]);null!=l&&th(n,["topK"],l);let s=tm(t,["candidateCount"]);null!=s&&th(n,["candidateCount"],s);let c=tm(t,["maxOutputTokens"]);null!=c&&th(n,["maxOutputTokens"],c);let u=tm(t,["stopSequences"]);null!=u&&th(n,["stopSequences"],u);let d=tm(t,["responseLogprobs"]);null!=d&&th(n,["responseLogprobs"],d);let p=tm(t,["logprobs"]);null!=p&&th(n,["logprobs"],p);let f=tm(t,["presencePenalty"]);null!=f&&th(n,["presencePenalty"],f);let h=tm(t,["frequencyPenalty"]);null!=h&&th(n,["frequencyPenalty"],h);let m=tm(t,["seed"]);null!=m&&th(n,["seed"],m);let g=tm(t,["responseMimeType"]);null!=g&&th(n,["responseMimeType"],g);let y=tm(t,["responseSchema"]);null!=y&&th(n,["responseSchema"],tQ(y));let v=tm(t,["responseJsonSchema"]);null!=v&&th(n,["responseJsonSchema"],v);let b=tm(t,["routingConfig"]);null!=b&&th(n,["routingConfig"],b);let x=tm(t,["modelSelectionConfig"]);null!=x&&th(n,["modelConfig"],x);let w=tm(t,["safetySettings"]);if(void 0!==r&&null!=w){let e=w;Array.isArray(e)&&(e=e.map(e=>e)),th(r,["safetySettings"],e)}let O=tm(t,["tools"]);if(void 0!==r&&null!=O){let e=t3(O);Array.isArray(e)&&(e=e.map(e=>rR(t2(e)))),th(r,["tools"],e)}let E=tm(t,["toolConfig"]);void 0!==r&&null!=E&&th(r,["toolConfig"],E);let S=tm(t,["labels"]);void 0!==r&&null!=S&&th(r,["labels"],S);let A=tm(t,["cachedContent"]);void 0!==r&&null!=A&&th(r,["cachedContent"],t4(e,A));let j=tm(t,["responseModalities"]);null!=j&&th(n,["responseModalities"],j);let _=tm(t,["mediaResolution"]);null!=_&&th(n,["mediaResolution"],_);let C=tm(t,["speechConfig"]);null!=C&&th(n,["speechConfig"],rD(t0(C)));let N=tm(t,["audioTimestamp"]);null!=N&&th(n,["audioTimestamp"],N);let T=tm(t,["thinkingConfig"]);null!=T&&th(n,["thinkingConfig"],T);let I=tm(t,["imageConfig"]);return null!=I&&th(n,["imageConfig"],I),n}(e,a,r)),r}function rA(e){let t={},r=tm(e,["sdkHttpResponse"]);null!=r&&th(t,["sdkHttpResponse"],r);let n=tm(e,["candidates"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>(function(e){let t={},r=tm(e,["content"]);null!=r&&th(t,["content"],r);let n=tm(e,["citationMetadata"]);null!=n&&th(t,["citationMetadata"],function(e){let t={},r=tm(e,["citationSources"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),th(t,["citations"],e)}return t}(n));let i=tm(e,["tokenCount"]);null!=i&&th(t,["tokenCount"],i);let a=tm(e,["finishReason"]);null!=a&&th(t,["finishReason"],a);let o=tm(e,["avgLogprobs"]);null!=o&&th(t,["avgLogprobs"],o);let l=tm(e,["groundingMetadata"]);null!=l&&th(t,["groundingMetadata"],l);let s=tm(e,["index"]);null!=s&&th(t,["index"],s);let c=tm(e,["logprobsResult"]);null!=c&&th(t,["logprobsResult"],c);let u=tm(e,["safetyRatings"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>e)),th(t,["safetyRatings"],e)}let d=tm(e,["urlContextMetadata"]);return null!=d&&th(t,["urlContextMetadata"],d),t})(e))),th(t,["candidates"],e)}let i=tm(e,["modelVersion"]);null!=i&&th(t,["modelVersion"],i);let a=tm(e,["promptFeedback"]);null!=a&&th(t,["promptFeedback"],a);let o=tm(e,["responseId"]);null!=o&&th(t,["responseId"],o);let l=tm(e,["usageMetadata"]);return null!=l&&th(t,["usageMetadata"],l),t}function rj(e){let t={},r=tm(e,["sdkHttpResponse"]);null!=r&&th(t,["sdkHttpResponse"],r);let n=tm(e,["candidates"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),th(t,["candidates"],e)}let i=tm(e,["createTime"]);null!=i&&th(t,["createTime"],i);let a=tm(e,["modelVersion"]);null!=a&&th(t,["modelVersion"],a);let o=tm(e,["promptFeedback"]);null!=o&&th(t,["promptFeedback"],o);let l=tm(e,["responseId"]);null!=l&&th(t,["responseId"],l);let s=tm(e,["usageMetadata"]);return null!=s&&th(t,["usageMetadata"],s),t}function r_(e){let t={},r=tm(e,["_self"]);null!=r&&th(t,["image"],rC(r));let n=tm(e,["raiFilteredReason"]);null!=n&&th(t,["raiFilteredReason"],n);let i=tm(e,["_self"]);null!=i&&th(t,["safetyAttributes"],rM(i));let a=tm(e,["prompt"]);return null!=a&&th(t,["enhancedPrompt"],a),t}function rC(e){let t={},r=tm(e,["gcsUri"]);null!=r&&th(t,["gcsUri"],r);let n=tm(e,["bytesBase64Encoded"]);null!=n&&th(t,["imageBytes"],tg(n));let i=tm(e,["mimeType"]);return null!=i&&th(t,["mimeType"],i),t}function rN(e){let t={};if(void 0!==tm(e,["gcsUri"]))throw Error("gcsUri parameter is not supported in Gemini API.");let r=tm(e,["imageBytes"]);null!=r&&th(t,["bytesBase64Encoded"],tg(r));let n=tm(e,["mimeType"]);return null!=n&&th(t,["mimeType"],n),t}function rT(e){let t={},r=tm(e,["gcsUri"]);null!=r&&th(t,["gcsUri"],r);let n=tm(e,["imageBytes"]);null!=n&&th(t,["bytesBase64Encoded"],tg(n));let i=tm(e,["mimeType"]);return null!=i&&th(t,["mimeType"],i),t}function rI(e){var t;let r,n,i,a,o={},l=tm(e,["name"]);null!=l&&th(o,["name"],l);let s=tm(e,["displayName"]);null!=s&&th(o,["displayName"],s);let c=tm(e,["description"]);null!=c&&th(o,["description"],c);let u=tm(e,["version"]);null!=u&&th(o,["version"],u);let d=tm(e,["_self"]);null!=d&&th(o,["tunedModelInfo"],(r={},null!=(n=tm(t=d,["baseModel"]))&&th(r,["baseModel"],n),null!=(i=tm(t,["createTime"]))&&th(r,["createTime"],i),null!=(a=tm(t,["updateTime"]))&&th(r,["updateTime"],a),r));let p=tm(e,["inputTokenLimit"]);null!=p&&th(o,["inputTokenLimit"],p);let f=tm(e,["outputTokenLimit"]);null!=f&&th(o,["outputTokenLimit"],f);let h=tm(e,["supportedGenerationMethods"]);return null!=h&&th(o,["supportedActions"],h),o}function rP(e){var t;let r,n,i,a,o={},l=tm(e,["name"]);null!=l&&th(o,["name"],l);let s=tm(e,["displayName"]);null!=s&&th(o,["displayName"],s);let c=tm(e,["description"]);null!=c&&th(o,["description"],c);let u=tm(e,["versionId"]);null!=u&&th(o,["version"],u);let d=tm(e,["deployedModels"]);if(null!=d){let e=d;Array.isArray(e)&&(e=e.map(e=>{let t,r,n;return t={},null!=(r=tm(e,["endpoint"]))&&th(t,["name"],r),null!=(n=tm(e,["deployedModelId"]))&&th(t,["deployedModelId"],n),t})),th(o,["endpoints"],e)}let p=tm(e,["labels"]);null!=p&&th(o,["labels"],p);let f=tm(e,["_self"]);null!=f&&th(o,["tunedModelInfo"],(r={},null!=(n=tm(t=f,["labels","google-vertex-llm-tuning-base-model-id"]))&&th(r,["baseModel"],n),null!=(i=tm(t,["createTime"]))&&th(r,["createTime"],i),null!=(a=tm(t,["updateTime"]))&&th(r,["updateTime"],a),r));let h=tm(e,["defaultCheckpointId"]);null!=h&&th(o,["defaultCheckpointId"],h);let m=tm(e,["checkpoints"]);if(null!=m){let e=m;Array.isArray(e)&&(e=e.map(e=>e)),th(o,["checkpoints"],e)}return o}function rk(e){let t={},r=tm(e,["safetyAttributes","categories"]);null!=r&&th(t,["categories"],r);let n=tm(e,["safetyAttributes","scores"]);null!=n&&th(t,["scores"],n);let i=tm(e,["contentType"]);return null!=i&&th(t,["contentType"],i),t}function rM(e){let t={},r=tm(e,["safetyAttributes","categories"]);null!=r&&th(t,["categories"],r);let n=tm(e,["safetyAttributes","scores"]);null!=n&&th(t,["scores"],n);let i=tm(e,["contentType"]);return null!=i&&th(t,["contentType"],i),t}function rD(e){let t={},r=tm(e,["languageCode"]);null!=r&&th(t,["languageCode"],r);let n=tm(e,["voiceConfig"]);if(null!=n&&th(t,["voiceConfig"],n),void 0!==tm(e,["multiSpeakerVoiceConfig"]))throw Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function rR(e){let t={},r=tm(e,["functionDeclarations"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>(function(e){let t={};if(void 0!==tm(e,["behavior"]))throw Error("behavior parameter is not supported in Vertex AI.");let r=tm(e,["description"]);null!=r&&th(t,["description"],r);let n=tm(e,["name"]);null!=n&&th(t,["name"],n);let i=tm(e,["parameters"]);null!=i&&th(t,["parameters"],i);let a=tm(e,["parametersJsonSchema"]);null!=a&&th(t,["parametersJsonSchema"],a);let o=tm(e,["response"]);null!=o&&th(t,["response"],o);let l=tm(e,["responseJsonSchema"]);return null!=l&&th(t,["responseJsonSchema"],l),t})(e))),th(t,["functionDeclarations"],e)}let n=tm(e,["retrieval"]);null!=n&&th(t,["retrieval"],n);let i=tm(e,["googleSearchRetrieval"]);null!=i&&th(t,["googleSearchRetrieval"],i);let a=tm(e,["googleMaps"]);null!=a&&th(t,["googleMaps"],a);let o=tm(e,["computerUse"]);null!=o&&th(t,["computerUse"],o);let l=tm(e,["codeExecution"]);null!=l&&th(t,["codeExecution"],l);let s=tm(e,["enterpriseWebSearch"]);null!=s&&th(t,["enterpriseWebSearch"],s);let c=tm(e,["googleSearch"]);null!=c&&th(t,["googleSearch"],c);let u=tm(e,["urlContext"]);return null!=u&&th(t,["urlContext"],u),t}function rU(e){let t={},r=tm(e,["uri"]);null!=r&&th(t,["uri"],r);let n=tm(e,["videoBytes"]);null!=n&&th(t,["encodedVideo"],tg(n));let i=tm(e,["mimeType"]);return null!=i&&th(t,["encoding"],i),t}function rL(e){let t={},r=tm(e,["uri"]);null!=r&&th(t,["gcsUri"],r);let n=tm(e,["videoBytes"]);null!=n&&th(t,["bytesBase64Encoded"],tg(n));let i=tm(e,["mimeType"]);return null!=i&&th(t,["mimeType"],i),t}let rq="x-goog-api-client",rF=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class rG{constructor(e){var t,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const n={};this.clientOptions.vertexai?(n.apiVersion=null!=(t=this.clientOptions.apiVersion)?t:"v1beta1",n.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(n.apiVersion=null!=(r=this.clientOptions.apiVersion)?r:"v1beta",n.baseUrl="https://generativelanguage.googleapis.com/"),n.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=n,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(n,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&"global"!==this.clientOptions.location?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return null!=(e=this.clientOptions.vertexai)&&e}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.apiVersion)return this.clientOptions.httpOptions.apiVersion;throw Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.baseUrl)return this.clientOptions.httpOptions.baseUrl;throw Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.headers)return this.clientOptions.httpOptions.headers;throw Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||void 0===e.baseUrl||void 0===e.apiVersion)throw Error("HTTP options are not correctly set.");let t=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&""!==e.apiVersion&&t.push(e.apiVersion),t.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){let e=new URL(this.getBaseUrl());return e.protocol="http:"==e.protocol?"ws":"wss",e.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw Error("HTTP options are not correctly set.")}constructUrl(e,t,r){let n=[this.getRequestUrlInternal(t)];return r&&n.push(this.getBaseResourcePath()),""!==e&&n.push(e),new URL(`${n.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||"GET"===e.httpMethod&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));let r=this.shouldPrependVertexProjectPath(e),n=this.constructUrl(e.path,t,r);if(e.queryParams)for(let[t,r]of Object.entries(e.queryParams))n.searchParams.append(t,String(r));let i={};if("GET"===e.httpMethod){if(e.body&&"{}"!==e.body)throw Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,t,n.toString(),e.abortSignal),this.unaryApiCall(n,i,e.httpMethod)}patchHttpOptions(e,t){let r=JSON.parse(JSON.stringify(e));for(let[e,n]of Object.entries(t))"object"==typeof n?r[e]=Object.assign(Object.assign({},r[e]),n):void 0!==n&&(r[e]=n);return r}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));let r=this.shouldPrependVertexProjectPath(e),n=this.constructUrl(e.path,t,r);n.searchParams.has("alt")&&"sse"===n.searchParams.get("alt")||n.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,t,n.toString(),e.abortSignal),this.streamApiCall(n,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,r,n){if(t&&t.timeout||n){let r=new AbortController,i=r.signal;if(t.timeout&&(null==t?void 0:t.timeout)>0){let e=setTimeout(()=>r.abort(),t.timeout);e&&"function"==typeof e.unref&&e.unref()}n&&n.addEventListener("abort",()=>{r.abort()}),e.signal=i}return t&&null!==t.extraBody&&function(e,t){if(!t||0===Object.keys(t).length)return;if(e.body instanceof Blob)return console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");let r={};if("string"==typeof e.body&&e.body.length>0)try{let t=JSON.parse(e.body);if("object"!=typeof t||null===t||Array.isArray(t))return void console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");r=t}catch(e){console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}e.body=JSON.stringify(function e(t,r){let n=Object.assign({},t);for(let t in r)if(Object.prototype.hasOwnProperty.call(r,t)){let i=r[t],a=n[t];i&&"object"==typeof i&&!Array.isArray(i)&&a&&"object"==typeof a&&!Array.isArray(a)?n[t]=e(a,i):(a&&i&&typeof a!=typeof i&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${t}". Original type: ${typeof a}, New type: ${typeof i}. Overwriting.`),n[t]=i)}return n}(r,t))}(e,t.extraBody),e.headers=await this.getHeadersInternal(t,r),e}async unaryApiCall(e,t,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:r})).then(async e=>(await rB(e),new ty(e))).catch(e=>{if(e instanceof Error)throw e;throw Error(JSON.stringify(e))})}async streamApiCall(e,t,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:r})).then(async e=>(await rB(e),this.processStreamResponse(e))).catch(e=>{if(e instanceof Error)throw e;throw Error(JSON.stringify(e))})}processStreamResponse(e){var t;return rp(this,arguments,function*(){let r=null==(t=null==e?void 0:e.body)?void 0:t.getReader(),n=new TextDecoder("utf-8");if(!r)throw Error("Response body is empty");try{let t="";for(;;){let{done:i,value:a}=yield rd(r.read());if(i){if(t.trim().length>0)throw Error("Incomplete JSON segment at the end");break}let o=n.decode(a,{stream:!0});try{let e=JSON.parse(o);if("error"in e){let t=JSON.parse(JSON.stringify(e.error)),r=t.status,n=t.code,i=`got status: ${r}. ${JSON.stringify(e)}`;if(n>=400&&n<600)throw new rv({message:i,status:n})}}catch(e){if("ApiError"===e.name)throw e}let l=(t+=o).match(rF);for(;l;){let r=l[1];try{let n=new Response(r,{headers:null==e?void 0:e.headers,status:null==e?void 0:e.status,statusText:null==e?void 0:e.statusText});yield yield rd(new ty(n)),l=(t=t.slice(l[0].length)).match(rF)}catch(e){throw Error(`exception parsing stream chunk ${r}. ${e}`)}}}}finally{r.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(e=>{throw Error(`exception ${e} sending request`)})}getDefaultHeaders(){let e={},t="google-genai-sdk/1.28.0 "+this.clientOptions.userAgentExtra;return e["User-Agent"]=t,e[rq]=t,e["Content-Type"]="application/json",e}async getHeadersInternal(e,t){let r=new Headers;if(e&&e.headers){for(let[t,n]of Object.entries(e.headers))r.append(t,n);e.timeout&&e.timeout>0&&r.append("X-Server-Timeout",String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,t),r}async uploadFile(e,t){var r,n;let i={};null!=t&&(i.mimeType=t.mimeType,i.name=t.name,i.displayName=t.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);let a=this.clientOptions.uploader,o=await a.stat(e);i.sizeBytes=String(o.size);let l=null!=(r=null==t?void 0:t.mimeType)?r:o.type;if(void 0===l||""===l)throw Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=l;let s="";"string"==typeof e&&(s=null!=(n=(s=e.replace(/[/\\]+$/,"")).split(/[/\\]/).pop())?n:"");let c=await this.fetchUploadUrl(i,s,t);return a.upload(e,c,this)}async downloadFile(e){let t=this.clientOptions.downloader;await t.download(e,this)}async fetchUploadUrl(e,t,r){var n;let i={};i=(null==r?void 0:r.httpOptions)?r.httpOptions:{apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`},t?{"X-Goog-Upload-File-Name":t}:{})};let a={file:e},o=await this.request({path:tf("upload/v1beta/files",a._url),body:JSON.stringify(a),httpMethod:"POST",httpOptions:i});if(!o||!(null==o?void 0:o.headers))throw Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");let l=null==(n=null==o?void 0:o.headers)?void 0:n["x-goog-upload-url"];if(void 0===l)throw Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return l}}async function rB(e){var t;if(void 0===e)throw Error("response is undefined");if(!e.ok){let r=e.status,n=JSON.stringify((null==(t=e.headers.get("content-type"))?void 0:t.includes("application/json"))?await e.json():{error:{message:await e.text(),code:e.status,status:e.statusText}});if(r>=400&&r<600)throw new rv({message:n,status:r});throw Error(n)}}function rH(e){for(let r of e){var t;if(null!==(t=r)&&"object"==typeof t&&t instanceof r$||"object"==typeof r&&"inputSchema"in r)return!0}return!1}function rV(e){var t;let r=null!=(t=e[rq])?t:"";e[rq]=(r+" mcp_used/unknown").trimStart()}class r${constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new r$(e,t)}async initialize(){var e,t,r,n;if(this.mcpTools.length>0)return;let i={},a=[];for(let c of this.mcpClients)try{for(var o,l=!0,s=(t=void 0,rf(function(e,t=100){return rp(this,arguments,function*(){let r,n=0;for(;n<t;){let t=yield rd(e.listTools({cursor:r}));for(let e of t.tools)yield yield rd(e),n++;if(!t.nextCursor)break;r=t.nextCursor}})}(c)));!(e=(o=await s.next()).done);l=!0){n=o.value,l=!1,a.push(n);let e=n.name;if(i[e])throw Error(`Duplicate function name ${e} found in MCP tools. Please ensure function names are unique.`);i[e]=c}}catch(e){t={error:e}}finally{try{!l&&!e&&(r=s.return)&&await r.call(s)}finally{if(t)throw t.error}}this.mcpTools=a,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),function(e,t={}){let r=[],n=new Set;for(let i of e){let e=i.name;if(n.has(e))throw Error(`Duplicate function name ${e} found in MCP tools. Please ensure function names are unique.`);n.add(e);let a=function(e,t={}){let r={name:e.name,description:e.description,parametersJsonSchema:e.inputSchema};return e.outputSchema&&(r.responseJsonSchema=e.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}(i,t);a.functionDeclarations&&r.push(...a.functionDeclarations)}return{functionDeclarations:r}}(this.mcpTools,this.config)}async callTool(e){await this.initialize();let t=[];for(let r of e)if(r.name in this.functionNameToMcpClient){let e,n=this.functionNameToMcpClient[r.name];this.config.timeout&&(e={timeout:this.config.timeout});let i=await n.callTool({name:r.name,arguments:r.args},void 0,e);t.push({functionResponse:{name:r.name,response:i.isError?{error:i}:i}})}return t}}async function rz(e,t,r){let n=new tL;Object.assign(n,r.data instanceof Blob?JSON.parse(await r.data.text()):JSON.parse(r.data)),t(n)}class rK{constructor(e,t,r){this.apiClient=e,this.auth=t,this.webSocketFactory=r}async connect(e){var t,r;let n;if(this.apiClient.isVertexAI())throw Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");let i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),o=function(e){let t=new Headers;for(let[r,n]of Object.entries(e))t.append(r,n);return t}(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),s=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${l}`,c=()=>{},u=new Promise(e=>{c=e}),d=e.callbacks,p=this.apiClient,f={onopen:function(){c({})},onmessage:e=>{rz(p,d.onmessage,e)},onerror:null!=(t=null==d?void 0:d.onerror)?t:function(e){},onclose:null!=(r=null==d?void 0:d.onclose)?r:function(e){}},h=this.webSocketFactory.create(s,(n={},o.forEach((e,t)=>{n[t]=e}),n),f);h.connect(),await u;let m=tq(this.apiClient,e.model);return h.send(JSON.stringify({setup:{model:m}})),new rJ(h,this.apiClient)}}class rJ{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||0===Object.keys(e.weightedPrompts).length)throw Error("Weighted prompts must be set and contain at least one entry.");let t=function(e){let t={},r=tm(e,["weightedPrompts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),th(t,["weightedPrompts"],e)}return t}(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){let t,r;e.musicGenerationConfig||(e.musicGenerationConfig={});let n=(t={},null!=(r=tm(e,["musicGenerationConfig"]))&&th(t,["musicGenerationConfig"],r),t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){this.conn.send(JSON.stringify({playbackControl:e}))}play(){this.sendPlaybackControl(e9.PLAY)}pause(){this.sendPlaybackControl(e9.PAUSE)}stop(){this.sendPlaybackControl(e9.STOP)}resetContext(){this.sendPlaybackControl(e9.RESET_CONTEXT)}close(){this.conn.close()}}async function rY(e,t,r){let n=new tU,i=JSON.parse(r.data instanceof Blob?await r.data.text():r.data instanceof ArrayBuffer?new TextDecoder().decode(r.data):r.data);if(e.isVertexAI()){let e,t,r,a,o,l,s,c;Object.assign(n,(e={},null!=(t=tm(i,["setupComplete"]))&&th(e,["setupComplete"],t),null!=(r=tm(i,["serverContent"]))&&th(e,["serverContent"],r),null!=(a=tm(i,["toolCall"]))&&th(e,["toolCall"],a),null!=(o=tm(i,["toolCallCancellation"]))&&th(e,["toolCallCancellation"],o),null!=(l=tm(i,["usageMetadata"]))&&th(e,["usageMetadata"],function(e){let t={},r=tm(e,["promptTokenCount"]);null!=r&&th(t,["promptTokenCount"],r);let n=tm(e,["cachedContentTokenCount"]);null!=n&&th(t,["cachedContentTokenCount"],n);let i=tm(e,["candidatesTokenCount"]);null!=i&&th(t,["responseTokenCount"],i);let a=tm(e,["toolUsePromptTokenCount"]);null!=a&&th(t,["toolUsePromptTokenCount"],a);let o=tm(e,["thoughtsTokenCount"]);null!=o&&th(t,["thoughtsTokenCount"],o);let l=tm(e,["totalTokenCount"]);null!=l&&th(t,["totalTokenCount"],l);let s=tm(e,["promptTokensDetails"]);if(null!=s){let e=s;Array.isArray(e)&&(e=e.map(e=>e)),th(t,["promptTokensDetails"],e)}let c=tm(e,["cacheTokensDetails"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>e)),th(t,["cacheTokensDetails"],e)}let u=tm(e,["candidatesTokensDetails"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>e)),th(t,["responseTokensDetails"],e)}let d=tm(e,["toolUsePromptTokensDetails"]);if(null!=d){let e=d;Array.isArray(e)&&(e=e.map(e=>e)),th(t,["toolUsePromptTokensDetails"],e)}let p=tm(e,["trafficType"]);return null!=p&&th(t,["trafficType"],p),t}(l)),null!=(s=tm(i,["goAway"]))&&th(e,["goAway"],s),null!=(c=tm(i,["sessionResumptionUpdate"]))&&th(e,["sessionResumptionUpdate"],c),e))}else Object.assign(n,i);t(n)}class rW{constructor(e,t,r){this.apiClient=e,this.auth=t,this.webSocketFactory=r,this.music=new rK(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,r,n,i,a,o,l,s;let c,u;if(e.config&&e.config.httpOptions)throw Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");let d=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion(),f=this.apiClient.getHeaders();e.config&&e.config.tools&&rH(e.config.tools)&&rV(f);let h=function(e){let t=new Headers;for(let[r,n]of Object.entries(e))t.append(r,n);return t}(f);if(this.apiClient.isVertexAI())c=`${d}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,c);else{let e=this.apiClient.getApiKey(),t="BidiGenerateContent",r="key";(null==e?void 0:e.startsWith("auth_tokens/"))&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),"v1alpha"!==p&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),t="BidiGenerateContentConstrained",r="access_token"),c=`${d}/ws/google.ai.generativelanguage.${p}.GenerativeService.${t}?${r}=${e}`}let m=()=>{},g=new Promise(e=>{m=e}),y=e.callbacks,v=this.apiClient,b={onopen:function(){var e;null==(e=null==y?void 0:y.onopen)||e.call(y),m({})},onmessage:e=>{rY(v,y.onmessage,e)},onerror:null!=(t=null==y?void 0:y.onerror)?t:function(e){},onclose:null!=(r=null==y?void 0:y.onclose)?r:function(e){}},x=this.webSocketFactory.create(c,(u={},h.forEach((e,t)=>{u[t]=e}),u),b);x.connect(),await g;let w=tq(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&w.startsWith("publishers/")){let e=this.apiClient.getProject(),t=this.apiClient.getLocation();w=`projects/${e}/locations/${t}/`+w}let O={};this.apiClient.isVertexAI()&&(null==(n=e.config)?void 0:n.responseModalities)===void 0&&(void 0===e.config?e.config={responseModalities:[eT.AUDIO]}:e.config.responseModalities=[eT.AUDIO]),(null==(i=e.config)?void 0:i.generationConfig)&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");let E=null!=(o=null==(a=e.config)?void 0:a.tools)?o:[],S=[];for(let e of E)this.isCallableTool(e)?S.push(await e.tool()):S.push(e);S.length>0&&(e.config.tools=S);let A={model:w,config:e.config,callbacks:e.callbacks};if(this.apiClient.isVertexAI()){let e,t,r;l=this.apiClient,e={},null!=(t=tm(A,["model"]))&&th(e,["setup","model"],tq(l,t)),null!=(r=tm(A,["config"]))&&th(e,["config"],function(e,t){let r=tm(e,["generationConfig"]);void 0!==t&&null!=r&&th(t,["setup","generationConfig"],function(e){let t={},r=tm(e,["modelSelectionConfig"]);null!=r&&th(t,["modelConfig"],r);let n=tm(e,["audioTimestamp"]);null!=n&&th(t,["audioTimestamp"],n);let i=tm(e,["candidateCount"]);null!=i&&th(t,["candidateCount"],i);let a=tm(e,["enableAffectiveDialog"]);null!=a&&th(t,["enableAffectiveDialog"],a);let o=tm(e,["frequencyPenalty"]);null!=o&&th(t,["frequencyPenalty"],o);let l=tm(e,["logprobs"]);null!=l&&th(t,["logprobs"],l);let s=tm(e,["maxOutputTokens"]);null!=s&&th(t,["maxOutputTokens"],s);let c=tm(e,["mediaResolution"]);null!=c&&th(t,["mediaResolution"],c);let u=tm(e,["presencePenalty"]);null!=u&&th(t,["presencePenalty"],u);let d=tm(e,["responseJsonSchema"]);null!=d&&th(t,["responseJsonSchema"],d);let p=tm(e,["responseLogprobs"]);null!=p&&th(t,["responseLogprobs"],p);let f=tm(e,["responseMimeType"]);null!=f&&th(t,["responseMimeType"],f);let h=tm(e,["responseModalities"]);null!=h&&th(t,["responseModalities"],h);let m=tm(e,["responseSchema"]);null!=m&&th(t,["responseSchema"],m);let g=tm(e,["routingConfig"]);null!=g&&th(t,["routingConfig"],g);let y=tm(e,["seed"]);null!=y&&th(t,["seed"],y);let v=tm(e,["speechConfig"]);null!=v&&th(t,["speechConfig"],rw(v));let b=tm(e,["stopSequences"]);null!=b&&th(t,["stopSequences"],b);let x=tm(e,["temperature"]);null!=x&&th(t,["temperature"],x);let w=tm(e,["thinkingConfig"]);null!=w&&th(t,["thinkingConfig"],w);let O=tm(e,["topK"]);null!=O&&th(t,["topK"],O);let E=tm(e,["topP"]);if(null!=E&&th(t,["topP"],E),void 0!==tm(e,["enableEnhancedCivicAnswers"]))throw Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}(r));let n=tm(e,["responseModalities"]);void 0!==t&&null!=n&&th(t,["setup","generationConfig","responseModalities"],n);let i=tm(e,["temperature"]);void 0!==t&&null!=i&&th(t,["setup","generationConfig","temperature"],i);let a=tm(e,["topP"]);void 0!==t&&null!=a&&th(t,["setup","generationConfig","topP"],a);let o=tm(e,["topK"]);void 0!==t&&null!=o&&th(t,["setup","generationConfig","topK"],o);let l=tm(e,["maxOutputTokens"]);void 0!==t&&null!=l&&th(t,["setup","generationConfig","maxOutputTokens"],l);let s=tm(e,["mediaResolution"]);void 0!==t&&null!=s&&th(t,["setup","generationConfig","mediaResolution"],s);let c=tm(e,["seed"]);void 0!==t&&null!=c&&th(t,["setup","generationConfig","seed"],c);let u=tm(e,["speechConfig"]);void 0!==t&&null!=u&&th(t,["setup","generationConfig","speechConfig"],rw(t1(u)));let d=tm(e,["thinkingConfig"]);void 0!==t&&null!=d&&th(t,["setup","generationConfig","thinkingConfig"],d);let p=tm(e,["enableAffectiveDialog"]);void 0!==t&&null!=p&&th(t,["setup","generationConfig","enableAffectiveDialog"],p);let f=tm(e,["systemInstruction"]);void 0!==t&&null!=f&&th(t,["setup","systemInstruction"],tW(f));let h=tm(e,["tools"]);if(void 0!==t&&null!=h){let e=t3(h);Array.isArray(e)&&(e=e.map(e=>(function(e){let t={},r=tm(e,["functionDeclarations"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>(function(e){let t={};if(void 0!==tm(e,["behavior"]))throw Error("behavior parameter is not supported in Vertex AI.");let r=tm(e,["description"]);null!=r&&th(t,["description"],r);let n=tm(e,["name"]);null!=n&&th(t,["name"],n);let i=tm(e,["parameters"]);null!=i&&th(t,["parameters"],i);let a=tm(e,["parametersJsonSchema"]);null!=a&&th(t,["parametersJsonSchema"],a);let o=tm(e,["response"]);null!=o&&th(t,["response"],o);let l=tm(e,["responseJsonSchema"]);return null!=l&&th(t,["responseJsonSchema"],l),t})(e))),th(t,["functionDeclarations"],e)}let n=tm(e,["retrieval"]);null!=n&&th(t,["retrieval"],n);let i=tm(e,["googleSearchRetrieval"]);null!=i&&th(t,["googleSearchRetrieval"],i);let a=tm(e,["googleMaps"]);null!=a&&th(t,["googleMaps"],a);let o=tm(e,["computerUse"]);null!=o&&th(t,["computerUse"],o);let l=tm(e,["codeExecution"]);null!=l&&th(t,["codeExecution"],l);let s=tm(e,["enterpriseWebSearch"]);null!=s&&th(t,["enterpriseWebSearch"],s);let c=tm(e,["googleSearch"]);null!=c&&th(t,["googleSearch"],c);let u=tm(e,["urlContext"]);return null!=u&&th(t,["urlContext"],u),t})(t2(e)))),th(t,["setup","tools"],e)}let m=tm(e,["sessionResumption"]);void 0!==t&&null!=m&&th(t,["setup","sessionResumption"],m);let g=tm(e,["inputAudioTranscription"]);void 0!==t&&null!=g&&th(t,["setup","inputAudioTranscription"],g);let y=tm(e,["outputAudioTranscription"]);void 0!==t&&null!=y&&th(t,["setup","outputAudioTranscription"],y);let v=tm(e,["realtimeInputConfig"]);void 0!==t&&null!=v&&th(t,["setup","realtimeInputConfig"],v);let b=tm(e,["contextWindowCompression"]);void 0!==t&&null!=b&&th(t,["setup","contextWindowCompression"],b);let x=tm(e,["proactivity"]);return void 0!==t&&null!=x&&th(t,["setup","proactivity"],x),{}}(r,e)),O=e}else{let e,t,r;s=this.apiClient,e={},null!=(t=tm(A,["model"]))&&th(e,["setup","model"],tq(s,t)),null!=(r=tm(A,["config"]))&&th(e,["config"],function(e,t){let r=tm(e,["generationConfig"]);void 0!==t&&null!=r&&th(t,["setup","generationConfig"],r);let n=tm(e,["responseModalities"]);void 0!==t&&null!=n&&th(t,["setup","generationConfig","responseModalities"],n);let i=tm(e,["temperature"]);void 0!==t&&null!=i&&th(t,["setup","generationConfig","temperature"],i);let a=tm(e,["topP"]);void 0!==t&&null!=a&&th(t,["setup","generationConfig","topP"],a);let o=tm(e,["topK"]);void 0!==t&&null!=o&&th(t,["setup","generationConfig","topK"],o);let l=tm(e,["maxOutputTokens"]);void 0!==t&&null!=l&&th(t,["setup","generationConfig","maxOutputTokens"],l);let s=tm(e,["mediaResolution"]);void 0!==t&&null!=s&&th(t,["setup","generationConfig","mediaResolution"],s);let c=tm(e,["seed"]);void 0!==t&&null!=c&&th(t,["setup","generationConfig","seed"],c);let u=tm(e,["speechConfig"]);void 0!==t&&null!=u&&th(t,["setup","generationConfig","speechConfig"],t1(u));let d=tm(e,["thinkingConfig"]);void 0!==t&&null!=d&&th(t,["setup","generationConfig","thinkingConfig"],d);let p=tm(e,["enableAffectiveDialog"]);void 0!==t&&null!=p&&th(t,["setup","generationConfig","enableAffectiveDialog"],p);let f=tm(e,["systemInstruction"]);void 0!==t&&null!=f&&th(t,["setup","systemInstruction"],function(e){let t={},r=tm(e,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>{var t;let r,n,i,a,o,l,s,c,u,d,p;return r={},null!=(n=tm(t=e,["functionCall"]))&&th(r,["functionCall"],n),null!=(i=tm(t,["codeExecutionResult"]))&&th(r,["codeExecutionResult"],i),null!=(a=tm(t,["executableCode"]))&&th(r,["executableCode"],a),null!=(o=tm(t,["fileData"]))&&th(r,["fileData"],function(e){let t={};if(void 0!==tm(e,["displayName"]))throw Error("displayName parameter is not supported in Gemini API.");let r=tm(e,["fileUri"]);null!=r&&th(t,["fileUri"],r);let n=tm(e,["mimeType"]);return null!=n&&th(t,["mimeType"],n),t}(o)),null!=(l=tm(t,["functionResponse"]))&&th(r,["functionResponse"],l),null!=(s=tm(t,["inlineData"]))&&th(r,["inlineData"],rx(s)),null!=(c=tm(t,["text"]))&&th(r,["text"],c),null!=(u=tm(t,["thought"]))&&th(r,["thought"],u),null!=(d=tm(t,["thoughtSignature"]))&&th(r,["thoughtSignature"],d),null!=(p=tm(t,["videoMetadata"]))&&th(r,["videoMetadata"],p),r})),th(t,["parts"],e)}let n=tm(e,["role"]);return null!=n&&th(t,["role"],n),t}(tW(f)));let h=tm(e,["tools"]);if(void 0!==t&&null!=h){let e=t3(h);Array.isArray(e)&&(e=e.map(e=>(function(e){let t={},r=tm(e,["functionDeclarations"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),th(t,["functionDeclarations"],e)}if(void 0!==tm(e,["retrieval"]))throw Error("retrieval parameter is not supported in Gemini API.");let n=tm(e,["googleSearchRetrieval"]);null!=n&&th(t,["googleSearchRetrieval"],n);let i=tm(e,["googleMaps"]);null!=i&&th(t,["googleMaps"],function(e){let t={};if(void 0!==tm(e,["authConfig"]))throw Error("authConfig parameter is not supported in Gemini API.");let r=tm(e,["enableWidget"]);return null!=r&&th(t,["enableWidget"],r),t}(i));let a=tm(e,["computerUse"]);null!=a&&th(t,["computerUse"],a);let o=tm(e,["codeExecution"]);if(null!=o&&th(t,["codeExecution"],o),void 0!==tm(e,["enterpriseWebSearch"]))throw Error("enterpriseWebSearch parameter is not supported in Gemini API.");let l=tm(e,["googleSearch"]);null!=l&&th(t,["googleSearch"],function(e){let t={};if(void 0!==tm(e,["excludeDomains"]))throw Error("excludeDomains parameter is not supported in Gemini API.");let r=tm(e,["timeRangeFilter"]);return null!=r&&th(t,["timeRangeFilter"],r),t}(l));let s=tm(e,["urlContext"]);return null!=s&&th(t,["urlContext"],s),t})(t2(e)))),th(t,["setup","tools"],e)}let m=tm(e,["sessionResumption"]);void 0!==t&&null!=m&&th(t,["setup","sessionResumption"],function(e){let t={},r=tm(e,["handle"]);if(null!=r&&th(t,["handle"],r),void 0!==tm(e,["transparent"]))throw Error("transparent parameter is not supported in Gemini API.");return t}(m));let g=tm(e,["inputAudioTranscription"]);void 0!==t&&null!=g&&th(t,["setup","inputAudioTranscription"],g);let y=tm(e,["outputAudioTranscription"]);void 0!==t&&null!=y&&th(t,["setup","outputAudioTranscription"],y);let v=tm(e,["realtimeInputConfig"]);void 0!==t&&null!=v&&th(t,["setup","realtimeInputConfig"],v);let b=tm(e,["contextWindowCompression"]);void 0!==t&&null!=b&&th(t,["setup","contextWindowCompression"],b);let x=tm(e,["proactivity"]);return void 0!==t&&null!=x&&th(t,["setup","proactivity"],x),{}}(r,e)),O=e}return delete O.config,x.send(JSON.stringify(O)),new rZ(x,this.apiClient)}isCallableTool(e){return"callTool"in e&&"function"==typeof e.callTool}}let rX={turnComplete:!0};class rZ{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(null!==t.turns&&void 0!==t.turns){let r=[];try{r=tZ(t.turns),e.isVertexAI()||(r=r.map(e=>rO(e)))}catch(e){throw Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:r,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let r=[];if(null==t.functionResponses||0===(r=Array.isArray(t.functionResponses)?t.functionResponses:[t.functionResponses]).length)throw Error("functionResponses is required.");for(let t of r){if("object"!=typeof t||null===t||!("name"in t)||!("response"in t))throw Error(`Could not parse function response, type '${typeof t}'.`);if(!e.isVertexAI()&&!("id"in t))throw Error("FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.")}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},rX),e);let t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};t=this.apiClient.isVertexAI()?{realtimeInput:function(e){let t={},r=tm(e,["media"]);if(null!=r){let e=tG(r);Array.isArray(e)&&(e=e.map(e=>e)),th(t,["mediaChunks"],e)}let n=tm(e,["audio"]);null!=n&&th(t,["audio"],tV(n));let i=tm(e,["audioStreamEnd"]);null!=i&&th(t,["audioStreamEnd"],i);let a=tm(e,["video"]);null!=a&&th(t,["video"],tH(a));let o=tm(e,["text"]);null!=o&&th(t,["text"],o);let l=tm(e,["activityStart"]);null!=l&&th(t,["activityStart"],l);let s=tm(e,["activityEnd"]);return null!=s&&th(t,["activityEnd"],s),t}(e)}:{realtimeInput:function(e){let t={},r=tm(e,["media"]);if(null!=r){let e=tG(r);Array.isArray(e)&&(e=e.map(e=>rx(e))),th(t,["mediaChunks"],e)}let n=tm(e,["audio"]);null!=n&&th(t,["audio"],rx(tV(n)));let i=tm(e,["audioStreamEnd"]);null!=i&&th(t,["audioStreamEnd"],i);let a=tm(e,["video"]);null!=a&&th(t,["video"],rx(tH(a)));let o=tm(e,["text"]);null!=o&&th(t,["text"],o);let l=tm(e,["activityStart"]);null!=l&&th(t,["activityStart"],l);let s=tm(e,["activityEnd"]);return null!=s&&th(t,["activityEnd"],s),t}(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(null==e.functionResponses)throw Error("Tool response parameters are required.");let t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function rQ(e){var t,r,n;if(null==(t=null==e?void 0:e.automaticFunctionCalling)?void 0:t.disable)return!0;let i=!1;for(let t of null!=(r=null==e?void 0:e.tools)?r:[])if(r0(t)){i=!0;break}if(!i)return!0;let a=null==(n=null==e?void 0:e.automaticFunctionCalling)?void 0:n.maximumRemoteCalls;return(!(!a||!(a<0)&&Number.isInteger(a))||0==a)&&(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0)}function r0(e){return"callTool"in e&&"function"==typeof e.callTool}function r1(e){var t;return!(null==(t=null==e?void 0:e.automaticFunctionCalling)?void 0:t.ignoreCallHistory)}class r2 extends tp{constructor(e){super(),this.apiClient=e,this.generateContent=async e=>{var t,r,n,i,a,o,l,s,c,u,d;let p,f,h=await this.processParamsMaybeAddMcpUsage(e);if(this.maybeMoveToResponseJsonSchem(e),!(null!=(s=null==(l=null==(o=e.config)?void 0:o.tools)?void 0:l.some(e=>r0(e)))&&s)||rQ(e.config))return await this.generateContentInternal(h);if(null!=(d=null==(u=null==(c=e.config)?void 0:c.tools)?void 0:u.some(e=>!r0(e)))&&d)throw Error("Automatic function calling with CallableTools and Tools is not yet supported.");let m=tZ(h.contents),g=null!=(n=null==(r=null==(t=h.config)?void 0:t.automaticFunctionCalling)?void 0:r.maximumRemoteCalls)?n:10,y=0;for(;y<g&&(p=await this.generateContentInternal(h)).functionCalls&&0!==p.functionCalls.length;){let t=p.candidates[0].content,r=[];for(let t of null!=(a=null==(i=e.config)?void 0:i.tools)?a:[])if(r0(t)){let e=await t.callTool(p.functionCalls);r.push(...e)}y++,f={role:"user",parts:r},h.contents=tZ(h.contents),h.contents.push(t),h.contents.push(f),r1(h.config)&&(m.push(t),m.push(f))}return r1(h.config)&&(p.automaticFunctionCallingHistory=m),p},this.generateContentStream=async e=>{if(this.maybeMoveToResponseJsonSchem(e),!rQ(e.config))return await this.processAfcStream(e);{let t=await this.processParamsMaybeAddMcpUsage(e);return await this.generateContentStreamInternal(t)}},this.generateImages=async e=>await this.generateImagesInternal(e).then(e=>{var t;let r,n=[];if(null==e?void 0:e.generatedImages)for(let i of e.generatedImages)i&&(null==i?void 0:i.safetyAttributes)&&(null==(t=null==i?void 0:i.safetyAttributes)?void 0:t.contentType)==="Positive Prompt"?r=null==i?void 0:i.safetyAttributes:n.push(i);return r?{generatedImages:n,positivePromptSafetyAttributes:r,sdkHttpResponse:e.sdkHttpResponse}:{generatedImages:n,sdkHttpResponse:e.sdkHttpResponse}}),this.list=async e=>{var t;let r={config:Object.assign(Object.assign({},{queryBase:!0}),null==e?void 0:e.config)};if(this.apiClient.isVertexAI()&&!r.config.queryBase)if(null==(t=r.config)?void 0:t.filter)throw Error("Filtering tuned models list for Vertex AI is not currently supported");else r.config.filter="labels.tune-type:*";return new rl(te.PAGED_ITEM_MODELS,e=>this.listInternal(e),await this.listInternal(r),r)},this.editImage=async e=>{let t={model:e.model,prompt:e.prompt,referenceImages:[],config:e.config};return e.referenceImages&&e.referenceImages&&(t.referenceImages=e.referenceImages.map(e=>e.toReferenceImageAPI())),await this.editImageInternal(t)},this.upscaleImage=async e=>{let t={numberOfImages:1,mode:"upscale"};e.config&&(t=Object.assign(Object.assign({},t),e.config));let r={model:e.model,image:e.image,upscaleFactor:e.upscaleFactor,config:t};return await this.upscaleImageInternal(r)},this.generateVideos=async e=>{var t,r,n,i,a,o;if((e.prompt||e.image||e.video)&&e.source)throw Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return!this.apiClient.isVertexAI()&&((null==(t=e.video)?void 0:t.uri)&&(null==(r=e.video)?void 0:r.videoBytes)?e.video={uri:e.video.uri,mimeType:e.video.mimeType}:(null==(i=null==(n=e.source)?void 0:n.video)?void 0:i.uri)&&(null==(o=null==(a=e.source)?void 0:a.video)?void 0:o.videoBytes)&&(e.source.video={uri:e.source.video.uri,mimeType:e.source.video.mimeType})),await this.generateVideosInternal(e)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&!e.config.responseJsonSchema&&Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema)}async processParamsMaybeAddMcpUsage(e){var t,r,n;let i=null==(t=e.config)?void 0:t.tools;if(!i)return e;let a=await Promise.all(i.map(async e=>r0(e)?await e.tool():e)),o={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(o.config.tools=a,e.config&&e.config.tools&&rH(e.config.tools)){let t=Object.assign({},null!=(n=null==(r=e.config.httpOptions)?void 0:r.headers)?n:{});0===Object.keys(t).length&&(t=this.apiClient.getDefaultHeaders()),rV(t),o.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:t})}return o}async initAfcToolsMap(e){var t,r,n;let i=new Map;for(let a of null!=(r=null==(t=e.config)?void 0:t.tools)?r:[])if(r0(a))for(let e of null!=(n=(await a.tool()).functionDeclarations)?n:[]){if(!e.name)throw Error("Function declaration name is required.");if(i.has(e.name))throw Error(`Duplicate tool declaration name: ${e.name}`);i.set(e.name,a)}return i}async processAfcStream(e){var t,r,n;let i=null!=(n=null==(r=null==(t=e.config)?void 0:t.automaticFunctionCalling)?void 0:r.maximumRemoteCalls)?n:10,a=!1,o=0;return function(e,t,r){var n,l;return rp(this,arguments,function*(){for(var s,c,u,d;o<i;){a&&(o++,a=!1);let m=yield rd(e.processParamsMaybeAddMcpUsage(r)),g=yield rd(e.generateContentStreamInternal(m)),y=[],v=[];try{for(var p,f=!0,h=(c=void 0,rf(g));!(s=(p=yield rd(h.next())).done);f=!0)if(d=p.value,f=!1,yield yield rd(d),d.candidates&&(null==(n=d.candidates[0])?void 0:n.content)){for(let e of(v.push(d.candidates[0].content),null!=(l=d.candidates[0].content.parts)?l:[]))if(o<i&&e.functionCall){if(!e.functionCall.name)throw Error("Function call name was not returned by the model.");if(t.has(e.functionCall.name)){let r=yield rd(t.get(e.functionCall.name).callTool([e.functionCall]));y.push(...r)}else throw Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${t.keys()}, mising tool: ${e.functionCall.name}`)}}}catch(e){c={error:e}}finally{try{!f&&!s&&(u=h.return)&&(yield rd(u.call(h)))}finally{if(c)throw c.error}}if(y.length>0){a=!0;let e=new tv;e.candidates=[{content:{role:"user",parts:y}}],yield yield rd(e);let t=[];t.push(...v),t.push({role:"user",parts:y});let n=tZ(r.contents).concat(t);r.contents=n}else break}})}(this,await this.initAfcToolsMap(e),e)}async generateContentInternal(e){var t,r,n,i;let a="",o={};if(this.apiClient.isVertexAI()){let n=rS(this.apiClient,e);return a=tf("{model}:generateContent",n._url),o=n._query,delete n._url,delete n._query,this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(n),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=rj(e),r=new tv;return Object.assign(r,t),r})}{let t=rE(this.apiClient,e);return a=tf("{model}:generateContent",t._url),o=t._query,delete t._url,delete t._query,this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=rA(e),r=new tv;return Object.assign(r,t),r})}}async generateContentStreamInternal(e){var t,r,n,i;let a="",o={};if(this.apiClient.isVertexAI()){let n=rS(this.apiClient,e);return a=tf("{model}:streamGenerateContent?alt=sse",n._url),o=n._query,delete n._url,delete n._query,this.apiClient.requestStream({path:a,queryParams:o,body:JSON.stringify(n),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(function(e){return rp(this,arguments,function*(){var t,r,n,i;try{for(var a,o=!0,l=rf(e);!(t=(a=yield rd(l.next())).done);o=!0){i=a.value,o=!1;let e=rj((yield rd(i.json())));e.sdkHttpResponse={headers:i.headers};let t=new tv;Object.assign(t,e),yield yield rd(t)}}catch(e){r={error:e}}finally{try{!o&&!t&&(n=l.return)&&(yield rd(n.call(l)))}finally{if(r)throw r.error}}})})}{let t=rE(this.apiClient,e);return a=tf("{model}:streamGenerateContent?alt=sse",t._url),o=t._query,delete t._url,delete t._query,this.apiClient.requestStream({path:a,queryParams:o,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal}).then(function(e){return rp(this,arguments,function*(){var t,r,n,i;try{for(var a,o=!0,l=rf(e);!(t=(a=yield rd(l.next())).done);o=!0){i=a.value,o=!1;let e=rA((yield rd(i.json())));e.sdkHttpResponse={headers:i.headers};let t=new tv;Object.assign(t,e),yield yield rd(t)}}catch(e){r={error:e}}finally{try{!o&&!t&&(n=l.return)&&(yield rd(n.call(l)))}finally{if(r)throw r.error}}})})}}async embedContent(e){var t,r,n,i;let a="",o={};if(this.apiClient.isVertexAI()){let n=function(e,t){let r,n,i,a,o,l={},s=tm(t,["model"]);null!=s&&th(l,["_url","model"],tq(e,s));let c=tm(t,["contents"]);if(null!=c){let t=tX(e,c);Array.isArray(t)&&(t=t.map(e=>e)),th(l,["instances[]","content"],t)}let u=tm(t,["config"]);return null!=u&&(r=tm(u,["taskType"]),void 0!==l&&null!=r&&th(l,["instances[]","task_type"],r),n=tm(u,["title"]),void 0!==l&&null!=n&&th(l,["instances[]","title"],n),i=tm(u,["outputDimensionality"]),void 0!==l&&null!=i&&th(l,["parameters","outputDimensionality"],i),a=tm(u,["mimeType"]),void 0!==l&&null!=a&&th(l,["instances[]","mimeType"],a),o=tm(u,["autoTruncate"]),void 0!==l&&null!=o&&th(l,["parameters","autoTruncate"],o)),l}(this.apiClient,e);return a=tf("{model}:predict",n._url),o=n._query,delete n._url,delete n._query,this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(n),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e){let t={},r=tm(e,["sdkHttpResponse"]);null!=r&&th(t,["sdkHttpResponse"],r);let n=tm(e,["predictions[]","embeddings"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>{var t;let r,n,i,a,o,l;return r={},null!=(n=tm(e,["values"]))&&th(r,["values"],n),null!=(i=tm(e,["statistics"]))&&th(r,["statistics"],(a={},null!=(o=tm(t=i,["truncated"]))&&th(a,["truncated"],o),null!=(l=tm(t,["token_count"]))&&th(a,["tokenCount"],l),a)),r})),th(t,["embeddings"],e)}let i=tm(e,["metadata"]);return null!=i&&th(t,["metadata"],i),t}(e),r=new tb;return Object.assign(r,t),r})}{let t=function(e,t){let r={},n=tm(t,["model"]);null!=n&&th(r,["_url","model"],tq(e,n));let i=tm(t,["contents"]);if(null!=i){let t=tX(e,i);Array.isArray(t)&&(t=t.map(e=>e)),th(r,["requests[]","content"],t)}let a=tm(t,["config"]);null!=a&&function(e,t){let r=tm(e,["taskType"]);void 0!==t&&null!=r&&th(t,["requests[]","taskType"],r);let n=tm(e,["title"]);void 0!==t&&null!=n&&th(t,["requests[]","title"],n);let i=tm(e,["outputDimensionality"]);if(void 0!==t&&null!=i&&th(t,["requests[]","outputDimensionality"],i),void 0!==tm(e,["mimeType"]))throw Error("mimeType parameter is not supported in Gemini API.");if(void 0!==tm(e,["autoTruncate"]))throw Error("autoTruncate parameter is not supported in Gemini API.")}(a,r);let o=tm(t,["model"]);return void 0!==o&&th(r,["requests[]","model"],tq(e,o)),r}(this.apiClient,e);return a=tf("{model}:batchEmbedContents",t._url),o=t._query,delete t._url,delete t._query,this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e){let t={},r=tm(e,["sdkHttpResponse"]);null!=r&&th(t,["sdkHttpResponse"],r);let n=tm(e,["embeddings"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),th(t,["embeddings"],e)}let i=tm(e,["metadata"]);return null!=i&&th(t,["metadata"],i),t}(e),r=new tb;return Object.assign(r,t),r})}}async generateImagesInternal(e){var t,r,n,i,a,o;let l="",s={};if(this.apiClient.isVertexAI()){let n,i,o,c,u,d,p,f,h,m,g,y,v,b,x,w,O,E,S,A,j,_=(a=this.apiClient,n={},null!=(i=tm(e,["model"]))&&th(n,["_url","model"],tq(a,i)),null!=(o=tm(e,["prompt"]))&&th(n,["instances[0]","prompt"],o),null!=(c=tm(e,["config"]))&&(u=tm(c,["outputGcsUri"]),void 0!==n&&null!=u&&th(n,["parameters","storageUri"],u),d=tm(c,["negativePrompt"]),void 0!==n&&null!=d&&th(n,["parameters","negativePrompt"],d),p=tm(c,["numberOfImages"]),void 0!==n&&null!=p&&th(n,["parameters","sampleCount"],p),f=tm(c,["aspectRatio"]),void 0!==n&&null!=f&&th(n,["parameters","aspectRatio"],f),h=tm(c,["guidanceScale"]),void 0!==n&&null!=h&&th(n,["parameters","guidanceScale"],h),m=tm(c,["seed"]),void 0!==n&&null!=m&&th(n,["parameters","seed"],m),g=tm(c,["safetyFilterLevel"]),void 0!==n&&null!=g&&th(n,["parameters","safetySetting"],g),y=tm(c,["personGeneration"]),void 0!==n&&null!=y&&th(n,["parameters","personGeneration"],y),v=tm(c,["includeSafetyAttributes"]),void 0!==n&&null!=v&&th(n,["parameters","includeSafetyAttributes"],v),b=tm(c,["includeRaiReason"]),void 0!==n&&null!=b&&th(n,["parameters","includeRaiReason"],b),x=tm(c,["language"]),void 0!==n&&null!=x&&th(n,["parameters","language"],x),w=tm(c,["outputMimeType"]),void 0!==n&&null!=w&&th(n,["parameters","outputOptions","mimeType"],w),O=tm(c,["outputCompressionQuality"]),void 0!==n&&null!=O&&th(n,["parameters","outputOptions","compressionQuality"],O),E=tm(c,["addWatermark"]),void 0!==n&&null!=E&&th(n,["parameters","addWatermark"],E),S=tm(c,["labels"]),void 0!==n&&null!=S&&th(n,["labels"],S),A=tm(c,["imageSize"]),void 0!==n&&null!=A&&th(n,["parameters","sampleImageSize"],A),j=tm(c,["enhancePrompt"]),void 0!==n&&null!=j&&th(n,["parameters","enhancePrompt"],j)),n);return l=tf("{model}:predict",_._url),s=_._query,delete _._url,delete _._query,this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(_),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e){let t={},r=tm(e,["sdkHttpResponse"]);null!=r&&th(t,["sdkHttpResponse"],r);let n=tm(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>r_(e))),th(t,["generatedImages"],e)}let i=tm(e,["positivePromptSafetyAttributes"]);return null!=i&&th(t,["positivePromptSafetyAttributes"],rM(i)),t}(e),r=new tx;return Object.assign(r,t),r})}{let t,r,a,c,u=(o=this.apiClient,t={},null!=(r=tm(e,["model"]))&&th(t,["_url","model"],tq(o,r)),null!=(a=tm(e,["prompt"]))&&th(t,["instances[0]","prompt"],a),null!=(c=tm(e,["config"]))&&function(e,t){if(void 0!==tm(e,["outputGcsUri"]))throw Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==tm(e,["negativePrompt"]))throw Error("negativePrompt parameter is not supported in Gemini API.");let r=tm(e,["numberOfImages"]);void 0!==t&&null!=r&&th(t,["parameters","sampleCount"],r);let n=tm(e,["aspectRatio"]);void 0!==t&&null!=n&&th(t,["parameters","aspectRatio"],n);let i=tm(e,["guidanceScale"]);if(void 0!==t&&null!=i&&th(t,["parameters","guidanceScale"],i),void 0!==tm(e,["seed"]))throw Error("seed parameter is not supported in Gemini API.");let a=tm(e,["safetyFilterLevel"]);void 0!==t&&null!=a&&th(t,["parameters","safetySetting"],a);let o=tm(e,["personGeneration"]);void 0!==t&&null!=o&&th(t,["parameters","personGeneration"],o);let l=tm(e,["includeSafetyAttributes"]);void 0!==t&&null!=l&&th(t,["parameters","includeSafetyAttributes"],l);let s=tm(e,["includeRaiReason"]);void 0!==t&&null!=s&&th(t,["parameters","includeRaiReason"],s);let c=tm(e,["language"]);void 0!==t&&null!=c&&th(t,["parameters","language"],c);let u=tm(e,["outputMimeType"]);void 0!==t&&null!=u&&th(t,["parameters","outputOptions","mimeType"],u);let d=tm(e,["outputCompressionQuality"]);if(void 0!==t&&null!=d&&th(t,["parameters","outputOptions","compressionQuality"],d),void 0!==tm(e,["addWatermark"]))throw Error("addWatermark parameter is not supported in Gemini API.");if(void 0!==tm(e,["labels"]))throw Error("labels parameter is not supported in Gemini API.");let p=tm(e,["imageSize"]);if(void 0!==t&&null!=p&&th(t,["parameters","sampleImageSize"],p),void 0!==tm(e,["enhancePrompt"]))throw Error("enhancePrompt parameter is not supported in Gemini API.")}(c,t),t);return l=tf("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e){let t={},r=tm(e,["sdkHttpResponse"]);null!=r&&th(t,["sdkHttpResponse"],r);let n=tm(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>{var t,r;let n,i,a,o,l,s,c;return n={},null!=(i=tm(t=e,["_self"]))&&th(n,["image"],(a={},null!=(o=tm(r=i,["bytesBase64Encoded"]))&&th(a,["imageBytes"],tg(o)),null!=(l=tm(r,["mimeType"]))&&th(a,["mimeType"],l),a)),null!=(s=tm(t,["raiFilteredReason"]))&&th(n,["raiFilteredReason"],s),null!=(c=tm(t,["_self"]))&&th(n,["safetyAttributes"],rk(c)),n})),th(t,["generatedImages"],e)}let i=tm(e,["positivePromptSafetyAttributes"]);return null!=i&&th(t,["positivePromptSafetyAttributes"],rk(i)),t}(e),r=new tx;return Object.assign(r,t),r})}}async editImageInternal(e){var t,r;let n="",i={};if(this.apiClient.isVertexAI()){let a=function(e,t){let r,n,i,a,o,l,s,c,u,d,p,f,h,m,g,y,v,b={},x=tm(t,["model"]);null!=x&&th(b,["_url","model"],tq(e,x));let w=tm(t,["prompt"]);null!=w&&th(b,["instances[0]","prompt"],w);let O=tm(t,["referenceImages"]);if(null!=O){let e=O;Array.isArray(e)&&(e=e.map(e=>(function(e){let t,r,n,i,a,o,l,s={},c=tm(e,["referenceImage"]);null!=c&&th(s,["referenceImage"],rT(c));let u=tm(e,["referenceId"]);null!=u&&th(s,["referenceId"],u);let d=tm(e,["referenceType"]);null!=d&&th(s,["referenceType"],d);let p=tm(e,["maskImageConfig"]);null!=p&&th(s,["maskImageConfig"],(t={},null!=(r=tm(p,["maskMode"]))&&th(t,["maskMode"],r),null!=(n=tm(p,["segmentationClasses"]))&&th(t,["maskClasses"],n),null!=(i=tm(p,["maskDilation"]))&&th(t,["dilation"],i),t));let f=tm(e,["controlImageConfig"]);null!=f&&th(s,["controlImageConfig"],(a={},null!=(o=tm(f,["controlType"]))&&th(a,["controlType"],o),null!=(l=tm(f,["enableControlImageComputation"]))&&th(a,["computeControl"],l),a));let h=tm(e,["styleImageConfig"]);null!=h&&th(s,["styleImageConfig"],h);let m=tm(e,["subjectImageConfig"]);return null!=m&&th(s,["subjectImageConfig"],m),s})(e))),th(b,["instances[0]","referenceImages"],e)}let E=tm(t,["config"]);return null!=E&&(r=tm(E,["outputGcsUri"]),void 0!==b&&null!=r&&th(b,["parameters","storageUri"],r),n=tm(E,["negativePrompt"]),void 0!==b&&null!=n&&th(b,["parameters","negativePrompt"],n),i=tm(E,["numberOfImages"]),void 0!==b&&null!=i&&th(b,["parameters","sampleCount"],i),a=tm(E,["aspectRatio"]),void 0!==b&&null!=a&&th(b,["parameters","aspectRatio"],a),o=tm(E,["guidanceScale"]),void 0!==b&&null!=o&&th(b,["parameters","guidanceScale"],o),l=tm(E,["seed"]),void 0!==b&&null!=l&&th(b,["parameters","seed"],l),s=tm(E,["safetyFilterLevel"]),void 0!==b&&null!=s&&th(b,["parameters","safetySetting"],s),c=tm(E,["personGeneration"]),void 0!==b&&null!=c&&th(b,["parameters","personGeneration"],c),u=tm(E,["includeSafetyAttributes"]),void 0!==b&&null!=u&&th(b,["parameters","includeSafetyAttributes"],u),d=tm(E,["includeRaiReason"]),void 0!==b&&null!=d&&th(b,["parameters","includeRaiReason"],d),p=tm(E,["language"]),void 0!==b&&null!=p&&th(b,["parameters","language"],p),f=tm(E,["outputMimeType"]),void 0!==b&&null!=f&&th(b,["parameters","outputOptions","mimeType"],f),h=tm(E,["outputCompressionQuality"]),void 0!==b&&null!=h&&th(b,["parameters","outputOptions","compressionQuality"],h),m=tm(E,["addWatermark"]),void 0!==b&&null!=m&&th(b,["parameters","addWatermark"],m),g=tm(E,["labels"]),void 0!==b&&null!=g&&th(b,["labels"],g),y=tm(E,["editMode"]),void 0!==b&&null!=y&&th(b,["parameters","editMode"],y),v=tm(E,["baseSteps"]),void 0!==b&&null!=v&&th(b,["parameters","editConfig","baseSteps"],v)),b}(this.apiClient,e);return n=tf("{model}:predict",a._url),i=a._query,delete a._url,delete a._query,this.apiClient.request({path:n,queryParams:i,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e){let t={},r=tm(e,["sdkHttpResponse"]);null!=r&&th(t,["sdkHttpResponse"],r);let n=tm(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>r_(e))),th(t,["generatedImages"],e)}return t}(e),r=new tw;return Object.assign(r,t),r})}throw Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,r,n;let i="",a={};if(this.apiClient.isVertexAI()){let o,l,s,c,u,d,p,f,h,m,g,y,v,b,x,w,O=(n=this.apiClient,o={},null!=(l=tm(e,["model"]))&&th(o,["_url","model"],tq(n,l)),null!=(s=tm(e,["image"]))&&th(o,["instances[0]","image"],rT(s)),null!=(c=tm(e,["upscaleFactor"]))&&th(o,["parameters","upscaleConfig","upscaleFactor"],c),null!=(u=tm(e,["config"]))&&(d=tm(u,["outputGcsUri"]),void 0!==o&&null!=d&&th(o,["parameters","storageUri"],d),p=tm(u,["safetyFilterLevel"]),void 0!==o&&null!=p&&th(o,["parameters","safetySetting"],p),f=tm(u,["personGeneration"]),void 0!==o&&null!=f&&th(o,["parameters","personGeneration"],f),h=tm(u,["includeRaiReason"]),void 0!==o&&null!=h&&th(o,["parameters","includeRaiReason"],h),m=tm(u,["outputMimeType"]),void 0!==o&&null!=m&&th(o,["parameters","outputOptions","mimeType"],m),g=tm(u,["outputCompressionQuality"]),void 0!==o&&null!=g&&th(o,["parameters","outputOptions","compressionQuality"],g),y=tm(u,["enhanceInputImage"]),void 0!==o&&null!=y&&th(o,["parameters","upscaleConfig","enhanceInputImage"],y),v=tm(u,["imagePreservationFactor"]),void 0!==o&&null!=v&&th(o,["parameters","upscaleConfig","imagePreservationFactor"],v),b=tm(u,["labels"]),void 0!==o&&null!=b&&th(o,["labels"],b),x=tm(u,["numberOfImages"]),void 0!==o&&null!=x&&th(o,["parameters","sampleCount"],x),w=tm(u,["mode"]),void 0!==o&&null!=w&&th(o,["parameters","mode"],w)),o);return i=tf("{model}:predict",O._url),a=O._query,delete O._url,delete O._query,this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(O),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e){let t={},r=tm(e,["sdkHttpResponse"]);null!=r&&th(t,["sdkHttpResponse"],r);let n=tm(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>r_(e))),th(t,["generatedImages"],e)}return t}(e),r=new tO;return Object.assign(r,t),r})}throw Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,r,n;let i="",a={};if(this.apiClient.isVertexAI()){let o,l,s,c,u,d,p,f,h,m,g,y,v,b,x,w=(n=this.apiClient,o={},null!=(l=tm(e,["model"]))&&th(o,["_url","model"],tq(n,l)),null!=(s=tm(e,["source"]))&&function(e,t){let r=tm(e,["prompt"]);void 0!==t&&null!=r&&th(t,["instances[0]","prompt"],r);let n=tm(e,["personImage"]);void 0!==t&&null!=n&&th(t,["instances[0]","personImage","image"],rT(n));let i=tm(e,["productImages"]);if(void 0!==t&&null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>{let t,r;return t={},null!=(r=tm(e,["productImage"]))&&th(t,["image"],rT(r)),t})),th(t,["instances[0]","productImages"],e)}}(s,o),null!=(c=tm(e,["config"]))&&(u=tm(c,["numberOfImages"]),void 0!==o&&null!=u&&th(o,["parameters","sampleCount"],u),d=tm(c,["baseSteps"]),void 0!==o&&null!=d&&th(o,["parameters","editConfig","baseSteps"],d),p=tm(c,["outputGcsUri"]),void 0!==o&&null!=p&&th(o,["parameters","storageUri"],p),f=tm(c,["seed"]),void 0!==o&&null!=f&&th(o,["parameters","seed"],f),h=tm(c,["safetyFilterLevel"]),void 0!==o&&null!=h&&th(o,["parameters","safetySetting"],h),m=tm(c,["personGeneration"]),void 0!==o&&null!=m&&th(o,["parameters","personGeneration"],m),g=tm(c,["addWatermark"]),void 0!==o&&null!=g&&th(o,["parameters","addWatermark"],g),y=tm(c,["outputMimeType"]),void 0!==o&&null!=y&&th(o,["parameters","outputOptions","mimeType"],y),v=tm(c,["outputCompressionQuality"]),void 0!==o&&null!=v&&th(o,["parameters","outputOptions","compressionQuality"],v),b=tm(c,["enhancePrompt"]),void 0!==o&&null!=b&&th(o,["parameters","enhancePrompt"],b),x=tm(c,["labels"]),void 0!==o&&null!=x&&th(o,["labels"],x)),o);return i=tf("{model}:predict",w._url),a=w._query,delete w._url,delete w._query,this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(w),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>{let t=function(e){let t={},r=tm(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>r_(e))),th(t,["generatedImages"],e)}return t}(e),r=new tE;return Object.assign(r,t),r})}throw Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,r,n,i,a;let o="",l={};if(this.apiClient.isVertexAI()){let s,c,u,d,p,f,h,m,g,y,v,b,x,w,O,E=(n=this.apiClient,f={},null!=(h=tm(e,["model"]))&&th(f,["_url","model"],tq(n,h)),null!=(m=tm(e,["source"]))&&(i=m,a=f,u=tm(i,["prompt"]),void 0!==a&&null!=u&&th(a,["instances[0]","prompt"],u),d=tm(i,["image"]),void 0!==a&&null!=d&&th(a,["instances[0]","image"],rT(d)),p=tm(i,["scribbleImage"]),void 0!==a&&null!=p&&th(a,["instances[0]","scribble"],(s={},null!=(c=tm(p,["image"]))&&th(s,["image"],rT(c)),s))),null!=(g=tm(e,["config"]))&&(y=tm(g,["mode"]),void 0!==f&&null!=y&&th(f,["parameters","mode"],y),v=tm(g,["maxPredictions"]),void 0!==f&&null!=v&&th(f,["parameters","maxPredictions"],v),b=tm(g,["confidenceThreshold"]),void 0!==f&&null!=b&&th(f,["parameters","confidenceThreshold"],b),x=tm(g,["maskDilation"]),void 0!==f&&null!=x&&th(f,["parameters","maskDilation"],x),w=tm(g,["binaryColorThreshold"]),void 0!==f&&null!=w&&th(f,["parameters","binaryColorThreshold"],w),O=tm(g,["labels"]),void 0!==f&&null!=O&&th(f,["labels"],O)),f);return o=tf("{model}:predict",E._url),l=E._query,delete E._url,delete E._query,this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(E),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>{let t=function(e){let t={},r=tm(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>(function(e){let t={},r=tm(e,["_self"]);null!=r&&th(t,["mask"],rC(r));let n=tm(e,["labels"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),th(t,["labels"],e)}return t})(e))),th(t,["generatedMasks"],e)}return t}(e),r=new tS;return Object.assign(r,t),r})}throw Error("This method is only supported by the Vertex AI.")}async get(e){var t,r,n,i,a,o;let l="",s={};if(this.apiClient.isVertexAI()){let n,i,o=(a=this.apiClient,n={},null!=(i=tm(e,["model"]))&&th(n,["_url","name"],tq(a,i)),n);return l=tf("{name}",o._url),s=o._query,delete o._url,delete o._query,this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>rP(e))}{let t,r,a=(o=this.apiClient,t={},null!=(r=tm(e,["model"]))&&th(t,["_url","name"],tq(o,r)),t);return l=tf("{name}",a._url),s=a._query,delete a._url,delete a._query,this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal}).then(e=>e.json()).then(e=>rI(e))}}async listInternal(e){var t,r,n,i,a,o;let l="",s={};if(this.apiClient.isVertexAI()){let n,i,o,c,u,d,p=(a=this.apiClient,n={},null!=(i=tm(e,["config"]))&&(o=tm(i,["pageSize"]),void 0!==n&&null!=o&&th(n,["_query","pageSize"],o),c=tm(i,["pageToken"]),void 0!==n&&null!=c&&th(n,["_query","pageToken"],c),u=tm(i,["filter"]),void 0!==n&&null!=u&&th(n,["_query","filter"],u),d=tm(i,["queryBase"]),void 0!==n&&null!=d&&th(n,["_url","models_url"],t8(a,d))),n);return l=tf("{models_url}",p._url),s=p._query,delete p._url,delete p._query,this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(p),httpMethod:"GET",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e){let t={},r=tm(e,["sdkHttpResponse"]);null!=r&&th(t,["sdkHttpResponse"],r);let n=tm(e,["nextPageToken"]);null!=n&&th(t,["nextPageToken"],n);let i=tm(e,["_self"]);if(null!=i){let e=t7(i);Array.isArray(e)&&(e=e.map(e=>rP(e))),th(t,["models"],e)}return t}(e),r=new tA;return Object.assign(r,t),r})}{let t,r,a,c,u,d,p=(o=this.apiClient,t={},null!=(r=tm(e,["config"]))&&(a=tm(r,["pageSize"]),void 0!==t&&null!=a&&th(t,["_query","pageSize"],a),c=tm(r,["pageToken"]),void 0!==t&&null!=c&&th(t,["_query","pageToken"],c),u=tm(r,["filter"]),void 0!==t&&null!=u&&th(t,["_query","filter"],u),d=tm(r,["queryBase"]),void 0!==t&&null!=d&&th(t,["_url","models_url"],t8(o,d))),t);return l=tf("{models_url}",p._url),s=p._query,delete p._url,delete p._query,this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(p),httpMethod:"GET",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e){let t={},r=tm(e,["sdkHttpResponse"]);null!=r&&th(t,["sdkHttpResponse"],r);let n=tm(e,["nextPageToken"]);null!=n&&th(t,["nextPageToken"],n);let i=tm(e,["_self"]);if(null!=i){let e=t7(i);Array.isArray(e)&&(e=e.map(e=>rI(e))),th(t,["models"],e)}return t}(e),r=new tA;return Object.assign(r,t),r})}}async update(e){var t,r,n,i,a,o;let l="",s={};if(this.apiClient.isVertexAI()){let n,i,o,c,u,d,p=(a=this.apiClient,n={},null!=(i=tm(e,["model"]))&&th(n,["_url","model"],tq(a,i)),null!=(o=tm(e,["config"]))&&(c=tm(o,["displayName"]),void 0!==n&&null!=c&&th(n,["displayName"],c),u=tm(o,["description"]),void 0!==n&&null!=u&&th(n,["description"],u),d=tm(o,["defaultCheckpointId"]),void 0!==n&&null!=d&&th(n,["defaultCheckpointId"],d)),n);return l=tf("{model}",p._url),s=p._query,delete p._url,delete p._query,this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>rP(e))}{let t,r,a,c,u,d,p=(o=this.apiClient,t={},null!=(r=tm(e,["model"]))&&th(t,["_url","name"],tq(o,r)),null!=(a=tm(e,["config"]))&&(c=tm(a,["displayName"]),void 0!==t&&null!=c&&th(t,["displayName"],c),u=tm(a,["description"]),void 0!==t&&null!=u&&th(t,["description"],u),d=tm(a,["defaultCheckpointId"]),void 0!==t&&null!=d&&th(t,["defaultCheckpointId"],d)),t);return l=tf("{name}",p._url),s=p._query,delete p._url,delete p._query,this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal}).then(e=>e.json()).then(e=>rI(e))}}async delete(e){var t,r,n,i,a,o;let l="",s={};if(this.apiClient.isVertexAI()){let n,i,o=(a=this.apiClient,n={},null!=(i=tm(e,["model"]))&&th(n,["_url","name"],tq(a,i)),n);return l=tf("{name}",o._url),s=o._query,delete o._url,delete o._query,this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t,r,n=(t={},null!=(r=tm(e,["sdkHttpResponse"]))&&th(t,["sdkHttpResponse"],r),t),i=new tj;return Object.assign(i,n),i})}{let t,r,a=(o=this.apiClient,t={},null!=(r=tm(e,["model"]))&&th(t,["_url","name"],tq(o,r)),t);return l=tf("{name}",a._url),s=a._query,delete a._url,delete a._query,this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t,r,n=(t={},null!=(r=tm(e,["sdkHttpResponse"]))&&th(t,["sdkHttpResponse"],r),t),i=new tj;return Object.assign(i,n),i})}}async countTokens(e){var t,r,n,i;let a="",o={};if(this.apiClient.isVertexAI()){let n=function(e,t){let r={},n=tm(t,["model"]);null!=n&&th(r,["_url","model"],tq(e,n));let i=tm(t,["contents"]);if(null!=i){let e=tZ(i);Array.isArray(e)&&(e=e.map(e=>e)),th(r,["contents"],e)}let a=tm(t,["config"]);return null!=a&&function(e,t){let r=tm(e,["systemInstruction"]);void 0!==t&&null!=r&&th(t,["systemInstruction"],tW(r));let n=tm(e,["tools"]);if(void 0!==t&&null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>rR(e))),th(t,["tools"],e)}let i=tm(e,["generationConfig"]);void 0!==t&&null!=i&&th(t,["generationConfig"],function(e){let t={},r=tm(e,["modelSelectionConfig"]);null!=r&&th(t,["modelConfig"],r);let n=tm(e,["audioTimestamp"]);null!=n&&th(t,["audioTimestamp"],n);let i=tm(e,["candidateCount"]);null!=i&&th(t,["candidateCount"],i);let a=tm(e,["enableAffectiveDialog"]);null!=a&&th(t,["enableAffectiveDialog"],a);let o=tm(e,["frequencyPenalty"]);null!=o&&th(t,["frequencyPenalty"],o);let l=tm(e,["logprobs"]);null!=l&&th(t,["logprobs"],l);let s=tm(e,["maxOutputTokens"]);null!=s&&th(t,["maxOutputTokens"],s);let c=tm(e,["mediaResolution"]);null!=c&&th(t,["mediaResolution"],c);let u=tm(e,["presencePenalty"]);null!=u&&th(t,["presencePenalty"],u);let d=tm(e,["responseJsonSchema"]);null!=d&&th(t,["responseJsonSchema"],d);let p=tm(e,["responseLogprobs"]);null!=p&&th(t,["responseLogprobs"],p);let f=tm(e,["responseMimeType"]);null!=f&&th(t,["responseMimeType"],f);let h=tm(e,["responseModalities"]);null!=h&&th(t,["responseModalities"],h);let m=tm(e,["responseSchema"]);null!=m&&th(t,["responseSchema"],m);let g=tm(e,["routingConfig"]);null!=g&&th(t,["routingConfig"],g);let y=tm(e,["seed"]);null!=y&&th(t,["seed"],y);let v=tm(e,["speechConfig"]);null!=v&&th(t,["speechConfig"],rD(v));let b=tm(e,["stopSequences"]);null!=b&&th(t,["stopSequences"],b);let x=tm(e,["temperature"]);null!=x&&th(t,["temperature"],x);let w=tm(e,["thinkingConfig"]);null!=w&&th(t,["thinkingConfig"],w);let O=tm(e,["topK"]);null!=O&&th(t,["topK"],O);let E=tm(e,["topP"]);if(null!=E&&th(t,["topP"],E),void 0!==tm(e,["enableEnhancedCivicAnswers"]))throw Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}(i))}(a,r),r}(this.apiClient,e);return a=tf("{model}:countTokens",n._url),o=n._query,delete n._url,delete n._query,this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(n),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t,r,n,i=(t={},null!=(r=tm(e,["sdkHttpResponse"]))&&th(t,["sdkHttpResponse"],r),null!=(n=tm(e,["totalTokens"]))&&th(t,["totalTokens"],n),t),a=new t_;return Object.assign(a,i),a})}{let t=function(e,t){let r={},n=tm(t,["model"]);null!=n&&th(r,["_url","model"],tq(e,n));let i=tm(t,["contents"]);if(null!=i){let e=tZ(i);Array.isArray(e)&&(e=e.map(e=>rO(e))),th(r,["contents"],e)}let a=tm(t,["config"]);return null!=a&&function(e){if(void 0!==tm(e,["systemInstruction"]))throw Error("systemInstruction parameter is not supported in Gemini API.");if(void 0!==tm(e,["tools"]))throw Error("tools parameter is not supported in Gemini API.");if(void 0!==tm(e,["generationConfig"]))throw Error("generationConfig parameter is not supported in Gemini API.")}(a),r}(this.apiClient,e);return a=tf("{model}:countTokens",t._url),o=t._query,delete t._url,delete t._query,this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t,r,n,i,a=(t={},null!=(r=tm(e,["sdkHttpResponse"]))&&th(t,["sdkHttpResponse"],r),null!=(n=tm(e,["totalTokens"]))&&th(t,["totalTokens"],n),null!=(i=tm(e,["cachedContentTokenCount"]))&&th(t,["cachedContentTokenCount"],i),t),o=new t_;return Object.assign(o,a),o})}}async computeTokens(e){var t,r;let n="",i={};if(this.apiClient.isVertexAI()){let a=function(e,t){let r={},n=tm(t,["model"]);null!=n&&th(r,["_url","model"],tq(e,n));let i=tm(t,["contents"]);if(null!=i){let e=tZ(i);Array.isArray(e)&&(e=e.map(e=>e)),th(r,["contents"],e)}return r}(this.apiClient,e);return n=tf("{model}:computeTokens",a._url),i=a._query,delete a._url,delete a._query,this.apiClient.request({path:n,queryParams:i,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e){let t={},r=tm(e,["sdkHttpResponse"]);null!=r&&th(t,["sdkHttpResponse"],r);let n=tm(e,["tokensInfo"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),th(t,["tokensInfo"],e)}return t}(e),r=new tC;return Object.assign(r,t),r})}throw Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,r,n,i,a,o,l,s,c,u;let d="",p={};if(this.apiClient.isVertexAI()){let n,i,o,c,u,f,h,m,g,y,v=(a=this.apiClient,c={},null!=(u=tm(e,["model"]))&&th(c,["_url","model"],tq(a,u)),null!=(f=tm(e,["prompt"]))&&th(c,["instances[0]","prompt"],f),null!=(h=tm(e,["image"]))&&th(c,["instances[0]","image"],rT(h)),null!=(m=tm(e,["video"]))&&th(c,["instances[0]","video"],rL(m)),null!=(g=tm(e,["source"]))&&(l=g,s=c,n=tm(l,["prompt"]),void 0!==s&&null!=n&&th(s,["instances[0]","prompt"],n),i=tm(l,["image"]),void 0!==s&&null!=i&&th(s,["instances[0]","image"],rT(i)),o=tm(l,["video"]),void 0!==s&&null!=o&&th(s,["instances[0]","video"],rL(o))),null!=(y=tm(e,["config"]))&&function(e,t){var r;let n,i,a,o=tm(e,["numberOfVideos"]);void 0!==t&&null!=o&&th(t,["parameters","sampleCount"],o);let l=tm(e,["outputGcsUri"]);void 0!==t&&null!=l&&th(t,["parameters","storageUri"],l);let s=tm(e,["fps"]);void 0!==t&&null!=s&&th(t,["parameters","fps"],s);let c=tm(e,["durationSeconds"]);void 0!==t&&null!=c&&th(t,["parameters","durationSeconds"],c);let u=tm(e,["seed"]);void 0!==t&&null!=u&&th(t,["parameters","seed"],u);let d=tm(e,["aspectRatio"]);void 0!==t&&null!=d&&th(t,["parameters","aspectRatio"],d);let p=tm(e,["resolution"]);void 0!==t&&null!=p&&th(t,["parameters","resolution"],p);let f=tm(e,["personGeneration"]);void 0!==t&&null!=f&&th(t,["parameters","personGeneration"],f);let h=tm(e,["pubsubTopic"]);void 0!==t&&null!=h&&th(t,["parameters","pubsubTopic"],h);let m=tm(e,["negativePrompt"]);void 0!==t&&null!=m&&th(t,["parameters","negativePrompt"],m);let g=tm(e,["enhancePrompt"]);void 0!==t&&null!=g&&th(t,["parameters","enhancePrompt"],g);let y=tm(e,["generateAudio"]);void 0!==t&&null!=y&&th(t,["parameters","generateAudio"],y);let v=tm(e,["lastFrame"]);void 0!==t&&null!=v&&th(t,["instances[0]","lastFrame"],rT(v));let b=tm(e,["referenceImages"]);if(void 0!==t&&null!=b){let e=b;Array.isArray(e)&&(e=e.map(e=>{var t;let r,n,i;return r={},null!=(n=tm(t=e,["image"]))&&th(r,["image"],rT(n)),null!=(i=tm(t,["referenceType"]))&&th(r,["referenceType"],i),r})),th(t,["instances[0]","referenceImages"],e)}let x=tm(e,["mask"]);void 0!==t&&null!=x&&th(t,["instances[0]","mask"],(n={},null!=(i=tm(r=x,["image"]))&&th(n,["_self"],rT(i)),null!=(a=tm(r,["maskMode"]))&&th(n,["maskMode"],a),n));let w=tm(e,["compressionQuality"]);void 0!==t&&null!=w&&th(t,["parameters","compressionQuality"],w)}(y,c),c);return d=tf("{model}:predictLongRunning",v._url),p=v._query,delete v._url,delete v._query,this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(v),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>{let t,r,n,i,a,o,l=(t={},null!=(r=tm(e,["name"]))&&th(t,["name"],r),null!=(n=tm(e,["metadata"]))&&th(t,["metadata"],n),null!=(i=tm(e,["done"]))&&th(t,["done"],i),null!=(a=tm(e,["error"]))&&th(t,["error"],a),null!=(o=tm(e,["response"]))&&th(t,["response"],function(e){let t={},r=tm(e,["videos"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>{var t;let r,n,i,a,o,l;return r={},null!=(n=tm(e,["_self"]))&&th(r,["video"],(i={},null!=(a=tm(t=n,["gcsUri"]))&&th(i,["uri"],a),null!=(o=tm(t,["bytesBase64Encoded"]))&&th(i,["videoBytes"],tg(o)),null!=(l=tm(t,["mimeType"]))&&th(i,["mimeType"],l),i)),r})),th(t,["generatedVideos"],e)}let n=tm(e,["raiMediaFilteredCount"]);null!=n&&th(t,["raiMediaFilteredCount"],n);let i=tm(e,["raiMediaFilteredReasons"]);return null!=i&&th(t,["raiMediaFilteredReasons"],i),t}(o)),t),s=new tN;return Object.assign(s,l),s})}{let t,r,a,l,s,f,h,m,g,y,v=(o=this.apiClient,l={},null!=(s=tm(e,["model"]))&&th(l,["_url","model"],tq(o,s)),null!=(f=tm(e,["prompt"]))&&th(l,["instances[0]","prompt"],f),null!=(h=tm(e,["image"]))&&th(l,["instances[0]","image"],rN(h)),null!=(m=tm(e,["video"]))&&th(l,["instances[0]","video"],rU(m)),null!=(g=tm(e,["source"]))&&(c=g,u=l,t=tm(c,["prompt"]),void 0!==u&&null!=t&&th(u,["instances[0]","prompt"],t),r=tm(c,["image"]),void 0!==u&&null!=r&&th(u,["instances[0]","image"],rN(r)),a=tm(c,["video"]),void 0!==u&&null!=a&&th(u,["instances[0]","video"],rU(a))),null!=(y=tm(e,["config"]))&&function(e,t){let r=tm(e,["numberOfVideos"]);if(void 0!==t&&null!=r&&th(t,["parameters","sampleCount"],r),void 0!==tm(e,["outputGcsUri"]))throw Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==tm(e,["fps"]))throw Error("fps parameter is not supported in Gemini API.");let n=tm(e,["durationSeconds"]);if(void 0!==t&&null!=n&&th(t,["parameters","durationSeconds"],n),void 0!==tm(e,["seed"]))throw Error("seed parameter is not supported in Gemini API.");let i=tm(e,["aspectRatio"]);void 0!==t&&null!=i&&th(t,["parameters","aspectRatio"],i);let a=tm(e,["resolution"]);void 0!==t&&null!=a&&th(t,["parameters","resolution"],a);let o=tm(e,["personGeneration"]);if(void 0!==t&&null!=o&&th(t,["parameters","personGeneration"],o),void 0!==tm(e,["pubsubTopic"]))throw Error("pubsubTopic parameter is not supported in Gemini API.");let l=tm(e,["negativePrompt"]);void 0!==t&&null!=l&&th(t,["parameters","negativePrompt"],l);let s=tm(e,["enhancePrompt"]);if(void 0!==t&&null!=s&&th(t,["parameters","enhancePrompt"],s),void 0!==tm(e,["generateAudio"]))throw Error("generateAudio parameter is not supported in Gemini API.");let c=tm(e,["lastFrame"]);void 0!==t&&null!=c&&th(t,["instances[0]","lastFrame"],rN(c));let u=tm(e,["referenceImages"]);if(void 0!==t&&null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>{var t;let r,n,i;return r={},null!=(n=tm(t=e,["image"]))&&th(r,["image"],rN(n)),null!=(i=tm(t,["referenceType"]))&&th(r,["referenceType"],i),r})),th(t,["instances[0]","referenceImages"],e)}if(void 0!==tm(e,["mask"]))throw Error("mask parameter is not supported in Gemini API.");if(void 0!==tm(e,["compressionQuality"]))throw Error("compressionQuality parameter is not supported in Gemini API.")}(y,l),l);return d=tf("{model}:predictLongRunning",v._url),p=v._query,delete v._url,delete v._query,this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(v),httpMethod:"POST",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal}).then(e=>e.json()).then(e=>{let t,r,n,i,a,o,l=(t={},null!=(r=tm(e,["name"]))&&th(t,["name"],r),null!=(n=tm(e,["metadata"]))&&th(t,["metadata"],n),null!=(i=tm(e,["done"]))&&th(t,["done"],i),null!=(a=tm(e,["error"]))&&th(t,["error"],a),null!=(o=tm(e,["response","generateVideoResponse"]))&&th(t,["response"],function(e){let t={},r=tm(e,["generatedSamples"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>{var t;let r,n,i,a,o,l;return r={},null!=(n=tm(e,["video"]))&&th(r,["video"],(i={},null!=(a=tm(t=n,["uri"]))&&th(i,["uri"],a),null!=(o=tm(t,["encodedVideo"]))&&th(i,["videoBytes"],tg(o)),null!=(l=tm(t,["encoding"]))&&th(i,["mimeType"],l),i)),r})),th(t,["generatedVideos"],e)}let n=tm(e,["raiMediaFilteredCount"]);null!=n&&th(t,["raiMediaFilteredCount"],n);let i=tm(e,["raiMediaFilteredReasons"]);return null!=i&&th(t,["raiMediaFilteredReasons"],i),t}(o)),t),s=new tN;return Object.assign(s,l),s})}}}class r3 extends tp{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){let t=e.operation,r=e.config;if(void 0===t.name||""===t.name)throw Error("Operation name is required.");if(this.apiClient.isVertexAI()){let e,n=t.name.split("/operations/")[0];r&&"httpOptions"in r&&(e=r.httpOptions);let i=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:n,config:{httpOptions:e}});return t._fromAPIResponse({apiResponse:i,isVertexAI:!0})}{let e=await this.getVideosOperationInternal({operationName:t.name,config:r});return t._fromAPIResponse({apiResponse:e,isVertexAI:!1})}}async get(e){let t=e.operation,r=e.config;if(void 0===t.name||""===t.name)throw Error("Operation name is required.");if(this.apiClient.isVertexAI()){let e,n=t.name.split("/operations/")[0];r&&"httpOptions"in r&&(e=r.httpOptions);let i=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:n,config:{httpOptions:e}});return t._fromAPIResponse({apiResponse:i,isVertexAI:!0})}{let e=await this.getVideosOperationInternal({operationName:t.name,config:r});return t._fromAPIResponse({apiResponse:e,isVertexAI:!1})}}async getVideosOperationInternal(e){var t,r,n,i;let a="",o={};if(this.apiClient.isVertexAI()){let n,i,l=(n={},null!=(i=tm(e,["operationName"]))&&th(n,["_url","operationName"],i),n);return a=tf("{operationName}",l._url),o=l._query,delete l._url,delete l._query,this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json())}{let t,r,l=(t={},null!=(r=tm(e,["operationName"]))&&th(t,["_url","operationName"],r),t);return a=tf("{operationName}",l._url),o=l._query,delete l._url,delete l._query,this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal}).then(e=>e.json())}}async fetchPredictVideosOperationInternal(e){var t,r;let n="",i={};if(this.apiClient.isVertexAI()){let a,o,l,s=(a={},null!=(o=tm(e,["operationName"]))&&th(a,["operationName"],o),null!=(l=tm(e,["resourceName"]))&&th(a,["_url","resourceName"],l),a);return n=tf("{resourceName}:fetchPredictOperation",s._url),i=s._query,delete s._url,delete s._query,this.apiClient.request({path:n,queryParams:i,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json())}throw Error("This method is only supported by the Vertex AI.")}}class r4 extends tp{constructor(e){super(),this.apiClient=e}async create(e){var t,r,n,i,a;let o="",l={};if(this.apiClient.isVertexAI())throw Error("The client.tokens.create method is only supported by the Gemini Developer API.");{let s,c,u,d,p,f,h,m,g,y,v=(n=this.apiClient,d={},null!=(p=tm(e,["config"]))&&th(d,["config"],(f=tm(p,["expireTime"]),void 0!==d&&null!=f&&th(d,["expireTime"],f),h=tm(p,["newSessionExpireTime"]),void 0!==d&&null!=h&&th(d,["newSessionExpireTime"],h),m=tm(p,["uses"]),void 0!==d&&null!=m&&th(d,["uses"],m),g=tm(p,["liveConnectConstraints"]),void 0!==d&&null!=g&&th(d,["bidiGenerateContentSetup"],(i=n,s={},null!=(c=tm(a=g,["model"]))&&th(s,["setup","model"],tq(i,c)),null!=(u=tm(a,["config"]))&&th(s,["config"],function(e,t){let r=tm(e,["generationConfig"]);void 0!==t&&null!=r&&th(t,["setup","generationConfig"],r);let n=tm(e,["responseModalities"]);void 0!==t&&null!=n&&th(t,["setup","generationConfig","responseModalities"],n);let i=tm(e,["temperature"]);void 0!==t&&null!=i&&th(t,["setup","generationConfig","temperature"],i);let a=tm(e,["topP"]);void 0!==t&&null!=a&&th(t,["setup","generationConfig","topP"],a);let o=tm(e,["topK"]);void 0!==t&&null!=o&&th(t,["setup","generationConfig","topK"],o);let l=tm(e,["maxOutputTokens"]);void 0!==t&&null!=l&&th(t,["setup","generationConfig","maxOutputTokens"],l);let s=tm(e,["mediaResolution"]);void 0!==t&&null!=s&&th(t,["setup","generationConfig","mediaResolution"],s);let c=tm(e,["seed"]);void 0!==t&&null!=c&&th(t,["setup","generationConfig","seed"],c);let u=tm(e,["speechConfig"]);void 0!==t&&null!=u&&th(t,["setup","generationConfig","speechConfig"],t1(u));let d=tm(e,["thinkingConfig"]);void 0!==t&&null!=d&&th(t,["setup","generationConfig","thinkingConfig"],d);let p=tm(e,["enableAffectiveDialog"]);void 0!==t&&null!=p&&th(t,["setup","generationConfig","enableAffectiveDialog"],p);let f=tm(e,["systemInstruction"]);void 0!==t&&null!=f&&th(t,["setup","systemInstruction"],function(e){let t={},r=tm(e,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>{var t;let r,n,i,a,o,l,s,c,u,d,p;return r={},null!=(n=tm(t=e,["functionCall"]))&&th(r,["functionCall"],n),null!=(i=tm(t,["codeExecutionResult"]))&&th(r,["codeExecutionResult"],i),null!=(a=tm(t,["executableCode"]))&&th(r,["executableCode"],a),null!=(o=tm(t,["fileData"]))&&th(r,["fileData"],function(e){let t={};if(void 0!==tm(e,["displayName"]))throw Error("displayName parameter is not supported in Gemini API.");let r=tm(e,["fileUri"]);null!=r&&th(t,["fileUri"],r);let n=tm(e,["mimeType"]);return null!=n&&th(t,["mimeType"],n),t}(o)),null!=(l=tm(t,["functionResponse"]))&&th(r,["functionResponse"],l),null!=(s=tm(t,["inlineData"]))&&th(r,["inlineData"],function(e){let t={},r=tm(e,["data"]);if(null!=r&&th(t,["data"],r),void 0!==tm(e,["displayName"]))throw Error("displayName parameter is not supported in Gemini API.");let n=tm(e,["mimeType"]);return null!=n&&th(t,["mimeType"],n),t}(s)),null!=(c=tm(t,["text"]))&&th(r,["text"],c),null!=(u=tm(t,["thought"]))&&th(r,["thought"],u),null!=(d=tm(t,["thoughtSignature"]))&&th(r,["thoughtSignature"],d),null!=(p=tm(t,["videoMetadata"]))&&th(r,["videoMetadata"],p),r})),th(t,["parts"],e)}let n=tm(e,["role"]);return null!=n&&th(t,["role"],n),t}(tW(f)));let h=tm(e,["tools"]);if(void 0!==t&&null!=h){let e=t3(h);Array.isArray(e)&&(e=e.map(e=>(function(e){let t={},r=tm(e,["functionDeclarations"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),th(t,["functionDeclarations"],e)}if(void 0!==tm(e,["retrieval"]))throw Error("retrieval parameter is not supported in Gemini API.");let n=tm(e,["googleSearchRetrieval"]);null!=n&&th(t,["googleSearchRetrieval"],n);let i=tm(e,["googleMaps"]);null!=i&&th(t,["googleMaps"],function(e){let t={};if(void 0!==tm(e,["authConfig"]))throw Error("authConfig parameter is not supported in Gemini API.");let r=tm(e,["enableWidget"]);return null!=r&&th(t,["enableWidget"],r),t}(i));let a=tm(e,["computerUse"]);null!=a&&th(t,["computerUse"],a);let o=tm(e,["codeExecution"]);if(null!=o&&th(t,["codeExecution"],o),void 0!==tm(e,["enterpriseWebSearch"]))throw Error("enterpriseWebSearch parameter is not supported in Gemini API.");let l=tm(e,["googleSearch"]);null!=l&&th(t,["googleSearch"],function(e){let t={};if(void 0!==tm(e,["excludeDomains"]))throw Error("excludeDomains parameter is not supported in Gemini API.");let r=tm(e,["timeRangeFilter"]);return null!=r&&th(t,["timeRangeFilter"],r),t}(l));let s=tm(e,["urlContext"]);return null!=s&&th(t,["urlContext"],s),t})(t2(e)))),th(t,["setup","tools"],e)}let m=tm(e,["sessionResumption"]);void 0!==t&&null!=m&&th(t,["setup","sessionResumption"],function(e){let t={},r=tm(e,["handle"]);if(null!=r&&th(t,["handle"],r),void 0!==tm(e,["transparent"]))throw Error("transparent parameter is not supported in Gemini API.");return t}(m));let g=tm(e,["inputAudioTranscription"]);void 0!==t&&null!=g&&th(t,["setup","inputAudioTranscription"],g);let y=tm(e,["outputAudioTranscription"]);void 0!==t&&null!=y&&th(t,["setup","outputAudioTranscription"],y);let v=tm(e,["realtimeInputConfig"]);void 0!==t&&null!=v&&th(t,["setup","realtimeInputConfig"],v);let b=tm(e,["contextWindowCompression"]);void 0!==t&&null!=b&&th(t,["setup","contextWindowCompression"],b);let x=tm(e,["proactivity"]);return void 0!==t&&null!=x&&th(t,["setup","proactivity"],x),{}}(u,s)),s)),y=tm(p,["lockAdditionalFields"]),void 0!==d&&null!=y&&th(d,["fieldMask"],y),{})),d);o=tf("auth_tokens",v._url),l=v._query,delete v.config,delete v._url,delete v._query;let b=function(e,t){let r=null,n=e.bidiGenerateContentSetup;if("object"==typeof n&&null!==n&&"setup"in n){let t=n.setup;"object"==typeof t&&null!==t?(e.bidiGenerateContentSetup=t,r=t):delete e.bidiGenerateContentSetup}else void 0!==n&&delete e.bidiGenerateContentSetup;let i=e.fieldMask;if(r){let n=function(e){let t=[];for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)){let n=e[r];if("object"==typeof n&&null!=n&&Object.keys(n).length>0){let e=Object.keys(n).map(e=>`${r}.${e}`);t.push(...e)}else t.push(r)}return t.join(",")}(r);if(Array.isArray(null==t?void 0:t.lockAdditionalFields)&&(null==t?void 0:t.lockAdditionalFields.length)===0)n?e.fieldMask=n:delete e.fieldMask;else if((null==t?void 0:t.lockAdditionalFields)&&t.lockAdditionalFields.length>0&&null!==i&&Array.isArray(i)&&i.length>0){let t=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"],r=[];i.length>0&&(r=i.map(e=>t.includes(e)?`generationConfig.${e}`:e));let a=[];n&&a.push(n),r.length>0&&a.push(...r),a.length>0?e.fieldMask=a.join(","):delete e.fieldMask}else delete e.fieldMask}else null!==i&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}(v,e.config);return this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(b),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json()).then(e=>e)}}}function r5(e,t){let r,n,i,a={},o=tm(e,["sdkHttpResponse"]);null!=o&&th(a,["sdkHttpResponse"],o);let l=tm(e,["name"]);null!=l&&th(a,["name"],l);let s=tm(e,["state"]);null!=s&&th(a,["state"],t5(s));let c=tm(e,["createTime"]);null!=c&&th(a,["createTime"],c);let u=tm(e,["tuningTask","startTime"]);null!=u&&th(a,["startTime"],u);let d=tm(e,["tuningTask","completeTime"]);null!=d&&th(a,["endTime"],d);let p=tm(e,["updateTime"]);null!=p&&th(a,["updateTime"],p);let f=tm(e,["description"]);null!=f&&th(a,["description"],f);let h=tm(e,["baseModel"]);null!=h&&th(a,["baseModel"],h);let m=tm(e,["_self"]);return null!=m&&th(a,["tunedModel"],(r={},null!=(n=tm(m,["name"]))&&th(r,["model"],n),null!=(i=tm(m,["name"]))&&th(r,["endpoint"],i),r)),a}function r6(e,t){let r={},n=tm(e,["sdkHttpResponse"]);null!=n&&th(r,["sdkHttpResponse"],n);let i=tm(e,["name"]);null!=i&&th(r,["name"],i);let a=tm(e,["state"]);null!=a&&th(r,["state"],t5(a));let o=tm(e,["createTime"]);null!=o&&th(r,["createTime"],o);let l=tm(e,["startTime"]);null!=l&&th(r,["startTime"],l);let s=tm(e,["endTime"]);null!=s&&th(r,["endTime"],s);let c=tm(e,["updateTime"]);null!=c&&th(r,["updateTime"],c);let u=tm(e,["error"]);null!=u&&th(r,["error"],u);let d=tm(e,["description"]);null!=d&&th(r,["description"],d);let p=tm(e,["baseModel"]);null!=p&&th(r,["baseModel"],p);let f=tm(e,["tunedModel"]);null!=f&&th(r,["tunedModel"],f);let h=tm(e,["preTunedModel"]);null!=h&&th(r,["preTunedModel"],h);let m=tm(e,["supervisedTuningSpec"]);null!=m&&th(r,["supervisedTuningSpec"],m);let g=tm(e,["preferenceOptimizationSpec"]);null!=g&&th(r,["preferenceOptimizationSpec"],g);let y=tm(e,["tuningDataStats"]);null!=y&&th(r,["tuningDataStats"],y);let v=tm(e,["encryptionSpec"]);null!=v&&th(r,["encryptionSpec"],v);let b=tm(e,["partnerModelTuningSpec"]);null!=b&&th(r,["partnerModelTuningSpec"],b);let x=tm(e,["customBaseModel"]);null!=x&&th(r,["customBaseModel"],x);let w=tm(e,["experiment"]);null!=w&&th(r,["experiment"],w);let O=tm(e,["labels"]);null!=O&&th(r,["labels"],O);let E=tm(e,["outputUri"]);null!=E&&th(r,["outputUri"],E);let S=tm(e,["pipelineJob"]);null!=S&&th(r,["pipelineJob"],S);let A=tm(e,["serviceAccount"]);null!=A&&th(r,["serviceAccount"],A);let j=tm(e,["tunedModelDisplayName"]);null!=j&&th(r,["tunedModelDisplayName"],j);let _=tm(e,["veoTuningSpec"]);return null!=_&&th(r,["veoTuningSpec"],_),r}function r8(e,t){let r={},n=tm(e,["gcsUri"]);null!=n&&th(r,["validationDatasetUri"],n);let i=tm(e,["vertexDatasetResource"]);return null!=i&&th(r,["validationDatasetUri"],i),r}class r7 extends tp{constructor(e){super(),this.apiClient=e,this.get=async e=>await this.getInternal(e),this.list=async(e={})=>new rl(te.PAGED_ITEM_TUNING_JOBS,e=>this.listInternal(e),await this.listInternal(e),e),this.tune=async e=>{var t;if(this.apiClient.isVertexAI())if(e.baseModel.startsWith("projects/")){let r={tunedModelName:e.baseModel};(null==(t=e.config)?void 0:t.preTunedModelCheckpointId)&&(r.checkpointId=e.config.preTunedModelCheckpointId);let n=Object.assign(Object.assign({},e),{preTunedModel:r});return n.baseModel=void 0,await this.tuneInternal(n)}else{let t=Object.assign({},e);return await this.tuneInternal(t)}{let t=Object.assign({},e),r=await this.tuneMldevInternal(t),n="";return void 0!==r.metadata&&void 0!==r.metadata.tunedModel?n=r.metadata.tunedModel:void 0!==r.name&&r.name.includes("/operations/")&&(n=r.name.split("/operations/")[0]),{name:n,state:eM.JOB_STATE_QUEUED}}}}async getInternal(e){var t,r,n,i;let a="",o={};if(this.apiClient.isVertexAI()){let n,i,l=(n={},null!=(i=tm(e,["name"]))&&th(n,["_url","name"],i),n);return a=tf("{name}",l._url),o=l._query,delete l._url,delete l._query,this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>r6(e))}{let t,r,l=(t={},null!=(r=tm(e,["name"]))&&th(t,["_url","name"],r),t);return a=tf("{name}",l._url),o=l._query,delete l._url,delete l._query,this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>r5(e))}}async listInternal(e){var t,r,n,i;let a="",o={};if(this.apiClient.isVertexAI()){let n,i,l,s,c,u=(n={},null!=(i=tm(e,["config"]))&&(l=tm(i,["pageSize"]),void 0!==n&&null!=l&&th(n,["_query","pageSize"],l),s=tm(i,["pageToken"]),void 0!==n&&null!=s&&th(n,["_query","pageToken"],s),c=tm(i,["filter"]),void 0!==n&&null!=c&&th(n,["_query","filter"],c)),n);return a=tf("tuningJobs",u._url),o=u._query,delete u._url,delete u._query,this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(u),httpMethod:"GET",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e,t){let r={},n=tm(e,["sdkHttpResponse"]);null!=n&&th(r,["sdkHttpResponse"],n);let i=tm(e,["nextPageToken"]);null!=i&&th(r,["nextPageToken"],i);let a=tm(e,["tuningJobs"]);if(null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>r6(e))),th(r,["tuningJobs"],e)}return r}(e),r=new tT;return Object.assign(r,t),r})}{let t,r,l,s,c,u=(t={},null!=(r=tm(e,["config"]))&&(l=tm(r,["pageSize"]),void 0!==t&&null!=l&&th(t,["_query","pageSize"],l),s=tm(r,["pageToken"]),void 0!==t&&null!=s&&th(t,["_query","pageToken"],s),c=tm(r,["filter"]),void 0!==t&&null!=c&&th(t,["_query","filter"],c)),t);return a=tf("tunedModels",u._url),o=u._query,delete u._url,delete u._query,this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(u),httpMethod:"GET",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t=function(e,t){let r={},n=tm(e,["sdkHttpResponse"]);null!=n&&th(r,["sdkHttpResponse"],n);let i=tm(e,["nextPageToken"]);null!=i&&th(r,["nextPageToken"],i);let a=tm(e,["tunedModels"]);if(null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>r5(e))),th(r,["tuningJobs"],e)}return r}(e),r=new tT;return Object.assign(r,t),r})}}async cancel(e){var t,r,n,i;let a="",o={};if(this.apiClient.isVertexAI()){let n,i,l=(n={},null!=(i=tm(e,["name"]))&&th(n,["_url","name"],i),n);a=tf("{name}:cancel",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal})}else{let t,r,l=(t={},null!=(r=tm(e,["name"]))&&th(t,["_url","name"],r),t);a=tf("{name}:cancel",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null==(n=e.config)?void 0:n.httpOptions,abortSignal:null==(i=e.config)?void 0:i.abortSignal})}}async tuneInternal(e){var t,r;let n="",i={};if(this.apiClient.isVertexAI()){let a,o,l,s,c,u=(a={},null!=(o=tm(e,["baseModel"]))&&th(a,["baseModel"],o),null!=(l=tm(e,["preTunedModel"]))&&th(a,["preTunedModel"],l),null!=(s=tm(e,["trainingDataset"]))&&function(e,t,r){let n=tm(r,["config","method"]);if(void 0===n&&(n="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===n){let r=tm(e,["gcsUri"]);void 0!==t&&null!=r&&th(t,["supervisedTuningSpec","trainingDatasetUri"],r)}else if("PREFERENCE_TUNING"===n){let r=tm(e,["gcsUri"]);void 0!==t&&null!=r&&th(t,["preferenceOptimizationSpec","trainingDatasetUri"],r)}let i=tm(r,["config","method"]);if(void 0===i&&(i="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===i){let r=tm(e,["vertexDatasetResource"]);void 0!==t&&null!=r&&th(t,["supervisedTuningSpec","trainingDatasetUri"],r)}else if("PREFERENCE_TUNING"===i){let r=tm(e,["vertexDatasetResource"]);void 0!==t&&null!=r&&th(t,["preferenceOptimizationSpec","trainingDatasetUri"],r)}if(void 0!==tm(e,["examples"]))throw Error("examples parameter is not supported in Vertex AI.")}(s,a,e),null!=(c=tm(e,["config"]))&&function(e,t,r){let n=tm(r,["config","method"]);if(void 0===n&&(n="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===n){let r=tm(e,["validationDataset"]);void 0!==t&&null!=r&&th(t,["supervisedTuningSpec"],r8(r))}else if("PREFERENCE_TUNING"===n){let r=tm(e,["validationDataset"]);void 0!==t&&null!=r&&th(t,["preferenceOptimizationSpec"],r8(r))}let i=tm(e,["tunedModelDisplayName"]);void 0!==t&&null!=i&&th(t,["tunedModelDisplayName"],i);let a=tm(e,["description"]);void 0!==t&&null!=a&&th(t,["description"],a);let o=tm(r,["config","method"]);if(void 0===o&&(o="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===o){let r=tm(e,["epochCount"]);void 0!==t&&null!=r&&th(t,["supervisedTuningSpec","hyperParameters","epochCount"],r)}else if("PREFERENCE_TUNING"===o){let r=tm(e,["epochCount"]);void 0!==t&&null!=r&&th(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],r)}let l=tm(r,["config","method"]);if(void 0===l&&(l="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===l){let r=tm(e,["learningRateMultiplier"]);void 0!==t&&null!=r&&th(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],r)}else if("PREFERENCE_TUNING"===l){let r=tm(e,["learningRateMultiplier"]);void 0!==t&&null!=r&&th(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],r)}let s=tm(r,["config","method"]);if(void 0===s&&(s="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===s){let r=tm(e,["exportLastCheckpointOnly"]);void 0!==t&&null!=r&&th(t,["supervisedTuningSpec","exportLastCheckpointOnly"],r)}else if("PREFERENCE_TUNING"===s){let r=tm(e,["exportLastCheckpointOnly"]);void 0!==t&&null!=r&&th(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],r)}let c=tm(r,["config","method"]);if(void 0===c&&(c="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===c){let r=tm(e,["adapterSize"]);void 0!==t&&null!=r&&th(t,["supervisedTuningSpec","hyperParameters","adapterSize"],r)}else if("PREFERENCE_TUNING"===c){let r=tm(e,["adapterSize"]);void 0!==t&&null!=r&&th(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],r)}if(void 0!==tm(e,["batchSize"]))throw Error("batchSize parameter is not supported in Vertex AI.");if(void 0!==tm(e,["learningRate"]))throw Error("learningRate parameter is not supported in Vertex AI.");let u=tm(e,["labels"]);void 0!==t&&null!=u&&th(t,["labels"],u);let d=tm(e,["beta"]);void 0!==t&&null!=d&&th(t,["preferenceOptimizationSpec","hyperParameters","beta"],d)}(c,a,e),a);return n=tf("tuningJobs",u._url),i=u._query,delete u._url,delete u._query,this.apiClient.request({path:n,queryParams:i,body:JSON.stringify(u),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>r6(e))}throw Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,r;let n="",i={};if(this.apiClient.isVertexAI())throw Error("This method is only supported by the Gemini Developer API.");{let a,o,l,s,c,u=(a={},null!=(o=tm(e,["baseModel"]))&&th(a,["baseModel"],o),null!=(l=tm(e,["preTunedModel"]))&&th(a,["preTunedModel"],l),null!=(s=tm(e,["trainingDataset"]))&&function(e,t){if(void 0!==tm(e,["gcsUri"]))throw Error("gcsUri parameter is not supported in Gemini API.");if(void 0!==tm(e,["vertexDatasetResource"]))throw Error("vertexDatasetResource parameter is not supported in Gemini API.");let r=tm(e,["examples"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),th({},["examples","examples"],e)}}(s),null!=(c=tm(e,["config"]))&&function(e,t,r){if(void 0!==tm(e,["validationDataset"]))throw Error("validationDataset parameter is not supported in Gemini API.");let n=tm(e,["tunedModelDisplayName"]);if(void 0!==t&&null!=n&&th(t,["displayName"],n),void 0!==tm(e,["description"]))throw Error("description parameter is not supported in Gemini API.");let i=tm(e,["epochCount"]);void 0!==t&&null!=i&&th(t,["tuningTask","hyperparameters","epochCount"],i);let a=tm(e,["learningRateMultiplier"]);if(null!=a&&th({},["tuningTask","hyperparameters","learningRateMultiplier"],a),void 0!==tm(e,["exportLastCheckpointOnly"]))throw Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(void 0!==tm(e,["preTunedModelCheckpointId"]))throw Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(void 0!==tm(e,["adapterSize"]))throw Error("adapterSize parameter is not supported in Gemini API.");let o=tm(e,["batchSize"]);void 0!==t&&null!=o&&th(t,["tuningTask","hyperparameters","batchSize"],o);let l=tm(e,["learningRate"]);if(void 0!==t&&null!=l&&th(t,["tuningTask","hyperparameters","learningRate"],l),void 0!==tm(e,["labels"]))throw Error("labels parameter is not supported in Gemini API.");if(void 0!==tm(e,["beta"]))throw Error("beta parameter is not supported in Gemini API.")}(c,a),a);return n=tf("tunedModels",u._url),i=u._query,delete u._url,delete u._query,this.apiClient.request({path:n,queryParams:i,body:JSON.stringify(u),httpMethod:"POST",httpOptions:null==(t=e.config)?void 0:t.httpOptions,abortSignal:null==(r=e.config)?void 0:r.abortSignal}).then(e=>e.json().then(t=>(t.sdkHttpResponse={headers:e.headers},t))).then(e=>{let t,r,n,i,a,o;return t={},null!=(r=tm(e,["sdkHttpResponse"]))&&th(t,["sdkHttpResponse"],r),null!=(n=tm(e,["name"]))&&th(t,["name"],n),null!=(i=tm(e,["metadata"]))&&th(t,["metadata"],i),null!=(a=tm(e,["done"]))&&th(t,["done"],a),null!=(o=tm(e,["error"]))&&th(t,["error"],o),t})}}}class r9{async download(e,t){throw Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}let ne="x-goog-upload-status";async function nt(e,t,r){var n,i,a;let o=0,l=0,s=new ty(new Response),c="upload";for(o=e.size;l<o;){let a=Math.min(8388608,o-l),u=e.slice(l,l+a);l+a>=o&&(c+=", finalize");let d=0,p=1e3;for(;d<3&&(null==(n=null==(s=await r.request({path:"",body:u,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(l),"Content-Length":String(a)}}}))?void 0:s.headers)||!n[ne]);)d++,await function(e){return new Promise(t=>setTimeout(t,e))}(p),p*=2;if(l+=a,(null==(i=null==s?void 0:s.headers)?void 0:i[ne])!=="active")break;if(o<=l)throw Error("All content has been uploaded, but the upload status is not finalized.")}let u=await (null==s?void 0:s.json());if((null==(a=null==s?void 0:s.headers)?void 0:a[ne])!=="final")throw Error("Failed to upload file: Upload status is not finalized.");return u.file}async function nr(e){return{size:e.size,type:e.type}}class nn{async upload(e,t,r){if("string"==typeof e)throw Error("File path is not supported in browser uploader.");return await nt(e,t,r)}async stat(e){if("string"!=typeof e)return await nr(e);throw Error("File path is not supported in browser uploader.")}}class ni{create(e,t,r){return new na(e,t,r)}}class na{constructor(e,t,r){this.url=e,this.headers=t,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(void 0===this.ws)throw Error("WebSocket is not connected");this.ws.send(e)}close(){if(void 0===this.ws)throw Error("WebSocket is not connected");this.ws.close()}}let no="x-goog-api-key";class nl{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(null===e.get(no)){if(this.apiKey.startsWith("auth_tokens/"))throw Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw Error("API key is missing. Please provide a valid API key.");e.append(no,this.apiKey)}}}class ns{constructor(e){var t;if(null==e.apiKey)throw Error("An API Key must be set when running in a browser");if(e.project||e.location)throw Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=null!=(t=e.vertexai)&&t,this.apiKey=e.apiKey;const r=function(e,t,r,a){return(null==e?void 0:e.baseUrl)?e.baseUrl:t?null!=i?i:r:null!=n?n:a}(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const a=new nl(this.apiKey);this.apiClient=new rG({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:"gl-node/web",uploader:new nn,downloader:new r9}),this.models=new r2(this.apiClient),this.live=new rW(this.apiClient,a,new ni),this.batches=new rs(this.apiClient),this.chats=new rg(this.models,this.apiClient),this.caches=new ru(this.apiClient),this.files=new rb(this.apiClient),this.operations=new r3(this.apiClient),this.authTokens=new r4(this.apiClient),this.tunings=new r7(this.apiClient)}}let nc=[{id:"twitter",name:"Twitter/X",icon:e=>(0,tu.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:(0,tu.jsx)("path",{d:"M22 4s-.7 2.1-2 3.4c1.6 1.4 3.3 4.9 3 7.1 0 .8-.4 1.5-.9 2.1-.7.9-1.9 1.5-3.2 1.5-2.2 0-4.3-1.2-5.7-2.5-.1-.1-.2-.2-.3-.3-.1.1-.2.2-.2.3-1.4 1.3-3.5 2.5-5.7 2.5-1.3 0-2.5-.6-3.2-1.5-.5-.6-.9-1.3-.9-2.1-.2-2.2 1.4-5.7 3-7.1-1.3-1.3-2-3.4-2-3.4s.8.2 1.5.7c.7-.5 1.5-1 2.3-1.1.2 0 .4 0 .6.1.4-.2.9-.3 1.3-.3s.9.1 1.3.3c.2 0 .4-.1.6-.1.8.1 1.6.6 2.3 1.1.7-.5 1.5-.7 1.5-.7z"})}),characterLimit:280},{id:"linkedin",name:"LinkedIn",icon:e=>(0,tu.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[(0,tu.jsx)("path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"}),(0,tu.jsx)("rect",{width:"4",height:"12",x:"2",y:"9"}),(0,tu.jsx)("circle",{cx:"4",cy:"4",r:"2"})]}),characterLimit:3e3},{id:"facebook",name:"Facebook",icon:e=>(0,tu.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:(0,tu.jsx)("path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"})}),characterLimit:63206},{id:"instagram",name:"Instagram",icon:e=>(0,tu.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[(0,tu.jsx)("rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5"}),(0,tu.jsx)("path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}),(0,tu.jsx)("line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5"})]}),characterLimit:2200}],nu={draft:{color:"bg-gray-500",label:"Draft"},"needs approval":{color:"bg-yellow-500",label:"Needs Approval"},approved:{color:"bg-cyan-500",label:"Approved"},"ready to publish":{color:"bg-purple-500",label:"Ready to Publish"},scheduled:{color:"bg-blue-500",label:"Scheduled"},published:{color:"bg-green-500",label:"Published"}},nd=(...e)=>e.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ");var np={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let nf=(0,td.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...l},s)=>(0,td.createElement)("svg",{ref:s,...np,width:t,height:t,stroke:e,strokeWidth:n?24*Number(r)/Number(t):r,className:nd("lucide",i),...l},[...o.map(([e,t])=>(0,td.createElement)(e,t)),...Array.isArray(a)?a:[a]])),nh=(e,t)=>{let r=(0,td.forwardRef)(({className:r,...n},i)=>(0,td.createElement)(nf,{ref:i,iconNode:t,className:nd(`lucide-${e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,r),...n}));return r.displayName=`${e}`,r},nm=nh("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),ng=nh("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),ny=nh("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),nv=nh("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),nb=nh("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),nx=nh("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),nw=nh("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),nO=nh("PanelLeftClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]]),nE=({onPostCreated:e})=>{let[t,r]=(0,td.useState)(null),[n,i]=(0,td.useState)([]),[a,o]=(0,td.useState)(""),[l,s]=(0,td.useState)(!1),[c,u]=(0,td.useState)(null),d=(0,td.useRef)(null),[p,f]=(0,td.useState)([]),[h,m]=(0,td.useState)("new"),[g,y]=(0,td.useState)(!1),v=nc.map(e=>e.id).join(", "),b=`You are 'ContentOS AI', an expert social media strategist. Your goal is to have a friendly and helpful conversation with the user to brainstorm and create a social media post.

1.  Start by introducing yourself and asking what the user wants to promote or talk about.
2.  Guide the conversation to gather these key details:
    *   A clear **topic**.
    *   One or more target **platforms** from this list: ${v}.
    *   A specific **content type** (e.g., engaging, educational, promotional).
    *   A desired **tone** (e.g., professional, casual, humorous).
3.  Once you have all the information, summarize the plan and ask the user for confirmation to proceed with generating the content. Use markdown for your summary (bolding and bullet points).
4.  **IMPORTANT**: After the user confirms, your VERY NEXT response must be ONLY the generated content as a single JSON object, enclosed in a markdown code block like this:
    \`\`\`json
    {
      "topic": "A brief, descriptive topic summary",
      "twitter": "...",
      "linkedin": "...",
      "imageSuggestion": "...",
      "videoSuggestion": "..."
    }
    \`\`\`
    Only include keys in the JSON for the platforms the user selected. Do not add any text or explanation before or after the JSON block in that final message.`;(0,td.useEffect)(()=>{try{let e=localStorage.getItem("socialMediaChatHistory");if(e){let t=JSON.parse(e),r=t.filter(e=>!e.id.startsWith("temp-"));f(r),r.length!==t.length&&localStorage.setItem("socialMediaChatHistory",JSON.stringify(r))}}catch(e){console.error("Could not parse chat history from localStorage",e)}w(!0)},[]),(0,td.useEffect)(()=>{d.current?.scrollTo({top:d.current.scrollHeight,behavior:"smooth"})},[n]),(0,td.useEffect)(()=>{if(n.length>1&&"new"===h){let e=n.find(e=>"user"===e.role),t=e?e.content.substring(0,40)+(e.content.length>40?"...":""):"Untitled Chat",r={id:"temp-"+Date.now(),title:t,timestamp:new Date().toISOString(),messages:n};f(e=>{let t=[r,...e.filter(e=>!e.id.startsWith("temp-"))];return localStorage.setItem("socialMediaChatHistory",JSON.stringify(t)),t})}},[n,h]);let x=()=>{if(n.length<=1)return;let e=n.find(e=>"user"===e.role),t=e?e.content.substring(0,40)+(e.content.length>40?"...":""):"Untitled Chat",r={id:crypto.randomUUID(),title:t,timestamp:new Date().toISOString(),messages:n};f(e=>{let t=[r,...e.filter(e=>!e.id.startsWith("temp-"))];return localStorage.setItem("socialMediaChatHistory",JSON.stringify(t)),t})},w=(e=!1)=>{e||"new"!==h||x();try{let e=new ns({apiKey:"AIzaSyAKztOeoF7i42xaQ5tHKC18jrQZl4IS91o"}).chats.create({model:"gemini-2.5-flash",config:{systemInstruction:b}});r(e),i([{role:"model",content:"Hello! I'm your AI Content Strategist. What brilliant idea or product are we working on today?"}]),m("new"),u(null)}catch(e){console.error(e),u("Failed to initialize AI strategist. Please check your API key and refresh.")}},O=async e=>{if(e.preventDefault(),!a.trim()||l||!t||"new"!==h)return;let r={role:"user",content:a};i(e=>[...e,r]),o(""),s(!0),u(null);try{let e=await t.sendMessageStream({message:a}),r="";for await(let t of(i(e=>[...e,{role:"model",content:""}]),e))r+=t.text,i(e=>{let t=[...e];return t[t.length-1].content=r,t});let n=r.match(/```json\n([\s\S]*?)\n```/);if(n&&n[1])try{let e=JSON.parse(n[1]);i(t=>{let r=[...t];return r[r.length-1]={role:"system",content:"Here is the content we came up with. Ready to create this post?",postData:e},r})}catch(e){console.error("JSON parsing error:",e),u("The AI returned a plan, but it wasn't formatted correctly. You can ask it to try again.")}}catch(e){console.error(e),u(e instanceof Error?e.message:"An unexpected error occurred."),i(e=>[...e,{role:"system",content:"Sorry, I ran into a problem. Please try again."}])}finally{s(!1)}},E=({msg:t})=>{let r,n,i,a,o,l="user"===t.role,s="model"===t.role;return"system"===t.role&&t.postData?(0,tu.jsxs)("div",{className:"bg-white rounded-lg p-4 my-2 text-sm text-charcoal border border-charcoal shadow-lg",children:[(0,tu.jsx)("p",{className:"font-semibold mb-4",children:t.content}),(0,tu.jsxs)("div",{className:"bg-light-gray p-3 rounded-md mb-4",children:[(0,tu.jsxs)("h4",{className:"font-bold text-charcoal-dark mb-2",children:["Topic: ",(0,tu.jsx)("span",{className:"font-normal",children:t.postData.topic})]}),(0,tu.jsx)("p",{className:"text-xs text-slate whitespace-pre-wrap",children:JSON.stringify(t.postData,null,2)})]}),(0,tu.jsxs)("button",{onClick:()=>(t=>{let{topic:r,imageSuggestion:n,videoSuggestion:i,...a}=t,o=Object.keys(a).filter(e=>nc.some(t=>t.id===e));0===o.length?u("The generated content didn't specify any valid platforms."):(e({id:crypto.randomUUID(),topic:r||"AI Generated Content",platforms:o,content:{...a,imageSuggestion:n,videoSuggestion:i},status:"draft",createdAt:new Date().toISOString(),isGeneratingImage:!1,isGeneratingVideo:!1,videoGenerationStatus:""}),x(),w())})(t.postData),className:"w-full flex items-center justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-charcoal hover:bg-charcoal-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-white focus:ring-charcoal",children:[(0,tu.jsx)(nb,{className:"w-5 h-5 mr-2"}),"Accept & Create Post"]})]}):(0,tu.jsxs)("div",{className:`flex items-start gap-3 my-4 ${l?"flex-row-reverse":""}`,children:[(0,tu.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${l?"bg-charcoal":"bg-slate"}`,children:l?(0,tu.jsx)(ny,{className:"w-5 h-5 text-white"}):(0,tu.jsx)(ng,{className:"w-5 h-5 text-white"})}),(0,tu.jsx)("div",{className:`p-3 rounded-lg max-w-2xl text-base ${l?"bg-charcoal text-white":"bg-light-gray text-gray-900"}`,children:s?(r=t.content.split("\n"),n=[],i=[],a=e=>e.split(/(\*\*.*?\*\*)/g).filter(Boolean).map((e,t)=>e.startsWith("**")&&e.endsWith("**")?(0,tu.jsx)("strong",{children:e.slice(2,-2)},t):e),o=()=>{i.length>0&&(n.push((0,tu.jsx)("ul",{className:"list-disc list-inside space-y-1 my-2",children:i},`ul-${n.length}`)),i=[])},r.forEach((e,t)=>{e.trim().startsWith("* ")?i.push((0,tu.jsx)("li",{className:"pl-2",children:a(e.trim().substring(2))},t)):(o(),""!==e.trim()&&n.push((0,tu.jsx)("p",{children:a(e)},t)))}),o(),(0,tu.jsx)("div",{className:"space-y-2",children:n})):(0,tu.jsx)("p",{className:"whitespace-pre-wrap",children:t.content})})]})};return(0,tu.jsxs)("div",{className:"max-w-7xl mx-auto h-full flex flex-row gap-6",children:[g&&(0,tu.jsxs)("div",{className:"w-1/3 lg:w-1/4 bg-white rounded-lg shadow-xl flex flex-col h-full border border-slate/30",children:[(0,tu.jsx)("div",{className:"p-4 border-b border-slate/30",children:(0,tu.jsxs)("button",{onClick:()=>w(),className:"w-full flex items-center justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-charcoal hover:bg-charcoal-dark",children:[(0,tu.jsx)(nx,{className:"w-5 h-5 mr-2"}),"New Chat"]})}),(0,tu.jsxs)("div",{className:"flex-1 overflow-y-auto p-2",children:[(0,tu.jsx)("h3",{className:"px-2 pb-2 text-xs font-semibold text-slate uppercase tracking-wider",children:"History"}),(0,tu.jsx)("nav",{className:"space-y-1",children:p.map(e=>(0,tu.jsxs)("button",{onClick:()=>{"new"===h&&x(),i(e.messages),m(e.id),r(null),s(!1)},className:`w-full text-left flex flex-col p-2 rounded-md transition-colors ${h===e.id?"bg-light-gray":"hover:bg-slate/10"}`,children:[(0,tu.jsx)("p",{className:"text-sm font-medium text-charcoal-dark truncate",children:e.title}),(0,tu.jsx)("p",{className:"text-xs text-slate",children:new Date(e.timestamp).toLocaleDateString()})]},e.id))})]})]}),(0,tu.jsxs)("div",{className:"flex-1 flex flex-col h-full",children:[(0,tu.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,tu.jsx)("h2",{className:"text-3xl font-bold text-charcoal-dark",children:"AI Content Strategist"}),(0,tu.jsx)("button",{onClick:()=>y(!g),className:"p-2 rounded-full text-slate hover:bg-slate/10 hover:text-charcoal-dark transition-colors",title:g?"Hide History":"Show History",children:g?(0,tu.jsx)(nO,{className:"w-5 h-5"}):(0,tu.jsx)(nw,{className:"w-5 h-5"})})]}),(0,tu.jsxs)("div",{className:"flex-grow bg-white rounded-lg shadow-xl flex flex-col p-4 min-h-0 border border-slate/30",children:[(0,tu.jsxs)("div",{ref:d,className:"flex-1 overflow-y-auto pr-2",children:[n.map((e,t)=>(0,tu.jsx)(E,{msg:e},t)),l&&(0,tu.jsxs)("div",{className:"flex items-start gap-3 my-4",children:[(0,tu.jsx)("div",{className:"w-8 h-8 rounded-full bg-slate flex items-center justify-center flex-shrink-0",children:(0,tu.jsx)(ng,{className:"w-5 h-5 text-white"})}),(0,tu.jsx)("div",{className:"p-3 rounded-lg bg-light-gray text-charcoal flex items-center",children:(0,tu.jsx)(nv,{className:"w-5 h-5 animate-spin text-slate"})})]})]}),(0,tu.jsxs)("div",{className:"mt-4 border-t border-slate/30 pt-4",children:[c&&(0,tu.jsx)("p",{className:"text-red-400 text-sm text-center mb-2",children:c}),(0,tu.jsxs)("form",{onSubmit:O,className:"flex items-center gap-3",children:[(0,tu.jsx)("input",{type:"text",value:a,onChange:e=>o(e.target.value),placeholder:"new"!==h?"Viewing history (read-only)":"Let's brainstorm some content...",className:"flex-1 bg-white border border-slate/30 rounded-full shadow-sm focus:ring-charcoal focus:border-charcoal text-charcoal p-3 px-5",disabled:l||"new"!==h}),(0,tu.jsx)("button",{type:"submit",disabled:l||!a.trim()||"new"!==h,className:"p-3 rounded-full text-white bg-charcoal hover:bg-charcoal-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-white focus:ring-charcoal disabled:bg-slate disabled:cursor-not-allowed transition-colors",children:(0,tu.jsx)(nm,{className:"w-5 h-5"})})]})]})]})]})]})},nS=async(e,t)=>{let r=new ns({apiKey:"AIzaSyAKztOeoF7i42xaQ5tHKC18jrQZl4IS91o"}),n=`
        You are a creative prompt engineer for an advanced generative AI.
        Your task is to take a user's idea and expand it into a rich, detailed, and evocative prompt that will produce a stunning visual.
        For an ${t}, focus on cinematic quality, lighting, composition, and mood.
        Do NOT add any explanatory text, markdown, or preamble. Return ONLY the improved prompt text.

        Original idea: "${e}"
    `;try{return((await r.models.generateContent({model:"gemini-2.5-flash",contents:n})).text??"").trim()}catch(e){throw console.error("Error improving prompt:",e),Error("Failed to improve prompt.")}},nA=async e=>{try{let t=new ns({apiKey:"AIzaSyAKztOeoF7i42xaQ5tHKC18jrQZl4IS91o"}),r=(await t.models.generateContent({model:"gemini-2.5-flash-image",contents:{parts:[{text:e}]},config:{responseModalities:[eT.IMAGE]}})).candidates??[];if(0===r.length)throw Error("No candidates in response");for(let e of r[0]?.content?.parts??[])if(e.inlineData&&e.inlineData.data){let t=e.inlineData.data;return`data:image/png;base64,${t}`}throw Error("No image data found in response.")}catch(e){throw console.error("Error generating image:",e),Error("Failed to generate image.")}},nj=async e=>{try{let t=new ns({apiKey:"AIzaSyAKztOeoF7i42xaQ5tHKC18jrQZl4IS91o"});return await t.models.generateVideos({model:"veo-3.1-fast-generate-preview",prompt:e,config:{numberOfVideos:1,resolution:"720p",aspectRatio:"9:16"}})}catch(e){if(console.error("Error starting video generation:",e),e instanceof Error&&e.message.includes("Requested entity was not found"))throw Error("API_KEY_INVALID");throw e}},n_=async e=>{try{let t=new ns({apiKey:"AIzaSyAKztOeoF7i42xaQ5tHKC18jrQZl4IS91o"});return await t.operations.getVideosOperation({operation:e})}catch(e){if(console.error("Error checking video status:",e),e instanceof Error&&e.message.includes("Requested entity was not found"))throw Error("API_KEY_INVALID");throw e}},nC=async e=>{try{let t=await fetch(`${e}&key=AIzaSyAKztOeoF7i42xaQ5tHKC18jrQZl4IS91o`);if(!t.ok)throw Error(`Failed to fetch video: ${t.statusText}`);let r=await t.blob();return URL.createObjectURL(r)}catch(e){throw console.error("Error fetching video data:",e),e}},nN=async(e,t,r=5)=>{let n=new ns({apiKey:"AIzaSyAKztOeoF7i42xaQ5tHKC18jrQZl4IS91o"}),i=t.map(e=>{let t=nc.find(t=>t.id===e);return`- ${t?.name}: Be mindful of its audience and character limit of ${t?.characterLimit}.`}).join("\n"),a=`
        You are an expert social media strategist. Your task is to repurpose the following long-form content into ${r} distinct, engaging social media posts.

        **Long-form Content:**
        ${e}

        **Target Platforms:**
        ${i}

        Create ${r} unique posts. Each post should:
        1. Focus on a different angle, key point, or insight from the content
        2. Be tailored for the specified platforms
        3. Include engaging hooks and calls-to-action
        4. Have a clear, specific topic/focus
        5. Include image and video suggestions

        Return the response as a JSON array of ${r} post objects. Each object must have:
        - "topic": A brief description of the post's focus
        - "platforms": Array of platform names (${t.join(", ")})
        - "content": Object with keys for each platform (${t.join(", ")}) plus "imageSuggestion" and "videoSuggestion"

        Do not include any markdown formatting or explanatory text outside of the JSON array.
    `,o={type:ey.OBJECT,properties:{topic:{type:ey.STRING},platforms:{type:ey.ARRAY,items:{type:ey.STRING}},content:{type:ey.OBJECT,properties:{...t.reduce((e,t)=>(e[t]={type:ey.STRING},e),{}),imageSuggestion:{type:ey.STRING},videoSuggestion:{type:ey.STRING}}}}},l={type:ey.ARRAY,items:o};try{let e=((await n.models.generateContent({model:"gemini-2.5-flash",contents:a,config:{responseMimeType:"application/json",responseSchema:l}})).text??"").trim();return JSON.parse(e)}catch(e){throw console.error("Error repurposing content:",e),Error("Failed to repurpose content. Please try again.")}},nT=(e,t)=>t.some(t=>e instanceof t),nI=new WeakMap,nP=new WeakMap,nk=new WeakMap,nM={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return nI.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return nD(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function nD(e){if(e instanceof IDBRequest){let t;return t=new Promise((t,r)=>{let n=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(nD(e.result)),n()},a=()=>{r(e.error),n()};e.addEventListener("success",i),e.addEventListener("error",a)}),nk.set(t,e),t}if(nP.has(e))return nP.get(e);let n=function(e){if("function"==typeof e)return(r||(r=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(nR(this),t),nD(this.request)}:function(...t){return nD(e.apply(nR(this),t))};return(e instanceof IDBTransaction&&function(e){if(nI.has(e))return;let t=new Promise((t,r)=>{let n=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),n()},a=()=>{r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});nI.set(e,t)}(e),nT(e,t||(t=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])))?new Proxy(e,nM):e}(e);return n!==e&&(nP.set(e,n),nk.set(n,e)),n}let nR=e=>nk.get(e),nU=["get","getKey","getAll","getAllKeys","count"],nL=["put","add","delete","clear"],nq=new Map;function nF(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(nq.get(t))return nq.get(t);let r=t.replace(/FromIndex$/,""),n=t!==r,i=nL.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||nU.includes(r)))return;let a=async function(e,...t){let a=this.transaction(e,i?"readwrite":"readonly"),o=a.store;return n&&(o=o.index(t.shift())),(await Promise.all([o[r](...t),i&&a.done]))[0]};return nq.set(t,a),a}nM={...d=nM,get:(e,t,r)=>nF(e,t)||d.get(e,t,r),has:(e,t)=>!!nF(e,t)||d.has(e,t)};let nG=["continue","continuePrimaryKey","advance"],nB={},nH=new WeakMap,nV=new WeakMap,n$={get(e,t){if(!nG.includes(t))return e[t];let r=nB[t];return r||(r=nB[t]=function(...e){nH.set(this,nV.get(this)[t](...e))}),r}};async function*nz(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;let r=new Proxy(t,n$);for(nV.set(r,t),nk.set(r,nR(t));t;)yield r,t=await (nH.get(r)||t.continue()),nH.delete(r)}function nK(e,t){return t===Symbol.asyncIterator&&nT(e,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===t&&nT(e,[IDBIndex,IDBObjectStore])}nM={...p=nM,get:(e,t,r)=>nK(e,t)?nz:p.get(e,t,r),has:(e,t)=>nK(e,t)||p.has(e,t)};let nJ=null;async function nY(){return nJ||(nJ=await function(e,t,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){let o=indexedDB.open(e,1),l=nD(o);return n&&o.addEventListener("upgradeneeded",e=>{n(nD(o.result),e.oldVersion,e.newVersion,nD(o.transaction),e)}),r&&o.addEventListener("blocked",e=>r(e.oldVersion,e.newVersion,e)),l.then(e=>{a&&e.addEventListener("close",()=>a()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),l}("social-media-os-db",0,{upgrade(e){let t=e.createObjectStore("media",{keyPath:"id"});t.createIndex("by-date","createdAt"),t.createIndex("by-type","type"),t.createIndex("by-source","source")}}))}async function nW(e){let t=await nY();await t.put("media",e)}async function nX(){let e=await nY();return(await e.getAll("media")).sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime())}async function nZ(e){let t=await nY();await t.delete("media",e)}async function nQ(e,t,r){let n={id:crypto.randomUUID(),name:`${t}_${new Date().getTime()}`,type:t,url:e,size:0,tags:r?[r]:[],createdAt:new Date().toISOString(),source:"ai-generated",usedInPosts:[]};return await nW(n),n}async function n0(e){return new Promise(t=>{let r=document.createElement("video");r.src=e,r.crossOrigin="anonymous",r.addEventListener("loadeddata",()=>{r.currentTime=1}),r.addEventListener("seeked",()=>{let e=document.createElement("canvas");e.width=r.videoWidth,e.height=r.videoHeight;let n=e.getContext("2d");n?(n.drawImage(r,0,0,e.width,e.height),t(e.toDataURL("image/jpeg",.7))):t("")})})}async function n1(e){let t,r=URL.createObjectURL(e),n=e.type.startsWith("image/")?"image":"video";"video"===n&&(t=await n0(r));let i={id:crypto.randomUUID(),name:e.name,type:n,url:r,thumbnailUrl:t,size:e.size,tags:[],createdAt:new Date().toISOString(),source:"uploaded",usedInPosts:[]};return await nW(i),i}async function n2(){let e=await nX(),t=e.reduce((e,t)=>e+t.size,0);return{totalAssets:e.length,totalSize:t}}let n3=nh("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),n4=nh("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),n5=nh("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),n6=nh("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),n8=nh("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),n7=nh("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),n9=nh("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),ie=nh("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]),it=nh("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ir=nh("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ii=nh("CircleArrowRight",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"m12 16 4-4-4-4",key:"1i9zcv"}]]),ia=nh("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]),io=nh("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]),il=nh("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]),is=({post:e,onClose:t})=>{let[r,n]=(0,td.useState)(e.platforms[0]);return(0,td.useEffect)(()=>{let e=e=>{"Escape"===e.key&&t()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[t]),(0,tu.jsxs)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",onClick:t,children:[(0,tu.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col border border-slate/30",onClick:e=>e.stopPropagation(),children:[(0,tu.jsxs)("header",{className:"flex justify-between items-center p-4 border-b border-slate/30 flex-shrink-0",children:[(0,tu.jsx)("h2",{className:"text-xl font-bold text-charcoal-dark",children:"Post Preview"}),(0,tu.jsx)("button",{onClick:t,className:"p-2 rounded-full text-slate hover:bg-slate/10 hover:text-charcoal-dark transition-colors",children:(0,tu.jsx)(ir,{className:"w-6 h-6"})})]}),(0,tu.jsxs)("div",{className:"p-6 overflow-y-auto",children:[(0,tu.jsx)(()=>(0,tu.jsx)("div",{className:"flex items-center border-b border-slate/30 mb-4",children:e.platforms.map(e=>{let t=nc.find(t=>t.id===e);if(!t)return null;let{icon:i,name:a}=t;return(0,tu.jsxs)("button",{onClick:()=>n(e),className:`flex items-center gap-2 px-4 py-3 border-b-2 font-medium transition-colors ${r===e?"border-charcoal text-charcoal-dark":"border-transparent text-slate hover:text-charcoal-dark"}`,children:[(0,tu.jsx)(i,{className:"w-5 h-5"}),(0,tu.jsx)("span",{children:a})]},e)})}),{}),(0,tu.jsx)(({platform:t})=>{let r=nc.find(e=>e.id===t);if(!r)return null;let n=e.content[t]||"";return e.generatedImage||e.generatedVideoUrl,(0,tu.jsxs)("div",{className:"bg-light-gray rounded-lg p-4 w-full max-w-lg mx-auto border border-slate/30",children:[(0,tu.jsxs)("div",{className:"flex items-center mb-4",children:[(0,tu.jsx)("div",{className:"w-11 h-11 bg-charcoal rounded-full flex items-center justify-center text-white font-bold text-lg flex-shrink-0",children:"AI"}),(0,tu.jsxs)("div",{className:"ml-3",children:[(0,tu.jsx)("p",{className:"font-semibold text-charcoal-dark leading-tight",children:"AI Content OS (Preview)"}),(0,tu.jsxs)("p",{className:"text-xs text-slate",children:["Posting to ",r.name]})]})]}),(0,tu.jsx)("p",{className:"text-charcoal text-sm mb-4 whitespace-pre-wrap",children:n}),e.generatedImage?(0,tu.jsx)("img",{src:e.generatedImage,alt:"Generated content",className:"rounded-lg w-full border border-slate/30 mb-4"}):e.generatedVideoUrl?(0,tu.jsx)("video",{src:e.generatedVideoUrl,controls:!0,className:"rounded-lg w-full border border-slate/30 mb-4"}):e.content.imageSuggestion?(0,tu.jsxs)("div",{className:"bg-white rounded-lg w-full aspect-video flex flex-col items-center justify-center text-slate p-4 mb-4 border border-slate/30",children:[(0,tu.jsx)(n4,{className:"w-12 h-12 mb-2"}),(0,tu.jsxs)("p",{className:"text-center text-xs italic",children:['Image will be generated for: "',e.content.imageSuggestion,'"']})]}):e.content.videoSuggestion&&(0,tu.jsxs)("div",{className:"bg-white rounded-lg w-full aspect-video flex flex-col items-center justify-center text-slate p-4 mb-4 border border-slate/30",children:[(0,tu.jsx)(n3,{className:"w-12 h-12 mb-2"}),(0,tu.jsxs)("p",{className:"text-center text-xs italic",children:['Video will be generated for: "',e.content.videoSuggestion,'"']})]}),(0,tu.jsxs)("div",{className:"pt-3 border-t border-slate/30 flex justify-around text-slate",children:[(0,tu.jsxs)("div",{className:"flex items-center space-x-2 p-2 rounded-md",children:[(0,tu.jsx)(ia,{className:"w-5 h-5"}),(0,tu.jsx)("span",{className:"text-sm font-medium",children:"Like"})]}),(0,tu.jsxs)("div",{className:"flex items-center space-x-2 p-2 rounded-md",children:[(0,tu.jsx)(io,{className:"w-5 h-5"}),(0,tu.jsx)("span",{className:"text-sm font-medium",children:"Comment"})]}),(0,tu.jsxs)("div",{className:"flex items-center space-x-2 p-2 rounded-md",children:[(0,tu.jsx)(il,{className:"w-5 h-5"}),(0,tu.jsx)("span",{className:"text-sm font-medium",children:"Repost"})]}),(0,tu.jsxs)("div",{className:"flex items-center space-x-2 p-2 rounded-md",children:[(0,tu.jsx)(nm,{className:"w-5 h-5"}),(0,tu.jsx)("span",{className:"text-sm font-medium",children:"Send"})]})]})]})},{platform:r})]})]}),(0,tu.jsx)("style",{children:`
                @keyframes fade-in {
                    from { opacity: 0; transform: scale(0.95); }
                    to { opacity: 1; transform: scale(1); }
                }
                .animate-fade-in {
                    animation: fade-in 0.2s ease-out forwards;
                }
            `})]})},ic=({post:e,onUpdatePost:t,onDeletePost:r,isApiKeyReady:n,onSelectKey:i,resetApiKeyStatus:a})=>{let[o,l]=(0,td.useState)(!1),[s,c]=(0,td.useState)(e.content),[u,d]=(0,td.useState)(e.platforms[0]),[p,f]=(0,td.useState)({image:!1,video:!1}),[h,m]=(0,td.useState)(!1);(0,td.useEffect)(()=>{o||c(e.content)},[e.content,o]);let g=(e,t)=>{c(r=>({...r,[e]:t}))},y=r=>{t({...e,status:r})},v=async e=>{let t="image"===e?"imageSuggestion":"videoSuggestion",r=s[t];if(r){f(t=>({...t,[e]:!0}));try{let n=await nS(r,e);c(e=>({...e,[t]:n}))}catch(t){console.error(`Error improving ${e} suggestion:`,t)}finally{f(t=>({...t,[e]:!1}))}}},b=async()=>{if(s.imageSuggestion){t({...e,isGeneratingImage:!0,generatedImage:void 0});try{let r=await nA(s.imageSuggestion);await nQ(r,"image",e.topic),t({...e,generatedImage:r,isGeneratingImage:!1,content:s})}catch(r){console.error(r),t({...e,isGeneratingImage:!1})}}},x=async()=>{if(s.videoSuggestion)try{t({...e,isGeneratingVideo:!0,videoGenerationStatus:"Starting...",generatedVideoUrl:void 0});let r=await nj(s.videoSuggestion);t({...e,videoGenerationStatus:"Processing...",videoOperation:r,content:s})}catch(r){r instanceof Error&&"API_KEY_INVALID"===r.message&&a(),t({...e,isGeneratingVideo:!1,videoGenerationStatus:"Generation failed."})}},w=({platform:e})=>{let t=nc.find(t=>t.id===e);if(!t)return null;let{icon:r}=t;return(0,tu.jsx)("button",{onClick:()=>d(e),className:`flex items-center space-x-2 px-3 py-2 rounded-t-lg transition-colors duration-200 border-b-2 ${u===e?"border-charcoal text-charcoal-dark":"border-transparent text-slate hover:text-charcoal-dark"}`,children:(0,tu.jsx)(r,{className:"w-5 h-5"})})},O=({onClick:e,icon:t,label:r,className:n,disabled:i})=>(0,tu.jsxs)("button",{onClick:e,disabled:i,className:`flex items-center justify-center text-xs font-bold py-2 px-3 rounded transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed ${n}`,children:[(0,tu.jsx)(t,{className:`w-4 h-4 ${r?"mr-1.5":""} ${i&&(r.includes("Generating")||r.includes("Improving")||r.includes("Processing"))?"animate-spin":""}`}),r&&(0,tu.jsx)("span",{children:r})]});return(0,tu.jsxs)(tu.Fragment,{children:[(0,tu.jsxs)("div",{className:"bg-white rounded-lg shadow-lg flex flex-col overflow-hidden border border-slate/30",children:[(0,tu.jsxs)("div",{className:"p-4 bg-light-gray",children:[(0,tu.jsxs)("div",{className:"flex justify-between items-start",children:[(0,tu.jsx)("p",{className:"font-bold text-lg text-charcoal-dark pr-2 break-words flex-1",children:e.topic}),(0,tu.jsx)(({status:e})=>{let t=nu[e];return(0,tu.jsx)("span",{className:`px-2.5 py-1 text-xs font-semibold rounded-full text-white ${t.color}`,children:t.label})},{status:e.status})]}),(0,tu.jsx)("p",{className:"text-xs text-slate mt-1",children:`Created: ${new Date(e.createdAt).toLocaleString()}`})]}),(0,tu.jsxs)("div",{className:"flex-grow p-4 space-y-4",children:[(0,tu.jsx)("div",{className:"flex border-b border-slate/30",children:e.platforms.map(e=>(0,tu.jsx)(w,{platform:e},e))}),(0,tu.jsx)("div",{className:"bg-slate/10 p-3 rounded-lg",children:(0,tu.jsx)("textarea",{readOnly:!o,value:s[u]||"",onChange:e=>{var t;return t=e.target.value,void c(e=>({...e,[u]:t}))},className:`w-full h-28 bg-transparent text-charcoal resize-none focus:outline-none text-sm ${o?"focus:ring-2 focus:ring-charcoal rounded":""}`})}),o?(0,tu.jsxs)(tu.Fragment,{children:[e.content.imageSuggestion&&(0,tu.jsxs)("div",{className:"p-3 bg-slate/10 rounded-lg space-y-3",children:[(0,tu.jsx)("label",{className:"text-sm font-semibold text-charcoal",children:"Image Prompt"}),(0,tu.jsx)("textarea",{value:s.imageSuggestion||"",onChange:e=>g("imageSuggestion",e.target.value),className:"w-full h-24 bg-white p-2 rounded-md text-sm text-charcoal resize-none focus:outline-none focus:ring-2 focus:ring-charcoal border border-slate/30"}),(0,tu.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,tu.jsx)(O,{onClick:()=>v("image"),disabled:p.image,icon:p.image?nv:ie,label:p.image?"Improving...":"Improve",className:"w-full bg-amber-500 hover:bg-amber-600 text-black"}),(0,tu.jsx)(O,{onClick:b,disabled:e.isGeneratingImage,icon:e.isGeneratingImage?nv:n4,label:e.isGeneratingImage?"Generating...":"Regenerate",className:"w-full text-white bg-teal-600 hover:bg-teal-700"})]}),e.generatedImage&&(0,tu.jsx)("img",{src:e.generatedImage,alt:"Generated",className:"rounded-md w-full mt-2"})]}),e.content.videoSuggestion&&(0,tu.jsxs)("div",{className:"p-3 bg-slate/10 rounded-lg space-y-3",children:[(0,tu.jsx)("label",{className:"text-sm font-semibold text-charcoal",children:"Video Prompt"}),(0,tu.jsx)("textarea",{value:s.videoSuggestion||"",onChange:e=>g("videoSuggestion",e.target.value),className:"w-full h-24 bg-white p-2 rounded-md text-sm text-charcoal resize-none focus:outline-none focus:ring-2 focus:ring-charcoal border border-slate/30"}),(0,tu.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,tu.jsx)(O,{onClick:()=>v("video"),disabled:p.video,icon:p.video?nv:ie,label:p.video?"Improving...":"Improve",className:"w-full bg-amber-500 hover:bg-amber-600 text-black"}),n||e.generatedVideoUrl?(0,tu.jsx)(O,{onClick:x,disabled:e.isGeneratingVideo,icon:e.isGeneratingVideo?nv:n3,label:e.isGeneratingVideo?e.videoGenerationStatus.split(" ")[0]:"Regenerate",className:"w-full text-white bg-purple-600 hover:bg-purple-700"}):(0,tu.jsxs)("button",{onClick:i,className:"flex items-center justify-center gap-2 p-2 bg-yellow-900/50 rounded text-xs text-yellow-200 underline hover:text-white",children:[(0,tu.jsx)(n7,{className:"w-5 h-5 text-yellow-400 flex-shrink-0"}),(0,tu.jsx)("span",{children:"Select key to generate"})]})]}),e.generatedVideoUrl&&(0,tu.jsx)("video",{src:e.generatedVideoUrl,controls:!0,className:"rounded-md w-full mt-2"})]})]}):(0,tu.jsxs)(tu.Fragment,{children:[e.content.imageSuggestion&&(0,tu.jsxs)("div",{className:"p-3 bg-slate/10 rounded-lg space-y-2",children:[(0,tu.jsxs)("p",{className:"text-xs text-slate italic",children:['"',e.content.imageSuggestion,'"']}),e.generatedImage?(0,tu.jsx)("img",{src:e.generatedImage,alt:"Generated",className:"rounded-md w-full"}):(0,tu.jsx)(O,{onClick:b,disabled:e.isGeneratingImage,icon:e.isGeneratingImage?nv:n4,label:e.isGeneratingImage?"Generating...":"Generate Image",className:"w-full text-white bg-teal-600 hover:bg-teal-700"})]}),e.content.videoSuggestion&&(0,tu.jsxs)("div",{className:"p-3 bg-slate/10 rounded-lg space-y-2",children:[(0,tu.jsxs)("p",{className:"text-xs text-slate italic",children:['"',e.content.videoSuggestion,'"']}),e.generatedVideoUrl?(0,tu.jsxs)("div",{className:"relative",children:[(0,tu.jsx)("video",{src:e.generatedVideoUrl,controls:!0,className:"rounded-md w-full"}),(0,tu.jsx)("a",{href:e.generatedVideoUrl,download:`video_${e.id}.mp4`,target:"_blank",rel:"noopener noreferrer",className:"absolute top-2 right-2 bg-black/50 p-1.5 rounded-full text-white hover:bg-black/80",children:(0,tu.jsx)(n9,{className:"w-4 h-4"})})]}):n?(0,tu.jsx)(O,{onClick:x,disabled:e.isGeneratingVideo,icon:e.isGeneratingVideo?nv:n3,label:e.isGeneratingVideo?e.videoGenerationStatus.split(" ")[0]:"Generate Video",className:"w-full text-white bg-purple-600 hover:bg-purple-700"}):(0,tu.jsxs)("button",{onClick:i,className:"flex items-center justify-center gap-2 w-full p-2 bg-yellow-900/50 rounded text-xs text-yellow-200 underline hover:text-white",children:[(0,tu.jsx)(n7,{className:"w-5 h-5 text-yellow-400 flex-shrink-0"}),(0,tu.jsx)("span",{children:"Select key to generate"})]})]})]})]}),(0,tu.jsx)("div",{className:"p-3 bg-light-gray flex flex-wrap gap-2 justify-between items-center",children:o?(0,tu.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,tu.jsxs)("div",{className:"flex gap-2",children:[(0,tu.jsx)(O,{onClick:()=>{t({...e,content:s}),l(!1)},icon:n6,label:"Save",className:"bg-green-600 hover:bg-green-700 text-white"}),(0,tu.jsx)(O,{onClick:()=>{l(!1),c(e.content)},icon:ir,label:"Cancel",className:"bg-slate hover:bg-slate/80 text-white"}),(0,tu.jsx)(O,{onClick:()=>m(!0),icon:it,label:"Preview",className:"bg-blue-600 hover:bg-blue-700 text-white"})]}),(0,tu.jsx)(O,{onClick:()=>r(e.id),icon:n8,label:"",className:"bg-red-600 hover:bg-red-700 text-white"})]}):(0,tu.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,tu.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,tu.jsx)(O,{onClick:()=>l(!0),icon:n5,label:"Edit",className:"bg-slate hover:bg-slate/80 text-white"}),(0,tu.jsx)(O,{onClick:()=>m(!0),icon:it,label:"Preview",className:"bg-blue-600 hover:bg-blue-700 text-white"}),"draft"===e.status&&(0,tu.jsx)(O,{onClick:()=>y("needs approval"),icon:nm,label:"Request Approval",className:"bg-yellow-500 hover:bg-yellow-600 text-black"}),"needs approval"===e.status&&(0,tu.jsx)(O,{onClick:()=>y("approved"),icon:nb,label:"Approve",className:"bg-cyan-500 hover:bg-cyan-600 text-white"}),"approved"===e.status&&(0,tu.jsx)(O,{onClick:()=>y("ready to publish"),icon:ii,label:"Finalize & Move",className:"bg-charcoal hover:bg-charcoal-dark text-white"})]}),(0,tu.jsx)(O,{onClick:()=>r(e.id),icon:n8,label:"",className:"bg-red-600 hover:bg-red-700 text-white"})]})})]}),h&&(0,tu.jsx)(is,{post:{...e,content:s},onClose:()=>m(!1)})]})},iu=nh("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),id=({onSearchChange:e,onStatusChange:t,onPlatformChange:r,showStatusFilter:n=!0,excludeStatuses:i=[]})=>(0,tu.jsxs)("div",{className:"bg-white p-4 rounded-lg mb-6 flex flex-col md:flex-row items-center gap-4 border border-slate/30",children:[(0,tu.jsxs)("div",{className:"relative w-full md:flex-1",children:[(0,tu.jsx)(iu,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate w-5 h-5"}),(0,tu.jsx)("input",{type:"text",placeholder:"Search by topic...",onChange:t=>e(t.target.value),className:"w-full bg-white border border-slate/30 rounded-md shadow-sm focus:ring-charcoal focus:border-charcoal text-charcoal p-2 pl-10"})]}),(0,tu.jsxs)("div",{className:"flex w-full md:w-auto gap-4",children:[n&&(0,tu.jsxs)("select",{onChange:e=>t(e.target.value),className:"w-full bg-white border-slate/30 rounded-md shadow-sm focus:ring-charcoal focus:border-charcoal text-charcoal p-2 capitalize",children:[(0,tu.jsx)("option",{value:"all",children:"All Statuses"}),Object.entries(nu).filter(([e])=>!i.includes(e)).map(([e,{label:t}])=>(0,tu.jsx)("option",{value:e,children:t},e))]}),(0,tu.jsxs)("select",{onChange:e=>r(e.target.value),className:"w-full bg-white border-slate/30 rounded-md shadow-sm focus:ring-charcoal focus:border-charcoal text-charcoal p-2",children:[(0,tu.jsx)("option",{value:"all",children:"All Platforms"}),nc.map(e=>(0,tu.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),ip=nh("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),ih=nh("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),im=({posts:e})=>{let[t,r]=(0,td.useState)(new Date),n=new Date(t.getFullYear(),t.getMonth(),1),i=new Date(t.getFullYear(),t.getMonth()+1,0),a=n.getDay(),o=Array.from({length:i.getDate()},(e,t)=>t+1),l=Array.from({length:a}),s=e=>{r(t=>new Date(t.getFullYear(),t.getMonth()+e,1))},c=({status:e})=>(0,tu.jsx)("div",{className:`w-2 h-2 rounded-full ${nu[e].color}`,title:nu[e].label});return(0,tu.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg border border-slate/30",children:[(0,tu.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,tu.jsx)("button",{onClick:()=>s(-1),className:"p-2 rounded-full hover:bg-slate/10",children:(0,tu.jsx)(ip,{className:"w-6 h-6"})}),(0,tu.jsx)("h3",{className:"text-xl font-semibold text-charcoal-dark",children:t.toLocaleString("default",{month:"long",year:"numeric"})}),(0,tu.jsx)("button",{onClick:()=>s(1),className:"p-2 rounded-full hover:bg-slate/10",children:(0,tu.jsx)(ih,{className:"w-6 h-6"})})]}),(0,tu.jsx)("div",{className:"grid grid-cols-7 gap-1 text-center text-xs text-slate mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,tu.jsx)("div",{children:e},e))}),(0,tu.jsxs)("div",{className:"grid grid-cols-7 gap-1",children:[l.map((e,t)=>(0,tu.jsx)("div",{className:"border border-slate/30 rounded-md h-28"},`empty-${t}`)),o.map(r=>{let n=e.filter(e=>{if("scheduled"!==e.status||!e.scheduledAt)return!1;let n=new Date(e.scheduledAt);return n.getFullYear()===t.getFullYear()&&n.getMonth()===t.getMonth()&&n.getDate()===r}),i=new Date().getFullYear()===t.getFullYear()&&new Date().getMonth()===t.getMonth()&&new Date().getDate()===r;return(0,tu.jsxs)("div",{className:`border border-slate/30 rounded-md h-28 p-2 text-left flex flex-col ${i?"bg-charcoal/10":""}`,children:[(0,tu.jsx)("span",{className:"font-semibold text-charcoal-dark",children:r}),(0,tu.jsx)("div",{className:"flex-grow overflow-y-auto mt-1 space-y-1",children:n.map(e=>(0,tu.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-charcoal truncate",children:[(0,tu.jsx)(c,{status:e.status}),(0,tu.jsx)("p",{className:"truncate",children:e.topic})]},e.id))})]},r)})]})]})},ig=nh("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),iy=nh("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),iv=({posts:e,onUpdatePost:t,onDeletePost:r,isApiKeyReady:n,onSelectKey:i,resetApiKeyStatus:a,connectedAccounts:o})=>{let[l,s]=(0,td.useState)("grid"),[c,u]=(0,td.useState)(""),[d,p]=(0,td.useState)("all"),[f,h]=(0,td.useState)("all"),m=(0,td.useMemo)(()=>e.filter(e=>!["ready to publish","scheduled","published"].includes(e.status)),[e]),g=(0,td.useMemo)(()=>m.filter(e=>{let t=e.topic.toLowerCase().includes(c.toLowerCase()),r="all"===d||e.status===d,n="all"===f||e.platforms.includes(f);return t&&r&&n}),[m,c,d,f]),y=({mode:e,icon:t,label:r})=>(0,tu.jsxs)("button",{onClick:()=>s(e),className:`flex items-center px-4 py-2 text-sm font-medium rounded-md transition-colors ${l===e?"bg-charcoal text-white":"bg-white hover:bg-slate/10 border border-slate/30"}`,children:[(0,tu.jsx)(t,{className:"w-4 h-4 mr-2"}),r]});return(0,tu.jsxs)("div",{children:[(0,tu.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:[(0,tu.jsx)("h2",{className:"text-3xl font-bold text-charcoal-dark",children:"Manage & Finalize Posts"}),(0,tu.jsxs)("div",{className:"flex items-center space-x-2 bg-light-gray p-1 rounded-lg",children:[(0,tu.jsx)(y,{mode:"grid",icon:ig,label:"Grid"}),(0,tu.jsx)(y,{mode:"calendar",icon:iy,label:"Calendar"})]})]}),(0,tu.jsx)(id,{onSearchChange:u,onStatusChange:p,onPlatformChange:h,excludeStatuses:["published","scheduled","ready to publish"]}),"grid"===l?0===m.length?(0,tu.jsxs)("div",{className:"text-center py-20",children:[(0,tu.jsx)("h2",{className:"text-3xl font-semibold text-slate",children:"Your content queue is empty!"}),(0,tu.jsx)("p",{className:"text-slate mt-2",children:'Go to "Create Content" to generate a new post, or check "Published" for finalized items.'})]}):0===g.length?(0,tu.jsxs)("div",{className:"text-center py-20",children:[(0,tu.jsx)("h2",{className:"text-2xl font-semibold text-slate",children:"No Posts Match Your Filters"}),(0,tu.jsx)("p",{className:"text-slate mt-2",children:"Try adjusting your search or selected filters."})]}):(0,tu.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:g.map(e=>(0,tu.jsx)(ic,{post:e,onUpdatePost:t,onDeletePost:r,isApiKeyReady:n,onSelectKey:i,resetApiKeyStatus:a,connectedAccounts:o},e.id))}):(0,tu.jsx)(im,{posts:g})]})};var ib=Symbol.for("immer-nothing"),ix=Symbol.for("immer-draftable"),iw=Symbol.for("immer-state");function iO(e){throw Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var iE=Object.getPrototypeOf;function iS(e){return!!e&&!!e[iw]}function iA(e){return!!e&&(iC(e)||Array.isArray(e)||!!e[ix]||!!e.constructor?.[ix]||ik(e)||iM(e))}var ij=Object.prototype.constructor.toString(),i_=new WeakMap;function iC(e){if(!e||"object"!=typeof e)return!1;let t=Object.getPrototypeOf(e);if(null===t||t===Object.prototype)return!0;let r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if("function"!=typeof r)return!1;let n=i_.get(r);return void 0===n&&(n=Function.toString.call(r),i_.set(r,n)),n===ij}function iN(e,t,r=!0){0===iT(e)?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function iT(e){let t=e[iw];return t?t.type_:Array.isArray(e)?1:ik(e)?2:3*!!iM(e)}function iI(e,t){return 2===iT(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function iP(e,t,r){let n=iT(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r}function ik(e){return e instanceof Map}function iM(e){return e instanceof Set}function iD(e){return e.copy_||e.base_}function iR(e,t){if(ik(e))return new Map(e);if(iM(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);let r=iC(e);if(!0!==t&&("class_only"!==t||r)){let t=iE(e);return null!==t&&r?{...e}:Object.assign(Object.create(t),e)}{let t=Object.getOwnPropertyDescriptors(e);delete t[iw];let r=Reflect.ownKeys(t);for(let n=0;n<r.length;n++){let i=r[n],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(iE(e),t)}}function iU(e,t=!1){return iq(e)||iS(e)||!iA(e)||(iT(e)>1&&Object.defineProperties(e,{set:iL,add:iL,clear:iL,delete:iL}),Object.freeze(e),t&&Object.values(e).forEach(e=>iU(e,!0))),e}var iL={value:function(){iO(2)}};function iq(e){return null===e||"object"!=typeof e||Object.isFrozen(e)}var iF={};function iG(e){let t=iF[e];return t||iO(0,e),t}function iB(e,t){t&&(iG("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function iH(e){iV(e),e.drafts_.forEach(iz),e.drafts_=null}function iV(e){e===tt&&(tt=e.parent_)}function i$(e){return tt={drafts_:[],parent_:tt,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function iz(e){let t=e[iw];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function iK(e,t){t.unfinalizedDrafts_=t.drafts_.length;let r=t.drafts_[0];return void 0!==e&&e!==r?(r[iw].modified_&&(iH(t),iO(4)),iA(e)&&(e=iJ(t,e),t.parent_||iW(t,e)),t.patches_&&iG("Patches").generateReplacementPatches_(r[iw].base_,e,t.patches_,t.inversePatches_)):e=iJ(t,r,[]),iH(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==ib?e:void 0}function iJ(e,t,r){if(iq(t))return t;let n=e.immer_.shouldUseStrictIteration(),i=t[iw];if(!i)return iN(t,(n,a)=>iY(e,i,t,n,a,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return iW(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;let t=i.copy_,a=t,o=!1;3===i.type_&&(a=new Set(t),t.clear(),o=!0),iN(a,(n,a)=>iY(e,i,t,n,a,r,o),n),iW(e,t,!1),r&&e.patches_&&iG("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function iY(e,t,r,n,i,a,o){if(null==i||"object"!=typeof i&&!o)return;let l=iq(i);if(!l||o){if(iS(i)){let o=iJ(e,i,a&&t&&3!==t.type_&&!iI(t.assigned_,n)?a.concat(n):void 0);if(iP(r,n,o),!iS(o))return;e.canAutoFreeze_=!1}else o&&r.add(i);if(iA(i)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&l)return;iJ(e,i),(!t||!t.scope_.parent_)&&"symbol"!=typeof n&&(ik(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&iW(e,i)}}}function iW(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&iU(t,r)}var iX={get(e,t){if(t===iw)return e;let r=iD(e);if(!iI(r,t)){var n;let i;return n=e,(i=i0(r,t))?"value"in i?i.value:i.get?.call(n.draft_):void 0}let i=r[t];return e.finalized_||!iA(i)?i:i===iQ(e.base_,t)?(i2(e),e.copy_[t]=i3(i,e)):i},has:(e,t)=>t in iD(e),ownKeys:e=>Reflect.ownKeys(iD(e)),set(e,t,r){let n=i0(iD(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){let n=iQ(iD(e),t),i=n?.[iw];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if((r===n?0!==r||1/r==1/n:r!=r&&n!=n)&&(void 0!==r||iI(e.base_,t)))return!0;i2(e),i1(e)}return!!(e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t]))||(e.copy_[t]=r,e.assigned_[t]=!0,!0)},deleteProperty:(e,t)=>(void 0!==iQ(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,i2(e),i1(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){let r=iD(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty(){iO(11)},getPrototypeOf:e=>iE(e.base_),setPrototypeOf(){iO(12)}},iZ={};function iQ(e,t){let r=e[iw];return(r?iD(r):e)[t]}function i0(e,t){if(!(t in e))return;let r=iE(e);for(;r;){let e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=iE(r)}}function i1(e){!e.modified_&&(e.modified_=!0,e.parent_&&i1(e.parent_))}function i2(e){e.copy_||(e.copy_=iR(e.base_,e.scope_.immer_.useStrictShallowCopy_))}function i3(e,t){let r=ik(e)?iG("MapSet").proxyMap_(e,t):iM(e)?iG("MapSet").proxySet_(e,t):function(e,t){let r=Array.isArray(e),n={type_:+!!r,scope_:t?t.scope_:tt,modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1},i=n,a=iX;r&&(i=[n],a=iZ);let{revoke:o,proxy:l}=Proxy.revocable(i,a);return n.draft_=l,n.revoke_=o,l}(e,t);return(t?t.scope_:tt).drafts_.push(r),r}function i4(e){return iS(e)||iO(10,e),function e(t){let r;if(!iA(t)||iq(t))return t;let n=t[iw],i=!0;if(n){if(!n.modified_)return n.base_;n.finalized_=!0,r=iR(t,n.scope_.immer_.useStrictShallowCopy_),i=n.scope_.immer_.shouldUseStrictIteration()}else r=iR(t,!0);return iN(r,(t,n)=>{iP(r,t,e(n))},i),n&&(n.finalized_=!1),r}(e)}iN(iX,(e,t)=>{iZ[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),iZ.deleteProperty=function(e,t){return iZ.set.call(this,e,t,void 0)},iZ.set=function(e,t,r){return iX.set.call(this,e[0],t,r,e[0])};var i5=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,r)=>{let n;if("function"==typeof e&&"function"!=typeof t){let r=t;t=e;let n=this;return function(e=r,...i){return n.produce(e,e=>t.call(this,e,...i))}}if("function"!=typeof t&&iO(6),void 0!==r&&"function"!=typeof r&&iO(7),iA(e)){let i=i$(this),a=i3(e,void 0),o=!0;try{n=t(a),o=!1}finally{o?iH(i):iV(i)}return iB(i,r),iK(n,i)}if(e&&"object"==typeof e)iO(1,e);else{if(void 0===(n=t(e))&&(n=e),n===ib&&(n=void 0),this.autoFreeze_&&iU(n,!0),r){let t=[],i=[];iG("Patches").generateReplacementPatches_(e,n,t,i),r(t,i)}return n}},this.produceWithPatches=(e,t)=>{let r,n;return"function"==typeof e?(t,...r)=>this.produceWithPatches(t,t=>e(t,...r)):[this.produce(e,t,(e,t)=>{r=e,n=t}),r,n]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),"boolean"==typeof e?.useStrictIteration&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){iA(e)||iO(8),iS(e)&&(e=i4(e));let t=i$(this),r=i3(e,void 0);return r[iw].isManual_=!0,iV(t),r}finishDraft(e,t){let r=e&&e[iw];r&&r.isManual_||iO(9);let{scope_:n}=r;return iB(n,t),iK(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){let n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));let n=iG("Patches").applyPatches_;return iS(e)?n(e,t):this.produce(e,e=>n(e,t))}}().produce,i6=e=>Array.isArray(e)?e:[e],i8=0,i7=class{revision=i8;_value;_lastValue;_isEqual=i9;constructor(e,t=i9){this._value=this._lastValue=e,this._isEqual=t}get value(){return this._value}set value(e){this.value!==e&&(this._value=e,this.revision=++i8)}};function i9(e,t){return e===t}function ae(e){return e instanceof i7||console.warn("Not a valid cell! ",e),e.value}var at=(e,t)=>!1;function ar(){return function(e,t=i9){return new i7(null,t)}(0,at)}var an=e=>{let t=e.collectionTag;null===t&&(t=e.collectionTag=ar()),ae(t)};Symbol();var ai=0,aa=Object.getPrototypeOf({}),ao=class{constructor(e){this.value=e,this.value=e,this.tag.value=e}proxy=new Proxy(this,al);tag=ar();tags={};children={};collectionTag=null;id=ai++},al={get:(e,t)=>(function(){let{value:r}=e,n=Reflect.get(r,t);if("symbol"==typeof t||t in aa)return n;if("object"==typeof n&&null!==n){var i;let r=e.children[t];return void 0===r&&(r=e.children[t]=Array.isArray(i=n)?new as(i):new ao(i)),r.tag&&ae(r.tag),r.proxy}{let r=e.tags[t];return void 0===r&&((r=e.tags[t]=ar()).value=n),ae(r),n}})(),ownKeys:e=>(an(e),Reflect.ownKeys(e.value)),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e.value,t),has:(e,t)=>Reflect.has(e.value,t)},as=class{constructor(e){this.value=e,this.value=e,this.tag.value=e}proxy=new Proxy([this],ac);tag=ar();tags={};children={};collectionTag=null;id=ai++},ac={get:([e],t)=>("length"===t&&an(e),al.get(e,t)),ownKeys:([e])=>al.ownKeys(e),getOwnPropertyDescriptor:([e],t)=>al.getOwnPropertyDescriptor(e,t),has:([e],t)=>al.has(e,t)},au="undefined"!=typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function ad(){return{s:0,v:void 0,o:null,p:null}}function ap(e,t={}){let r,n=ad(),{resultEqualityCheck:i}=t,a=0;function o(){let t,o=n,{length:l}=arguments;for(let e=0;e<l;e++){let t=arguments[e];if("function"==typeof t||"object"==typeof t&&null!==t){let e=o.o;null===e&&(o.o=e=new WeakMap);let r=e.get(t);void 0===r?(o=ad(),e.set(t,o)):o=r}else{let e=o.p;null===e&&(o.p=e=new Map);let r=e.get(t);void 0===r?(o=ad(),e.set(t,o)):o=r}}let s=o;if(1===o.s)t=o.v;else if(t=e.apply(null,arguments),a++,i){let e=r?.deref?.()??r;null!=e&&i(e,t)&&(t=e,0!==a&&a--),r="object"==typeof t&&null!==t||"function"==typeof t?new au(t):t}return s.s=1,s.v=t,t}return o.clearCache=()=>{n=ad(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}var af=function(e,...t){let r="function"==typeof e?{memoize:e,memoizeOptions:t}:e,n=(...e)=>{let t,n,i=0,a=0,o={},l=e.pop();"object"==typeof l&&(o=l,l=e.pop()),function(e,t=`expected a function, instead received ${typeof e}`){if("function"!=typeof e)throw TypeError(t)}(l,`createSelector expects an output function after the inputs, but received: [${typeof l}]`);let{memoize:s,memoizeOptions:c=[],argsMemoize:u=ap,argsMemoizeOptions:d=[],devModeChecks:p={}}={...r,...o},f=i6(c),h=i6(d),m=(!function(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(e=>"function"==typeof e)){let r=e.map(e=>"function"==typeof e?`function ${e.name||"unnamed"}()`:typeof e).join(", ");throw TypeError(`${t}[${r}]`)}}(t=Array.isArray(e[0])?e[0]:e,"createSelector expects all input-selectors to be functions, but received the following types: "),t),g=s(function(){return i++,l.apply(null,arguments)},...f);return Object.assign(u(function(){a++;let e=function(e,t){let r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}(m,arguments);return n=g.apply(null,e)},...h),{resultFunc:l,memoizedResultFunc:g,dependencies:m,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>n,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:s,argsMemoize:u})};return Object.assign(n,{withTypes:()=>n}),n}(ap),ah=Object.assign((e,t=af)=>{!function(e,t=`expected an object, instead received ${typeof e}`){if("object"!=typeof e)throw TypeError(t)}(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);let r=Object.keys(e);return t(r.map(t=>e[t]),(...e)=>e.reduce((e,t,n)=>(e[r[n]]=t,e),{}))},{withTypes:()=>ah});function am(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var ag="function"==typeof Symbol&&Symbol.observable||"@@observable",ay=()=>Math.random().toString(36).substring(7).split("").join("."),av={INIT:`@@redux/INIT${ay()}`,REPLACE:`@@redux/REPLACE${ay()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ay()}`};function ab(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function ax(e){let t,r=Object.keys(e),n={};for(let t=0;t<r.length;t++){let i=r[t];"function"==typeof e[i]&&(n[i]=e[i])}let i=Object.keys(n);try{Object.keys(n).forEach(e=>{let t=n[e];if(void 0===t(void 0,{type:av.INIT}))throw Error(am(12));if(void 0===t(void 0,{type:av.PROBE_UNKNOWN_ACTION()}))throw Error(am(13))})}catch(e){t=e}return function(e={},r){if(t)throw t;let a=!1,o={};for(let t=0;t<i.length;t++){let l=i[t],s=n[l],c=e[l],u=s(c,r);if(void 0===u)throw r&&r.type,Error(am(14));o[l]=u,a=a||u!==c}return(a=a||i.length!==Object.keys(e).length)?o:e}}function aw(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce((e,t)=>(...r)=>e(t(...r)))}function aO(e){return ab(e)&&"type"in e&&"string"==typeof e.type}function aE(e){return({dispatch:t,getState:r})=>n=>i=>"function"==typeof i?i(t,r,e):n(i)}var aS=aE(),aA="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!=arguments.length)return"object"==typeof arguments[0]?aw:aw.apply(null,arguments)};function aj(e,t){function r(...n){if(t){let r=t(...n);if(!r)throw Error(oo(0));return{type:e,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=t=>aO(t)&&t.type===e,r}"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;var a_=class e extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(...e){return super.concat.apply(this,e)}prepend(...t){return 1===t.length&&Array.isArray(t[0])?new e(...t[0].concat(this)):new e(...t.concat(this))}};function aC(e){return iA(e)?i5(e,()=>{}):e}function aN(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}var aT="RTK_autoBatch",aI=()=>e=>({payload:e,meta:{[aT]:!0}}),aP=e=>t=>{setTimeout(t,e)},ak=(e={type:"raf"})=>t=>(...r)=>{let n=t(...r),i=!0,a=!1,o=!1,l=new Set,s="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:aP(10):"callback"===e.type?e.queueNotification:aP(e.timeout),c=()=>{o=!1,a&&(a=!1,l.forEach(e=>e()))};return Object.assign({},n,{subscribe(e){let t=n.subscribe(()=>i&&e());return l.add(e),()=>{t(),l.delete(e)}},dispatch(e){try{return(a=!(i=!e?.meta?.[aT]))&&!o&&(o=!0,s(c)),n.dispatch(e)}finally{i=!0}}})};function aM(e){let t,r={},n=[],i={addCase(e,t){let n="string"==typeof e?e:e.type;if(!n)throw Error(oo(28));if(n in r)throw Error(oo(29));return r[n]=t,i},addAsyncThunk:(e,t)=>(t.pending&&(r[e.pending.type]=t.pending),t.rejected&&(r[e.rejected.type]=t.rejected),t.fulfilled&&(r[e.fulfilled.type]=t.fulfilled),t.settled&&n.push({matcher:e.settled,reducer:t.settled}),i),addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),i),addDefaultCase:e=>(t=e,i)};return e(i),[r,n,t]}var aD=Symbol.for("rtk-slice-createasyncthunk"),aR=((ed=aR||{}).reducer="reducer",ed.reducerWithPrepare="reducerWithPrepare",ed.asyncThunk="asyncThunk",ed),aU=function({creators:e}={}){let t=e?.asyncThunk?.[aD];return function(e){let r,{name:n,reducerPath:i=n}=e;if(!n)throw Error(oo(11));let a=("function"==typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name]:(...t)=>e(...t)}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},o=Object.keys(a),l={},s={},c={},u=[],d={addCase(e,t){let r="string"==typeof e?e:e.type;if(!r)throw Error(oo(12));if(r in s)throw Error(oo(13));return s[r]=t,d},addMatcher:(e,t)=>(u.push({matcher:e,reducer:t}),d),exposeAction:(e,t)=>(c[e]=t,d),exposeCaseReducer:(e,t)=>(l[e]=t,d)};function p(){let[t={},r=[],n]="function"==typeof e.extraReducers?aM(e.extraReducers):[e.extraReducers],i={...t,...s};return function(e,t){let r,[n,i,a]=aM(t);if("function"==typeof e)r=()=>aC(e());else{let t=aC(e);r=()=>t}function o(e=r(),t){let l=[n[t.type],...i.filter(({matcher:e})=>e(t)).map(({reducer:e})=>e)];return 0===l.filter(e=>!!e).length&&(l=[a]),l.reduce((e,r)=>{if(r)if(iS(e)){let n=r(e,t);return void 0===n?e:n}else{if(iA(e))return i5(e,e=>r(e,t));let n=r(e,t);if(void 0===n){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return n}return e},e)}return o.getInitialState=r,o}(e.initialState,e=>{for(let t in i)e.addCase(t,i[t]);for(let t of u)e.addMatcher(t.matcher,t.reducer);for(let t of r)e.addMatcher(t.matcher,t.reducer);n&&e.addDefaultCase(n)})}o.forEach(r=>{let i=a[r],o={reducerName:r,type:`${n}/${r}`,createNotation:"function"==typeof e.reducers};"asyncThunk"===i._reducerDefinitionType?function({type:e,reducerName:t},r,n,i){if(!i)throw Error(oo(18));let{payloadCreator:a,fulfilled:o,pending:l,rejected:s,settled:c,options:u}=r,d=i(e,a,u);n.exposeAction(t,d),o&&n.addCase(d.fulfilled,o),l&&n.addCase(d.pending,l),s&&n.addCase(d.rejected,s),c&&n.addMatcher(d.settled,c),n.exposeCaseReducer(t,{fulfilled:o||aL,pending:l||aL,rejected:s||aL,settled:c||aL})}(o,i,d,t):function({type:e,reducerName:t,createNotation:r},n,i){let a,o;if("reducer"in n){if(r&&"reducerWithPrepare"!==n._reducerDefinitionType)throw Error(oo(17));a=n.reducer,o=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?aj(e,o):aj(e))}(o,i,d)});let f=e=>e,h=new Map,m=new WeakMap;function g(e,t){return r||(r=p()),r(e,t)}function y(){return r||(r=p()),r.getInitialState()}function v(t,r=!1){function n(e){let i=e[t];return void 0===i&&r&&(i=aN(m,n,y)),i}function i(t=f){let n=aN(h,r,()=>new WeakMap);return aN(n,t,()=>{let n={};for(let[i,a]of Object.entries(e.selectors??{}))n[i]=function(e,t,r,n){function i(a,...o){let l=t(a);return void 0===l&&n&&(l=r()),e(l,...o)}return i.unwrapped=e,i}(a,t,()=>aN(m,t,y),r);return n})}return{reducerPath:t,getSelectors:i,get selectors(){return i(n)},selectSlice:n}}let b={name:n,reducer:g,actions:c,caseReducers:l,getInitialState:y,...v(i),injectInto(e,{reducerPath:t,...r}={}){let n=t??i;return e.inject({reducerPath:n,reducer:g},r),{...b,...v(n,!0)}}};return b}}();function aL(){}var aq="listener",aF="completed",aG="cancelled",aB=`task-${aG}`,aH=`task-${aF}`,aV=`${aq}-${aG}`,a$=`${aq}-${aF}`,az=class{constructor(e){this.code=e,this.message=`task ${aG} (reason: ${e})`}name="TaskAbortError";message},aK=(e,t)=>{if("function"!=typeof e)throw TypeError(oo(32))},aJ=()=>{},aY=(e,t=aJ)=>(e.catch(t),e),aW=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),aX=(e,t)=>{let r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},aZ=e=>{if(e.aborted){let{reason:t}=e;throw new az(t)}};function aQ(e,t){let r=aJ;return new Promise((n,i)=>{let a=()=>i(new az(e.reason));e.aborted?a():(r=aW(e,a),t.finally(()=>r()).then(n,i))}).finally(()=>{r=aJ})}var a0=async(e,t)=>{try{await Promise.resolve();let t=await e();return{status:"ok",value:t}}catch(e){return{status:e instanceof az?"cancelled":"rejected",error:e}}finally{t?.()}},a1=e=>t=>aY(aQ(e,t).then(t=>(aZ(e),t))),a2=e=>{let t=a1(e);return e=>t(new Promise(t=>setTimeout(t,e)))},{assign:a3}=Object,a4={},a5="listenerMiddleware",a6=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=aj(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(i);else throw Error(oo(21));return aK(a,"options.listener"),{predicate:i,type:t,effect:a}},a8=a3(e=>{let{type:t,predicate:r,effect:n}=a6(e);return{id:((e=21)=>{let t="",r=e;for(;r--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t})(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw Error(oo(22))}}},{withTypes:()=>a8}),a7=(e,t)=>{let{type:r,effect:n,predicate:i}=a6(t);return Array.from(e.values()).find(e=>("string"==typeof r?e.type===r:e.predicate===i)&&e.effect===n)},a9=e=>{e.pending.forEach(e=>{aX(e,aV)})},oe=(e,t,r)=>{try{e(t,r)}catch(e){setTimeout(()=>{throw e},0)}},ot=a3(aj(`${a5}/add`),{withTypes:()=>ot}),or=aj(`${a5}/removeAll`),on=a3(aj(`${a5}/remove`),{withTypes:()=>on}),oi=(...e)=>{console.error(`${a5}/error`,...e)},oa=(e={})=>{let t=new Map,r=new Map,{extra:n,onError:i=oi}=e;aK(i,"onError");let a=e=>{var r;return(r=a7(t,e)??a8(e)).unsubscribe=()=>t.delete(r.id),t.set(r.id,r),e=>{r.unsubscribe(),e?.cancelActive&&a9(r)}};a3(a,{withTypes:()=>a});let o=e=>{let r=a7(t,e);return r&&(r.unsubscribe(),e.cancelActive&&a9(r)),!!r};a3(o,{withTypes:()=>o});let l=async(e,o,l,s)=>{var c,u;let d,p=new AbortController,f=(c=p.signal,d=async(e,t)=>{aZ(c);let r=()=>{},n=[new Promise((t,n)=>{let i=a({predicate:e,effect:(e,r)=>{r.unsubscribe(),t([e,r.getState(),r.getOriginalState()])}});r=()=>{i(),n()}})];null!=t&&n.push(new Promise(e=>setTimeout(e,t,null)));try{let e=await aQ(c,Promise.race(n));return aZ(c),e}finally{r()}},(e,t)=>aY(d(e,t))),h=[];try{let i;e.pending.add(p),i=r.get(e)??0,r.set(e,i+1),await Promise.resolve(e.effect(o,a3({},l,{getOriginalState:s,condition:(e,t)=>f(e,t).then(Boolean),take:f,delay:a2(p.signal),pause:a1(p.signal),extra:n,signal:p.signal,fork:(u=p.signal,(e,t)=>{aK(e,"taskExecutor");let r=new AbortController;aW(u,()=>aX(r,u.reason));let n=a0(async()=>{aZ(u),aZ(r.signal);let t=await e({pause:a1(r.signal),delay:a2(r.signal),signal:r.signal});return aZ(r.signal),t},()=>aX(r,aH));return t?.autoJoin&&h.push(n.catch(aJ)),{result:a1(u)(n),cancel(){aX(r,aB)}}}),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,r)=>{e!==p&&(aX(e,aV),r.delete(e))})},cancel:()=>{aX(p,aV),e.pending.delete(p)},throwIfCancelled:()=>{aZ(p.signal)}})))}catch(e){e instanceof az||oe(i,e,{raisedBy:"effect"})}finally{let t;await Promise.all(h),aX(p,a$),1===(t=r.get(e)??1)?r.delete(e):r.set(e,t-1),e.pending.delete(p)}},s=()=>{for(let e of r.keys())a9(e);t.clear()};return{middleware:e=>r=>n=>{let c;if(!aO(n))return r(n);if(ot.match(n))return a(n.payload);if(or.match(n))return void s();if(on.match(n))return o(n.payload);let u=e.getState(),d=()=>{if(u===a4)throw Error(oo(23));return u};try{if(c=r(n),t.size>0){let r=e.getState();for(let a of Array.from(t.values())){let t=!1;try{t=a.predicate(n,r,u)}catch(e){t=!1,oe(i,e,{raisedBy:"predicate"})}t&&l(a,n,e,d)}}}finally{u=a4}return c},startListening:a,stopListening:o,clearListeners:s}};function oo(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}Symbol.for("rtk-state-proxy-original");var ol=e.i(92068),os=e=>0===e?0:e>0?1:-1,oc=e=>"number"==typeof e&&e!=+e,ou=e=>"string"==typeof e&&e.indexOf("%")===e.length-1,od=e=>("number"==typeof e||e instanceof Number)&&!oc(e),op=e=>od(e)||"string"==typeof e,of=0,oh=e=>{var t=++of;return"".concat(e||"").concat(t)},om=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!od(e)&&"string"!=typeof e)return n;if(ou(e)){if(null==t)return n;var a=e.indexOf("%");r=t*parseFloat(e.slice(0,a))/100}else r=+e;return oc(r)&&(r=n),i&&null!=t&&r>t&&(r=t),r},og=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(r[e[n]])return!0;else r[e[n]]=!0;return!1};function oy(e,t,r){return od(e)&&od(t)?e+r*(t-e):t}var ov=e=>null==e?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function ob(e,t){if(t){var r=Number.parseInt(t,10);if(!oc(r))return null==e?void 0:e[r]}}var ox=aU({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:e=>{null==e.eventEmitter&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),ow=ox.reducer,{createEventEmitter:oO}=ox.actions,oE=(e.i(13027),{notify(){},get:()=>[]}),oS="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,oA="undefined"!=typeof navigator&&"ReactNative"===navigator.product,oj=oS||oA?td.useLayoutEffect:td.useEffect,o_=Symbol.for("react-redux-context"),oC="undefined"!=typeof globalThis?globalThis:{},oN=function(){if(!td.createContext)return{};let e=oC[o_]??=new Map,t=e.get(td.createContext);return t||(t=td.createContext(null),e.set(td.createContext,t)),t}(),oT=function(e){let{children:t,context:r,serverState:n,store:i}=e,a=td.useMemo(()=>{let e=function(e,t){let r,n=oE,i=0,a=!1;function o(){c.onStateChange&&c.onStateChange()}function l(){if(i++,!r){let t,i;r=e.subscribe(o),t=null,i=null,n={clear(){t=null,i=null},notify(){let e=t;for(;e;)e.callback(),e=e.next},get(){let e=[],r=t;for(;r;)e.push(r),r=r.next;return e},subscribe(e){let r=!0,n=i={callback:e,next:null,prev:i};return n.prev?n.prev.next=n:t=n,function(){r&&null!==t&&(r=!1,n.next?n.next.prev=n.prev:i=n.prev,n.prev?n.prev.next=n.next:t=n.next)}}}}}function s(){i--,r&&0===i&&(r(),r=void 0,n.clear(),n=oE)}let c={addNestedSub:function(e){l();let t=n.subscribe(e),r=!1;return()=>{r||(r=!0,t(),s())}},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:o,isSubscribed:function(){return a},trySubscribe:function(){a||(a=!0,l())},tryUnsubscribe:function(){a&&(a=!1,s())},getListeners:()=>n};return c}(i);return{store:i,subscription:e,getServerState:n?()=>n:void 0}},[i,n]),o=td.useMemo(()=>i.getState(),[i]);return oj(()=>{let{subscription:e}=a;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),o!==i.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[a,o]),td.createElement((r||oN).Provider,{value:a},t)};function oI(e=oN){return function(){return td.useContext(e)}}var oP=oI(),ok={active:!1,index:null,dataKey:void 0,coordinate:void 0},oM=aU({name:"tooltip",initialState:{itemInteraction:{click:ok,hover:ok},axisInteraction:{click:ok,hover:ok},keyboardInteraction:ok,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:aI()},removeTooltipEntrySettings:{reducer(e,t){var r=i4(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:aI()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:oD,removeTooltipEntrySettings:oR,setTooltipSettingsState:oU,setActiveMouseOverItemIndex:oL,mouseLeaveItem:oq,mouseLeaveChart:oF,setActiveClickItemIndex:oG,setMouseOverAxisIndex:oB,setMouseClickAxisIndex:oH,setSyncInteraction:oV,setKeyboardInteraction:o$}=oM.actions,oz=oM.reducer,oK=aU({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(e,t){if(e.chartData=t.payload,null==t.payload){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;null!=r&&(e.dataStartIndex=r),null!=n&&(e.dataEndIndex=n)}}}),{setChartData:oJ,setDataStartEndIndexes:oY,setComputedData:oW}=oK.actions,oX=oK.reducer,oZ=aU({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=null!=(r=t.payload.top)?r:0,e.margin.right=null!=(n=t.payload.right)?n:0,e.margin.bottom=null!=(i=t.payload.bottom)?i:0,e.margin.left=null!=(a=t.payload.left)?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:oQ,setLayout:o0,setChartSize:o1,setScale:o2}=oZ.actions,o3=oZ.reducer,o4=e.i(30224),o5=(0,td.createContext)(null),o6=e=>e,o8=()=>{var e=(0,td.useContext)(o5);return e?e.store.dispatch:o6},o7=()=>{},o9=()=>o7,le=(e,t)=>e===t;function lt(e){var t=(0,td.useContext)(o5);return(0,o4.useSyncExternalStoreWithSelector)(t?t.subscription.addNestedSub:o9,t?t.store.getState:o7,t?t.store.getState:o7,t?e:o7,le)}var lr=e.i(42342),ln=e=>e.legend.settings,li=af([e=>e.legend.payload,ln],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?(0,lr.default)(n,r):n});function la(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function lo(e){return function(){return e}}function ll(e,t){if((i=e.length)>1)for(var r,n,i,a=1,o=e[t[0]],l=o.length;a<i;++a)for(n=o,o=e[t[a]],r=0;r<l;++r)o[r][1]+=o[r][0]=isNaN(n[r][1])?n[r][0]:n[r][1]}function ls(e){for(var t=e.length,r=Array(t);--t>=0;)r[t]=t;return r}function lc(e,t){return e[t]}function lu(e){let t=[];return t.key=e,t}function ld(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function lp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ld(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ld(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}Array.prototype.slice;var lf=Math.PI/180,lh=(e,t,r,n)=>({x:e+Math.cos(-lf*n)*r,y:t+Math.sin(-lf*n)*r}),lm=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2};function lg(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function ly(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function lv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ly(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ly(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function lb(e,t,r){return null==e||null==t?r:op(t)?(0,ol.default)(e,t,r):"function"==typeof t?t(e):r}var lx=(e,t)=>"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t,lw={sign:e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0,o=0;o<t;++o){var l=oc(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=i,e[o][r][1]=i+l,i=e[o][r][1]):(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1])}},expand:function(e,t){if((n=e.length)>0){for(var r,n,i,a=0,o=e[0].length;a<o;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}ll(e,t)}},none:ll,silhouette:function(e,t){if((r=e.length)>0){for(var r,n=0,i=e[t[0]],a=i.length;n<a;++n){for(var o=0,l=0;o<r;++o)l+=e[o][n][1]||0;i[n][1]+=i[n][0]=-l/2}ll(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(n=(r=e[t[0]]).length)>0){for(var r,n,i,a=0,o=1;o<n;++o){for(var l=0,s=0,c=0;l<i;++l){for(var u=e[t[l]],d=u[o][1]||0,p=(d-(u[o-1][1]||0))/2,f=0;f<l;++f){var h=e[t[f]];p+=(h[o][1]||0)-(h[o-1][1]||0)}s+=d,c+=p*d}r[o-1][1]+=r[o-1][0]=a,s&&(a-=c/s)}r[o-1][1]+=r[o-1][0]=a,ll(e,t)}},positive:e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0;a<t;++a){var o=oc(e[a][r][1])?e[a][r][0]:e[a][r][1];o>=0?(e[a][r][0]=i,e[a][r][1]=i+o,i=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}}},lO=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:o}=e;if("category"===t.type)return r[o]?r[o].coordinate+n:null;var l=lb(a,t.dataKey,t.scale.domain()[o]);return null==l?null:t.scale(l)-i/2+n},lE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,lS=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,lA=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=(0,lr.default)(t,e=>e.coordinate),a=1/0,o=1,l=i.length;o<l;o++){var s=i[o],c=i[o-1];a=Math.min((s.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function lj(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return lv(lv({},t),{},{dataKey:r,payload:n,value:i,name:a})}function l_(e,t){return e?String(e):"string"==typeof t?t:void 0}var lC=e=>e.layout.width,lN=e=>e.layout.height,lT=e=>e.layout.scale,lI=e=>e.layout.margin,lP=af(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),lk=af(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),lM="data-recharts-item-index",lD="data-recharts-item-data-key";function lR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function lU(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lR(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lR(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var lL=af([lC,lN,lI,e=>e.brush.height,function(e){return lk(e).reduce((e,t)=>"left"!==t.orientation||t.mirror||t.hide?e:e+("number"==typeof t.width?t.width:60),0)},function(e){return lk(e).reduce((e,t)=>"right"!==t.orientation||t.mirror||t.hide?e:e+("number"==typeof t.width?t.width:60),0)},function(e){return lP(e).reduce((e,t)=>"top"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},function(e){return lP(e).reduce((e,t)=>"bottom"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},ln,e=>e.legend.size],(e,t,r,n,i,a,o,l,s,c)=>{var u={left:(r.left||0)+i,right:(r.right||0)+a},d=lU(lU({},{top:(r.top||0)+o,bottom:(r.bottom||0)+l}),u),p=d.bottom;d.bottom+=n;var f=e-(d=((e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:o,layout:l}=t;if(("vertical"===l||"horizontal"===l&&"middle"===o)&&"center"!==a&&od(e[a]))return lv(lv({},e),{},{[a]:e[a]+(n||0)});if(("horizontal"===l||"vertical"===l&&"center"===a)&&"middle"!==o&&od(e[o]))return lv(lv({},e),{},{[o]:e[o]+(i||0)})}return e})(d,s,c)).left-d.right,h=t-d.top-d.bottom;return lU(lU({brushBottom:p},d),{},{width:Math.max(f,0),height:Math.max(h,0)})}),lq=af(lL,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),lF=af(lC,lN,(e,t)=>({x:0,y:0,width:e,height:t})),lG=(0,td.createContext)(null),lB=()=>null!=(0,td.useContext)(lG),lH=e=>e.brush,lV=af([lH,lL,lI],(e,t,r)=>({height:e.height,x:od(e.x)?e.x:t.left,y:od(e.y)?e.y:t.top+t.height+t.brushBottom-((null==r?void 0:r.bottom)||0),width:od(e.width)?e.width:t.width}));function l$(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=function e(t){var r,n,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t)if(Array.isArray(t)){var a=t.length;for(r=0;r<a;r++)t[r]&&(n=e(t[r]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}(e))&&(n&&(n+=" "),n+=t);return n}var lz=e.i(58723),lK=function(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i]},lJ=(e,t,r)=>{var{width:n="100%",height:i="100%",aspect:a,maxHeight:o}=r,l=ou(n)?e:Number(n),s=ou(i)?t:Number(i);return a&&a>0&&(l?s=l/a:s&&(l=s*a),o&&s>o&&(s=o)),{calculatedWidth:l,calculatedHeight:s}},lY={width:0,height:0,overflow:"visible"},lW={width:0,overflowX:"visible"},lX={height:0,overflowY:"visible"},lZ={};function lQ(e){return Number.isFinite(e)}function l0(e){return"number"==typeof e&&e>0&&Number.isFinite(e)}function l1(){return(l1=Object.assign.bind()).apply(null,arguments)}function l2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l3(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l2(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l2(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var l4=(0,td.createContext)({width:-1,height:-1});function l5(e){var{children:t,width:r,height:n}=e,i=(0,td.useMemo)(()=>({width:r,height:n}),[r,n]);return r<=0||n<=0?null:td.createElement(l4.Provider,{value:i},t)}var l6=()=>(0,td.useContext)(l4),l8=(0,td.forwardRef)((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:a,minWidth:o=0,minHeight:l,maxHeight:s,children:c,debounce:u=0,id:d,className:p,onResize:f,style:h={}}=e,m=(0,td.useRef)(null),g=(0,td.useRef)();g.current=f,(0,td.useImperativeHandle)(t,()=>m.current);var[y,v]=(0,td.useState)({containerWidth:n.width,containerHeight:n.height}),b=(0,td.useCallback)((e,t)=>{v(r=>{var n=Math.round(e),i=Math.round(t);return r.containerWidth===n&&r.containerHeight===i?r:{containerWidth:n,containerHeight:i}})},[]);(0,td.useEffect)(()=>{var e=e=>{var t,{width:r,height:n}=e[0].contentRect;b(r,n),null==(t=g.current)||t.call(g,r,n)};u>0&&(e=(0,lz.default)(e,u,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),{width:r,height:n}=m.current.getBoundingClientRect();return b(r,n),t.observe(m.current),()=>{t.disconnect()}},[b,u]);var{containerWidth:x,containerHeight:w}=y;lK(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:O,calculatedHeight:E}=lJ(x,w,{width:i,height:a,aspect:r,maxHeight:s});return lK(O>0||E>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",O,E,i,a,o,l,r),td.createElement("div",{id:d?"".concat(d):void 0,className:l$("recharts-responsive-container",p),style:l3(l3({},h),{},{width:i,height:a,minWidth:o,minHeight:l,maxHeight:s}),ref:m},td.createElement("div",{style:(e=>{var{width:t,height:r}=e,n=ou(t),i=ou(r);return n&&i?lY:n?lW:i?lX:lZ})({width:i,height:a})},td.createElement(l5,{width:O,height:E},c)))}),l7=(0,td.forwardRef)((e,t)=>{var r=l6();if(l0(r.width)&&l0(r.height))return e.children;var{width:n,height:i}=function(e){var{width:t,height:r,aspect:n}=e,i=t,a=r;return void 0===i&&void 0===a?(i="100%",a="100%"):void 0===i?i=n&&n>0?void 0:"100%":void 0===a&&(a=n&&n>0?void 0:"100%"),{width:i,height:a}}({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:o}=lJ(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return od(a)&&od(o)?td.createElement(l5,{width:a,height:o},e.children):td.createElement(l8,l1({},e,{width:n,height:i,ref:t}))}),l9=()=>{var e,t=lB(),r=lt(lq),n=lt(lV),i=null==(e=lt(lH))?void 0:e.padding;return t&&n&&i?{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}:r},se={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},st=e=>e.layout.layoutType,sr=e=>{var t=o8(),r=lB(),{width:n,height:i}=e,a=l6(),o=n,l=i;return a&&(o=a.width>0?a.width:n,l=a.height>0?a.height:i),(0,td.useEffect)(()=>{!r&&l0(o)&&l0(l)&&t(o1({width:o,height:l}))},[t,r,o,l]),null},sn=e.i(66814);function si(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function sa(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}e.s([],25212),e.i(25212),e.s([],67155),e.i(67155);class so extends Map{constructor(e,t=ss){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[t,r]of e)this.set(t,r)}get(e){return super.get(sl(this,e))}has(e){return super.has(sl(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},r){let n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},r){let n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}(this,e))}}function sl({_intern:e,_key:t},r){let n=t(r);return e.has(n)?e.get(n):r}function ss(e){return null!==e&&"object"==typeof e?e.valueOf():e}let sc=Symbol("implicit");function su(){var e=new so,t=[],r=[],n=sc;function i(i){let a=e.get(i);if(void 0===a){if(n!==sc)return n;e.set(i,a=t.push(i)-1)}return r[a%r.length]}return i.domain=function(r){if(!arguments.length)return t.slice();for(let n of(t=[],e=new so,r))e.has(n)||e.set(n,t.push(n)-1);return i},i.range=function(e){return arguments.length?(r=Array.from(e),i):r.slice()},i.unknown=function(e){return arguments.length?(n=e,i):n},i.copy=function(){return su(t,r).unknown(n)},si.apply(i,arguments),i}function sd(){var e,t,r=su().unknown(void 0),n=r.domain,i=r.range,a=0,o=1,l=!1,s=0,c=0,u=.5;function d(){var r=n().length,d=o<a,p=d?o:a,f=d?a:o;e=(f-p)/Math.max(1,r-s+2*c),l&&(e=Math.floor(e)),p+=(f-p-e*(r-s))*u,t=e*(1-s),l&&(p=Math.round(p),t=Math.round(t));var h=(function(e,t,r){e*=1,t*=1,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=0|Math.max(0,Math.ceil((t-e)/r)),a=Array(i);++n<i;)a[n]=e+n*r;return a})(r).map(function(t){return p+e*t});return i(d?h.reverse():h)}return delete r.unknown,r.domain=function(e){return arguments.length?(n(e),d()):n()},r.range=function(e){return arguments.length?([a,o]=e,a*=1,o*=1,d()):[a,o]},r.rangeRound=function(e){return[a,o]=e,a*=1,o*=1,l=!0,d()},r.bandwidth=function(){return t},r.step=function(){return e},r.round=function(e){return arguments.length?(l=!!e,d()):l},r.padding=function(e){return arguments.length?(s=Math.min(1,c=+e),d()):s},r.paddingInner=function(e){return arguments.length?(s=Math.min(1,e),d()):s},r.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},r.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},r.copy=function(){return sd(n(),[a,o]).round(l).paddingInner(s).paddingOuter(c).align(u)},si.apply(d(),arguments)}function sp(){return function e(t){var r=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return e(r())},t}(sd.apply(null,arguments).paddingInner(1))}let sf=Math.sqrt(50),sh=Math.sqrt(10),sm=Math.sqrt(2);function sg(e,t,r){let n,i,a,o=(t-e)/Math.max(0,r),l=Math.floor(Math.log10(o)),s=o/Math.pow(10,l),c=s>=sf?10:s>=sh?5:s>=sm?2:1;return(l<0?(n=Math.round(e*(a=Math.pow(10,-l)/c)),i=Math.round(t*a),n/a<e&&++n,i/a>t&&--i,a=-a):(n=Math.round(e/(a=Math.pow(10,l)*c)),i=Math.round(t/a),n*a<e&&++n,i*a>t&&--i),i<n&&.5<=r&&r<2)?sg(e,t,2*r):[n,i,a]}function sy(e,t,r){if(t*=1,e*=1,!((r*=1)>0))return[];if(e===t)return[e];let n=t<e,[i,a,o]=n?sg(t,e,r):sg(e,t,r);if(!(a>=i))return[];let l=a-i+1,s=Array(l);if(n)if(o<0)for(let e=0;e<l;++e)s[e]=-((a-e)/o);else for(let e=0;e<l;++e)s[e]=(a-e)*o;else if(o<0)for(let e=0;e<l;++e)s[e]=-((i+e)/o);else for(let e=0;e<l;++e)s[e]=(i+e)*o;return s}function sv(e,t,r){return sg(e*=1,t*=1,r*=1)[2]}function sb(e,t,r){t*=1,e*=1,r*=1;let n=t<e,i=n?sv(t,e,r):sv(e,t,r);return(n?-1:1)*(i<0?-(1/i):i)}function sx(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function sw(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function sO(e){let t,r,n;function i(e,n,a=0,o=e.length){if(a<o){if(0!==t(n,n))return o;do{let t=a+o>>>1;0>r(e[t],n)?a=t+1:o=t}while(a<o)}return a}return 2!==e.length?(t=sx,r=(t,r)=>sx(e(t),r),n=(t,r)=>e(t)-r):(t=e===sx||e===sw?e:sE,r=e,n=e),{left:i,center:function(e,t,r=0,a=e.length){let o=i(e,t,r,a-1);return o>r&&n(e[o-1],t)>-n(e[o],t)?o-1:o},right:function(e,n,i=0,a=e.length){if(i<a){if(0!==t(n,n))return a;do{let t=i+a>>>1;0>=r(e[t],n)?i=t+1:a=t}while(i<a)}return i}}}function sE(){return 0}function sS(e){return null===e?NaN:+e}let sA=sO(sx),sj=sA.right;function s_(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function sC(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function sN(){}sA.left,sO(sS).center;var sT="\\s*([+-]?\\d+)\\s*",sI="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",sP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",sk=/^#([0-9a-f]{3,8})$/,sM=RegExp(`^rgb\\(${sT},${sT},${sT}\\)$`),sD=RegExp(`^rgb\\(${sP},${sP},${sP}\\)$`),sR=RegExp(`^rgba\\(${sT},${sT},${sT},${sI}\\)$`),sU=RegExp(`^rgba\\(${sP},${sP},${sP},${sI}\\)$`),sL=RegExp(`^hsl\\(${sI},${sP},${sP}\\)$`),sq=RegExp(`^hsla\\(${sI},${sP},${sP},${sI}\\)$`),sF={aliceblue:0xf0f8ff,antiquewhite:0xfaebd7,aqua:65535,aquamarine:8388564,azure:0xf0ffff,beige:0xf5f5dc,bisque:0xffe4c4,black:0,blanchedalmond:0xffebcd,blue:255,blueviolet:9055202,brown:0xa52a2a,burlywood:0xdeb887,cadetblue:6266528,chartreuse:8388352,chocolate:0xd2691e,coral:0xff7f50,cornflowerblue:6591981,cornsilk:0xfff8dc,crimson:0xdc143c,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:0xb8860b,darkgray:0xa9a9a9,darkgreen:25600,darkgrey:0xa9a9a9,darkkhaki:0xbdb76b,darkmagenta:9109643,darkolivegreen:5597999,darkorange:0xff8c00,darkorchid:0x9932cc,darkred:9109504,darksalmon:0xe9967a,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:0xff1493,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:0xb22222,floralwhite:0xfffaf0,forestgreen:2263842,fuchsia:0xff00ff,gainsboro:0xdcdcdc,ghostwhite:0xf8f8ff,gold:0xffd700,goldenrod:0xdaa520,gray:8421504,green:32768,greenyellow:0xadff2f,grey:8421504,honeydew:0xf0fff0,hotpink:0xff69b4,indianred:0xcd5c5c,indigo:4915330,ivory:0xfffff0,khaki:0xf0e68c,lavender:0xe6e6fa,lavenderblush:0xfff0f5,lawngreen:8190976,lemonchiffon:0xfffacd,lightblue:0xadd8e6,lightcoral:0xf08080,lightcyan:0xe0ffff,lightgoldenrodyellow:0xfafad2,lightgray:0xd3d3d3,lightgreen:9498256,lightgrey:0xd3d3d3,lightpink:0xffb6c1,lightsalmon:0xffa07a,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:0xb0c4de,lightyellow:0xffffe0,lime:65280,limegreen:3329330,linen:0xfaf0e6,magenta:0xff00ff,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:0xba55d3,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:0xc71585,midnightblue:1644912,mintcream:0xf5fffa,mistyrose:0xffe4e1,moccasin:0xffe4b5,navajowhite:0xffdead,navy:128,oldlace:0xfdf5e6,olive:8421376,olivedrab:7048739,orange:0xffa500,orangered:0xff4500,orchid:0xda70d6,palegoldenrod:0xeee8aa,palegreen:0x98fb98,paleturquoise:0xafeeee,palevioletred:0xdb7093,papayawhip:0xffefd5,peachpuff:0xffdab9,peru:0xcd853f,pink:0xffc0cb,plum:0xdda0dd,powderblue:0xb0e0e6,purple:8388736,rebeccapurple:6697881,red:0xff0000,rosybrown:0xbc8f8f,royalblue:4286945,saddlebrown:9127187,salmon:0xfa8072,sandybrown:0xf4a460,seagreen:3050327,seashell:0xfff5ee,sienna:0xa0522d,silver:0xc0c0c0,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:0xfffafa,springgreen:65407,steelblue:4620980,tan:0xd2b48c,teal:32896,thistle:0xd8bfd8,tomato:0xff6347,turquoise:4251856,violet:0xee82ee,wheat:0xf5deb3,white:0xffffff,whitesmoke:0xf5f5f5,yellow:0xffff00,yellowgreen:0x9acd32};function sG(){return this.rgb().formatHex()}function sB(){return this.rgb().formatRgb()}function sH(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=sk.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?sV(t):3===r?new sK(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?s$(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?s$(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=sM.exec(e))?new sK(t[1],t[2],t[3],1):(t=sD.exec(e))?new sK(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=sR.exec(e))?s$(t[1],t[2],t[3],t[4]):(t=sU.exec(e))?s$(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=sL.exec(e))?sQ(t[1],t[2]/100,t[3]/100,1):(t=sq.exec(e))?sQ(t[1],t[2]/100,t[3]/100,t[4]):sF.hasOwnProperty(e)?sV(sF[e]):"transparent"===e?new sK(NaN,NaN,NaN,0):null}function sV(e){return new sK(e>>16&255,e>>8&255,255&e,1)}function s$(e,t,r,n){return n<=0&&(e=t=r=NaN),new sK(e,t,r,n)}function sz(e,t,r,n){var i;return 1==arguments.length?((i=e)instanceof sN||(i=sH(i)),i)?new sK((i=i.rgb()).r,i.g,i.b,i.opacity):new sK:new sK(e,t,r,null==n?1:n)}function sK(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function sJ(){return`#${sZ(this.r)}${sZ(this.g)}${sZ(this.b)}`}function sY(){let e=sW(this.opacity);return`${1===e?"rgb(":"rgba("}${sX(this.r)}, ${sX(this.g)}, ${sX(this.b)}${1===e?")":`, ${e})`}`}function sW(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function sX(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function sZ(e){return((e=sX(e))<16?"0":"")+e.toString(16)}function sQ(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new s1(e,t,r,n)}function s0(e){if(e instanceof s1)return new s1(e.h,e.s,e.l,e.opacity);if(e instanceof sN||(e=sH(e)),!e)return new s1;if(e instanceof s1)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,l=a-i,s=(a+i)/2;return l?(o=t===a?(r-n)/l+(r<n)*6:r===a?(n-t)/l+2:(t-r)/l+4,l/=s<.5?a+i:2-a-i,o*=60):l=s>0&&s<1?0:o,new s1(o,l,s,e.opacity)}function s1(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function s2(e){return(e=(e||0)%360)<0?e+360:e}function s3(e){return Math.max(0,Math.min(1,e||0))}function s4(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}function s5(e,t,r,n,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*r+(1+3*e+3*a-3*o)*n+o*i)/6}s_(sN,sH,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:sG,formatHex:sG,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return s0(this).formatHsl()},formatRgb:sB,toString:sB}),s_(sK,sz,sC(sN,{brighter(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new sK(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new sK(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new sK(sX(this.r),sX(this.g),sX(this.b),sW(this.opacity))},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:sJ,formatHex:sJ,formatHex8:function(){return`#${sZ(this.r)}${sZ(this.g)}${sZ(this.b)}${sZ((isNaN(this.opacity)?1:this.opacity)*255)}`},formatRgb:sY,toString:sY})),s_(s1,function(e,t,r,n){return 1==arguments.length?s0(e):new s1(e,t,r,null==n?1:n)},sC(sN,{brighter(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new s1(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new s1(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new sK(s4(e>=240?e-240:e+120,i,n),s4(e,i,n),s4(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new s1(s2(this.h),s3(this.s),s3(this.l),sW(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=sW(this.opacity);return`${1===e?"hsl(":"hsla("}${s2(this.h)}, ${100*s3(this.s)}%, ${100*s3(this.l)}%${1===e?")":`, ${e})`}`}}));let s6=e=>()=>e;function s8(e,t){var r=t-e;return r?function(t){return e+t*r}:s6(isNaN(e)?t:e)}let s7=function e(t){var r,n=1==(r=+t)?s8:function(e,t){var n,i,a;return t-e?(n=e,i=t,n=Math.pow(n,a=r),i=Math.pow(i,a)-n,a=1/a,function(e){return Math.pow(n+e*i,a)}):s6(isNaN(e)?t:e)};function i(e,t){var r=n((e=sz(e)).r,(t=sz(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=s8(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}return i.gamma=e,i}(1);function s9(e){return function(t){var r,n,i=t.length,a=Array(i),o=Array(i),l=Array(i);for(r=0;r<i;++r)n=sz(t[r]),a[r]=n.r||0,o[r]=n.g||0,l[r]=n.b||0;return a=e(a),o=e(o),l=e(l),n.opacity=1,function(e){return n.r=a(e),n.g=o(e),n.b=l(e),n+""}}}function ce(e,t){return e*=1,t*=1,function(r){return e*(1-r)+t*r}}s9(function(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[n],a=e[n+1],o=n>0?e[n-1]:2*i-a,l=n<t-1?e[n+2]:2*a-i;return s5((r-n/t)*t,o,i,a,l)}}),s9(function(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),i=e[(n+t-1)%t],a=e[n%t],o=e[(n+1)%t],l=e[(n+2)%t];return s5((r-n/t)*t,i,a,o,l)}});var ct=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cr=RegExp(ct.source,"g");function cn(e,t){var r,n,i=typeof t;return null==t||"boolean"===i?s6(t):("number"===i?ce:"string"===i?(n=sH(t))?(t=n,s7):function(e,t){var r,n,i,a,o,l=ct.lastIndex=cr.lastIndex=0,s=-1,c=[],u=[];for(e+="",t+="";(i=ct.exec(e))&&(a=cr.exec(t));)(o=a.index)>l&&(o=t.slice(l,o),c[s]?c[s]+=o:c[++s]=o),(i=i[0])===(a=a[0])?c[s]?c[s]+=a:c[++s]=a:(c[++s]=null,u.push({i:s,x:ce(i,a)})),l=cr.lastIndex;return l<t.length&&(o=t.slice(l),c[s]?c[s]+=o:c[++s]=o),c.length<2?u[0]?(r=u[0].x,function(e){return r(e)+""}):(n=t,function(){return n}):(t=u.length,function(e){for(var r,n=0;n<t;++n)c[(r=u[n]).i]=r.x(e);return c.join("")})}:t instanceof sH?s7:t instanceof Date?function(e,t){var r=new Date;return e*=1,t*=1,function(n){return r.setTime(e*(1-n)+t*n),r}}:!ArrayBuffer.isView(r=t)||r instanceof DataView?Array.isArray(t)?function(e,t){var r,n=t?t.length:0,i=e?Math.min(n,e.length):0,a=Array(i),o=Array(n);for(r=0;r<i;++r)a[r]=cn(e[r],t[r]);for(;r<n;++r)o[r]=t[r];return function(e){for(r=0;r<i;++r)o[r]=a[r](e);return o}}:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?function(e,t){var r,n={},i={};for(r in(null===e||"object"!=typeof e)&&(e={}),(null===t||"object"!=typeof t)&&(t={}),t)r in e?n[r]=cn(e[r],t[r]):i[r]=t[r];return function(e){for(r in n)i[r]=n[r](e);return i}}:ce:function(e,t){t||(t=[]);var r,n=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(r=0;r<n;++r)i[r]=e[r]*(1-a)+t[r]*a;return i}})(e,t)}function ci(e,t){return e*=1,t*=1,function(r){return Math.round(e*(1-r)+t*r)}}function ca(e){return+e}var co=[0,1];function cl(e){return e}function cs(e,t){var r;return(t-=e*=1)?function(r){return(r-e)/t}:(r=isNaN(t)?NaN:.5,function(){return r})}function cc(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=cs(i,n),a=r(o,a)):(n=cs(n,i),a=r(a,o)),function(e){return a(n(e))}}function cu(e,t,r){var n=Math.min(e.length,t.length)-1,i=Array(n),a=Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=cs(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(t){var r=sj(e,t,1,n)-1;return a[r](i[r](t))}}function cd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function cp(){var e,t,r,n,i,a,o=co,l=co,s=cn,c=cl;function u(){var e,t,r,s=Math.min(o.length,l.length);return c!==cl&&(e=o[0],t=o[s-1],e>t&&(r=e,e=t,t=r),c=function(r){return Math.max(e,Math.min(t,r))}),n=s>2?cu:cc,i=a=null,d}function d(t){return null==t||isNaN(t*=1)?r:(i||(i=n(o.map(e),l,s)))(e(c(t)))}return d.invert=function(r){return c(t((a||(a=n(l,o.map(e),ce)))(r)))},d.domain=function(e){return arguments.length?(o=Array.from(e,ca),u()):o.slice()},d.range=function(e){return arguments.length?(l=Array.from(e),u()):l.slice()},d.rangeRound=function(e){return l=Array.from(e),s=ci,u()},d.clamp=function(e){return arguments.length?(c=!!e||cl,u()):c!==cl},d.interpolate=function(e){return arguments.length?(s=e,u()):s},d.unknown=function(e){return arguments.length?(r=e,d):r},function(r,n){return e=r,t=n,u()}}function cf(){return cp()(cl,cl)}function ch(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function cm(e){return(e=ch(Math.abs(e)))?e[1]:NaN}var cg=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function cy(e){var t;if(!(t=cg.exec(e)))throw Error("invalid format: "+e);return new cv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function cv(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function cb(e,t){var r=ch(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+Array(i-n.length+2).join("0")}cy.prototype=cv.prototype,cv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};let cx={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>cb(100*e,t),r:cb,s:function(e,t){var r=ch(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(tr=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=n.length;return a===o?n:a>o?n+Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+Array(1-a).join("0")+ch(e,Math.max(0,t+a-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function cw(e){return e}var cO=Array.prototype.map,cE=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function cS(e,t,r,n){var i,a,o=sb(e,t,r);switch((n=cy(null==n?",f":n)).type){case"s":var l=Math.max(Math.abs(e),Math.abs(t));return null!=n.precision||isNaN(a=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(cm(l)/3)))-cm(Math.abs(o))))||(n.precision=a),ta(n,l);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(a=Math.max(0,cm(Math.abs(Math.max(Math.abs(e),Math.abs(t)))-(i=Math.abs(i=o)))-cm(i))+1)||(n.precision=a-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(a=Math.max(0,-cm(Math.abs(o))))||(n.precision=a-("%"===n.type)*2)}return ti(n)}function cA(e){var t=e.domain;return e.ticks=function(e){var r=t();return sy(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){var n=t();return cS(n[0],n[n.length-1],null==e?10:e,r)},e.nice=function(r){null==r&&(r=10);var n,i,a=t(),o=0,l=a.length-1,s=a[o],c=a[l],u=10;for(c<s&&(i=s,s=c,c=i,i=o,o=l,l=i);u-- >0;){if((i=sv(s,c,r))===n)return a[o]=s,a[l]=c,t(a);if(i>0)s=Math.floor(s/i)*i,c=Math.ceil(c/i)*i;else if(i<0)s=Math.ceil(s*i)/i,c=Math.floor(c*i)/i;else break;n=i}return e},e}function cj(){var e=cf();return e.copy=function(){return cd(e,cj())},si.apply(e,arguments),cA(e)}function c_(e){var t;function r(e){return null==e||isNaN(e*=1)?t:e}return r.invert=r,r.domain=r.range=function(t){return arguments.length?(e=Array.from(t,ca),r):e.slice()},r.unknown=function(e){return arguments.length?(t=e,r):t},r.copy=function(){return c_(e).unknown(t)},e=arguments.length?Array.from(e,ca):[0,1],cA(r)}function cC(e,t){e=e.slice();var r,n=0,i=e.length-1,a=e[n],o=e[i];return o<a&&(r=n,n=i,i=r,r=a,a=o,o=r),e[n]=t.floor(a),e[i]=t.ceil(o),e}function cN(e){return Math.log(e)}function cT(e){return Math.exp(e)}function cI(e){return-Math.log(-e)}function cP(e){return-Math.exp(-e)}function ck(e){return isFinite(e)?+("1e"+e):e<0?0:e}function cM(e){return(t,r)=>-e(-t,r)}function cD(e){let t,r,n=e(cN,cT),i=n.domain,a=10;function o(){var o,l;return t=(o=a)===Math.E?Math.log:10===o&&Math.log10||2===o&&Math.log2||(o=Math.log(o),e=>Math.log(e)/o),r=10===(l=a)?ck:l===Math.E?Math.exp:e=>Math.pow(l,e),i()[0]<0?(t=cM(t),r=cM(r),e(cI,cP)):e(cN,cT),n}return n.base=function(e){return arguments.length?(a=+e,o()):a},n.domain=function(e){return arguments.length?(i(e),o()):i()},n.ticks=e=>{let n,o,l=i(),s=l[0],c=l[l.length-1],u=c<s;u&&([s,c]=[c,s]);let d=t(s),p=t(c),f=null==e?10:+e,h=[];if(!(a%1)&&p-d<f){if(d=Math.floor(d),p=Math.ceil(p),s>0){for(;d<=p;++d)for(n=1;n<a;++n)if(!((o=d<0?n/r(-d):n*r(d))<s)){if(o>c)break;h.push(o)}}else for(;d<=p;++d)for(n=a-1;n>=1;--n)if(!((o=d>0?n/r(-d):n*r(d))<s)){if(o>c)break;h.push(o)}2*h.length<f&&(h=sy(s,c,f))}else h=sy(d,p,Math.min(p-d,f)).map(r);return u?h.reverse():h},n.tickFormat=(e,i)=>{if(null==e&&(e=10),null==i&&(i=10===a?"s":","),"function"!=typeof i&&(a%1||null!=(i=cy(i)).precision||(i.trim=!0),i=ti(i)),e===1/0)return i;let o=Math.max(1,a*e/n.ticks().length);return e=>{let n=e/r(Math.round(t(e)));return n*a<a-.5&&(n*=a),n<=o?i(e):""}},n.nice=()=>i(cC(i(),{floor:e=>r(Math.floor(t(e))),ceil:e=>r(Math.ceil(t(e)))})),n}function cR(){let e=cD(cp()).domain([1,10]);return e.copy=()=>cd(e,cR()).base(e.base()),si.apply(e,arguments),e}function cU(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function cL(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function cq(e){var t=1,r=e(cU(1),cL(t));return r.constant=function(r){return arguments.length?e(cU(t=+r),cL(t)):t},cA(r)}function cF(){var e=cq(cp());return e.copy=function(){return cd(e,cF()).constant(e.constant())},si.apply(e,arguments)}function cG(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function cB(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function cH(e){return e<0?-e*e:e*e}function cV(e){var t=e(cl,cl),r=1;return t.exponent=function(t){return arguments.length?1==(r=+t)?e(cl,cl):.5===r?e(cB,cH):e(cG(r),cG(1/r)):r},cA(t)}function c$(){var e=cV(cp());return e.copy=function(){return cd(e,c$()).exponent(e.exponent())},si.apply(e,arguments),e}function cz(){return c$.apply(null,arguments).exponent(.5)}function cK(e){return Math.sign(e)*e*e}function cJ(){var e,t=cf(),r=[0,1],n=!1;function i(r){var i,a=Math.sign(i=t(r))*Math.sqrt(Math.abs(i));return isNaN(a)?e:n?Math.round(a):a}return i.invert=function(e){return t.invert(cK(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((r=Array.from(e,ca)).map(cK)),i):r.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(n=!!e,i):n},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return cJ(t.domain(),r).round(n).clamp(t.clamp()).unknown(e)},si.apply(i,arguments),cA(i)}function cY(e,t){let r;if(void 0===t)for(let t of e)null!=t&&(r<t||void 0===r&&t>=t)&&(r=t);else{let n=-1;for(let i of e)null!=(i=t(i,++n,e))&&(r<i||void 0===r&&i>=i)&&(r=i)}return r}function cW(e,t){let r;if(void 0===t)for(let t of e)null!=t&&(r>t||void 0===r&&t>=t)&&(r=t);else{let n=-1;for(let i of e)null!=(i=t(i,++n,e))&&(r>i||void 0===r&&i>=i)&&(r=i)}return r}function cX(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:+(e>t))}function cZ(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}function cQ(){var e,t=[],r=[],n=[];function i(){var e=0,i=Math.max(1,r.length);for(n=Array(i-1);++e<i;)n[e-1]=function(e,t,r=sS){if(!(!(n=e.length)||isNaN(t*=1))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),o=+r(e[a],a,e);return o+(r(e[a+1],a+1,e)-o)*(i-a)}}(t,e/i);return a}function a(t){return null==t||isNaN(t*=1)?e:r[sj(n,t)]}return a.invertExtent=function(e){var i=r.indexOf(e);return i<0?[NaN,NaN]:[i>0?n[i-1]:t[0],i<n.length?n[i]:t[t.length-1]]},a.domain=function(e){if(!arguments.length)return t.slice();for(let r of(t=[],e))null==r||isNaN(r*=1)||t.push(r);return t.sort(sx),i()},a.range=function(e){return arguments.length?(r=Array.from(e),i()):r.slice()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.quantiles=function(){return n.slice()},a.copy=function(){return cQ().domain(t).range(r).unknown(e)},si.apply(a,arguments)}function c0(){var e,t=0,r=1,n=1,i=[.5],a=[0,1];function o(t){return null!=t&&t<=t?a[sj(i,t,0,n)]:e}function l(){var e=-1;for(i=Array(n);++e<n;)i[e]=((e+1)*r-(e-n)*t)/(n+1);return o}return o.domain=function(e){return arguments.length?([t,r]=e,t*=1,r*=1,l()):[t,r]},o.range=function(e){return arguments.length?(n=(a=Array.from(e)).length-1,l()):a.slice()},o.invertExtent=function(e){var o=a.indexOf(e);return o<0?[NaN,NaN]:o<1?[t,i[0]]:o>=n?[i[n-1],r]:[i[o-1],i[o]]},o.unknown=function(t){return arguments.length&&(e=t),o},o.thresholds=function(){return i.slice()},o.copy=function(){return c0().domain([t,r]).range(a).unknown(e)},si.apply(cA(o),arguments)}function c1(){var e,t=[.5],r=[0,1],n=1;function i(i){return null!=i&&i<=i?r[sj(t,i,0,n)]:e}return i.domain=function(e){return arguments.length?(n=Math.min((t=Array.from(e)).length,r.length-1),i):t.slice()},i.range=function(e){return arguments.length?(r=Array.from(e),n=Math.min(t.length,r.length-1),i):r.slice()},i.invertExtent=function(e){var n=r.indexOf(e);return[t[n-1],t[n]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return c1().domain(t).range(r).unknown(e)},si.apply(i,arguments)}ti=(tn=function(e){var t,r,n,i=void 0===e.grouping||void 0===e.thousands?cw:(t=cO.call(e.grouping,Number),r=e.thousands+"",function(e,n){for(var i=e.length,a=[],o=0,l=t[0],s=0;i>0&&l>0&&(s+l+1>n&&(l=Math.max(1,n-s)),a.push(e.substring(i-=l,i+l)),!((s+=l+1)>n));)l=t[o=(o+1)%t.length];return a.reverse().join(r)}),a=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",l=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?cw:(n=cO.call(e.numerals,String),function(e){return e.replace(/[0-9]/g,function(e){return n[+e]})}),c=void 0===e.percent?"%":e.percent+"",u=void 0===e.minus?"":e.minus+"",d=void 0===e.nan?"NaN":e.nan+"";function p(e){var t=(e=cy(e)).fill,r=e.align,n=e.sign,p=e.symbol,f=e.zero,h=e.width,m=e.comma,g=e.precision,y=e.trim,v=e.type;"n"===v?(m=!0,v="g"):cx[v]||(void 0===g&&(g=12),y=!0,v="g"),(f||"0"===t&&"="===r)&&(f=!0,t="0",r="=");var b="$"===p?a:"#"===p&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",x="$"===p?o:/[%p]/.test(v)?c:"",w=cx[v],O=/[defgprs%]/.test(v);function E(e){var a,o,c,p=b,E=x;if("c"===v)E=w(e)+E,e="";else{var S=(e*=1)<0||1/e<0;if(e=isNaN(e)?d:w(Math.abs(e),g),y&&(e=function(e){e:for(var t,r=e.length,n=1,i=-1;n<r;++n)switch(e[n]){case".":i=t=n;break;case"0":0===i&&(i=n),t=n;break;default:if(!+e[n])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),S&&0==+e&&"+"!==n&&(S=!1),p=(S?"("===n?n:u:"-"===n||"("===n?"":n)+p,E=("s"===v?cE[8+tr/3]:"")+E+(S&&"("===n?")":""),O){for(a=-1,o=e.length;++a<o;)if(48>(c=e.charCodeAt(a))||c>57){E=(46===c?l+e.slice(a+1):e.slice(a))+E,e=e.slice(0,a);break}}}m&&!f&&(e=i(e,1/0));var A=p.length+e.length+E.length,j=A<h?Array(h-A+1).join(t):"";switch(m&&f&&(e=i(j+e,j.length?h-E.length:1/0),j=""),r){case"<":e=p+e+E+j;break;case"=":e=p+j+e+E;break;case"^":e=j.slice(0,A=j.length>>1)+p+e+E+j.slice(A);break;default:e=j+p+e+E}return s(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),E.toString=function(){return e+""},E}return{format:p,formatPrefix:function(e,t){var r=p(((e=cy(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor(cm(t)/3))),i=Math.pow(10,-n),a=cE[8+n/3];return function(e){return r(i*e)+a}}}}({thousands:",",grouping:[3],currency:["$",""]})).format,ta=tn.formatPrefix;let c2=new Date,c3=new Date;function c4(e,t,r,n){function i(t){return e(t=0==arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=r=>(e(r=new Date(r-1)),t(r,1),e(r),r),i.round=e=>{let t=i(e),r=i.ceil(e);return e-t<r-e?t:r},i.offset=(e,r)=>(t(e=new Date(+e),null==r?1:Math.floor(r)),e),i.range=(r,n,a)=>{let o,l=[];if(r=i.ceil(r),a=null==a?1:Math.floor(a),!(r<n)||!(a>0))return l;do l.push(o=new Date(+r)),t(r,a),e(r);while(o<r&&r<n)return l},i.filter=r=>c4(t=>{if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)},(e,n)=>{if(e>=e)if(n<0)for(;++n<=0;)for(;t(e,-1),!r(e););else for(;--n>=0;)for(;t(e,1),!r(e););}),r&&(i.count=(t,n)=>(c2.setTime(+t),c3.setTime(+n),e(c2),e(c3),Math.floor(r(c2,c3))),i.every=e=>isFinite(e=Math.floor(e))&&e>0?e>1?i.filter(n?t=>n(t)%e==0:t=>i.count(0,t)%e==0):i:null),i}let c5=c4(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());c5.every=e=>isFinite(e=Math.floor(e))&&e>0?c4(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)}):null,c5.range;let c6=c4(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());c6.every=e=>isFinite(e=Math.floor(e))&&e>0?c4(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)}):null,c6.range;let c8=c4(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());c8.range;let c7=c4(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());c7.range;function c9(e){return c4(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/6048e5)}let ue=c9(0),ut=c9(1),ur=c9(2),un=c9(3),ui=c9(4),ua=c9(5),uo=c9(6);function ul(e){return c4(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/6048e5)}ue.range,ut.range,ur.range,un.range,ui.range,ua.range,uo.range;let us=ul(0),uc=ul(1),uu=ul(2),ud=ul(3),up=ul(4),uf=ul(5),uh=ul(6);us.range,uc.range,uu.range,ud.range,up.range,uf.range,uh.range;let um=c4(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5,e=>e.getDate()-1);um.range;let ug=c4(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>e.getUTCDate()-1);ug.range;let uy=c4(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>Math.floor(e/864e5));uy.range;let uv=c4(e=>{e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-6e4*e.getMinutes())},(e,t)=>{e.setTime(+e+36e5*t)},(e,t)=>(t-e)/36e5,e=>e.getHours());uv.range;let ub=c4(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+36e5*t)},(e,t)=>(t-e)/36e5,e=>e.getUTCHours());ub.range;let ux=c4(e=>{e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())},(e,t)=>{e.setTime(+e+6e4*t)},(e,t)=>(t-e)/6e4,e=>e.getMinutes());ux.range;let uw=c4(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+6e4*t)},(e,t)=>(t-e)/6e4,e=>e.getUTCMinutes());uw.range;let uO=c4(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+1e3*t)},(e,t)=>(t-e)/1e3,e=>e.getUTCSeconds());uO.range;let uE=c4(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);function uS(e,t,r,n,i,a){let o=[[uO,1,1e3],[uO,5,5e3],[uO,15,15e3],[uO,30,3e4],[a,1,6e4],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,36e5],[i,3,108e5],[i,6,216e5],[i,12,432e5],[n,1,864e5],[n,2,1728e5],[r,1,6048e5],[t,1,2592e6],[t,3,7776e6],[e,1,31536e6]];function l(t,r,n){let i=Math.abs(r-t)/n,a=sO(([,,e])=>e).right(o,i);if(a===o.length)return e.every(sb(t/31536e6,r/31536e6,n));if(0===a)return uE.every(Math.max(sb(t,r,n),1));let[l,s]=o[i/o[a-1][2]<o[a][2]/i?a-1:a];return l.every(s)}return[function(e,t,r){let n=t<e;n&&([e,t]=[t,e]);let i=r&&"function"==typeof r.range?r:l(e,t,r),a=i?i.range(e,+t+1):[];return n?a.reverse():a},l]}uE.every=e=>isFinite(e=Math.floor(e))&&e>0?e>1?c4(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):uE:null,uE.range;let[uA,uj]=uS(c6,c7,us,uy,ub,uw),[u_,uC]=uS(c5,c8,ue,um,uv,ux);function uN(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function uT(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function uI(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}var uP={"-":"",_:" ",0:"0"},uk=/^\s*\d+/,uM=/^%/,uD=/[\\^$*+?|[\]().{}]/g;function uR(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?Array(r-a+1).join(t)+i:i)}function uU(e){return e.replace(uD,"\\$&")}function uL(e){return RegExp("^(?:"+e.map(uU).join("|")+")","i")}function uq(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function uF(e,t,r){var n=uk.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function uG(e,t,r){var n=uk.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function uB(e,t,r){var n=uk.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function uH(e,t,r){var n=uk.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function uV(e,t,r){var n=uk.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function u$(e,t,r){var n=uk.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function uz(e,t,r){var n=uk.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function uK(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function uJ(e,t,r){var n=uk.exec(t.slice(r,r+1));return n?(e.q=3*n[0]-3,r+n[0].length):-1}function uY(e,t,r){var n=uk.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function uW(e,t,r){var n=uk.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function uX(e,t,r){var n=uk.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function uZ(e,t,r){var n=uk.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function uQ(e,t,r){var n=uk.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function u0(e,t,r){var n=uk.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function u1(e,t,r){var n=uk.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function u2(e,t,r){var n=uk.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function u3(e,t,r){var n=uM.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function u4(e,t,r){var n=uk.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function u5(e,t,r){var n=uk.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function u6(e,t){return uR(e.getDate(),t,2)}function u8(e,t){return uR(e.getHours(),t,2)}function u7(e,t){return uR(e.getHours()%12||12,t,2)}function u9(e,t){return uR(1+um.count(c5(e),e),t,3)}function de(e,t){return uR(e.getMilliseconds(),t,3)}function dt(e,t){return de(e,t)+"000"}function dr(e,t){return uR(e.getMonth()+1,t,2)}function dn(e,t){return uR(e.getMinutes(),t,2)}function di(e,t){return uR(e.getSeconds(),t,2)}function da(e){var t=e.getDay();return 0===t?7:t}function dl(e,t){return uR(ue.count(c5(e)-1,e),t,2)}function ds(e){var t=e.getDay();return t>=4||0===t?ui(e):ui.ceil(e)}function dc(e,t){return e=ds(e),uR(ui.count(c5(e),e)+(4===c5(e).getDay()),t,2)}function du(e){return e.getDay()}function dd(e,t){return uR(ut.count(c5(e)-1,e),t,2)}function dp(e,t){return uR(e.getFullYear()%100,t,2)}function df(e,t){return uR((e=ds(e)).getFullYear()%100,t,2)}function dh(e,t){return uR(e.getFullYear()%1e4,t,4)}function dm(e,t){var r=e.getDay();return uR((e=r>=4||0===r?ui(e):ui.ceil(e)).getFullYear()%1e4,t,4)}function dg(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+uR(t/60|0,"0",2)+uR(t%60,"0",2)}function dy(e,t){return uR(e.getUTCDate(),t,2)}function dv(e,t){return uR(e.getUTCHours(),t,2)}function db(e,t){return uR(e.getUTCHours()%12||12,t,2)}function dx(e,t){return uR(1+ug.count(c6(e),e),t,3)}function dw(e,t){return uR(e.getUTCMilliseconds(),t,3)}function dO(e,t){return dw(e,t)+"000"}function dE(e,t){return uR(e.getUTCMonth()+1,t,2)}function dS(e,t){return uR(e.getUTCMinutes(),t,2)}function dA(e,t){return uR(e.getUTCSeconds(),t,2)}function dj(e){var t=e.getUTCDay();return 0===t?7:t}function d_(e,t){return uR(us.count(c6(e)-1,e),t,2)}function dC(e){var t=e.getUTCDay();return t>=4||0===t?up(e):up.ceil(e)}function dN(e,t){return e=dC(e),uR(up.count(c6(e),e)+(4===c6(e).getUTCDay()),t,2)}function dT(e){return e.getUTCDay()}function dI(e,t){return uR(uc.count(c6(e)-1,e),t,2)}function dP(e,t){return uR(e.getUTCFullYear()%100,t,2)}function dk(e,t){return uR((e=dC(e)).getUTCFullYear()%100,t,2)}function dM(e,t){return uR(e.getUTCFullYear()%1e4,t,4)}function dD(e,t){var r=e.getUTCDay();return uR((e=r>=4||0===r?up(e):up.ceil(e)).getUTCFullYear()%1e4,t,4)}function dR(){return"+0000"}function dU(){return"%"}function dL(e){return+e}function dq(e){return Math.floor(e/1e3)}function dF(e){return new Date(e)}function dG(e){return e instanceof Date?+e:+new Date(+e)}function dB(e,t,r,n,i,a,o,l,s,c){var u=cf(),d=u.invert,p=u.domain,f=c(".%L"),h=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),v=c("%b %d"),b=c("%B"),x=c("%Y");function w(e){return(s(e)<e?f:l(e)<e?h:o(e)<e?m:a(e)<e?g:n(e)<e?i(e)<e?y:v:r(e)<e?b:x)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?p(Array.from(e,dG)):p().map(dF)},u.ticks=function(t){var r=p();return e(r[0],r[r.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:c(t)},u.nice=function(e){var r=p();return e&&"function"==typeof e.range||(e=t(r[0],r[r.length-1],null==e?10:e)),e?p(cC(r,e)):u},u.copy=function(){return cd(u,dB(e,t,r,n,i,a,o,l,s,c))},u}function dH(){return si.apply(dB(u_,uC,c5,c8,ue,um,uv,ux,uO,tl).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function dV(){return si.apply(dB(uA,uj,c6,c7,us,ug,ub,uw,uO,ts).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function d$(){var e,t,r,n,i,a=0,o=1,l=cl,s=!1;function c(t){return null==t||isNaN(t*=1)?i:l(0===r?.5:(t=(n(t)-e)*r,s?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var r,n;return arguments.length?([r,n]=t,l=e(r,n),c):[l(0),l(1)]}}return c.domain=function(i){return arguments.length?([a,o]=i,e=n(a*=1),t=n(o*=1),r=e===t?0:1/(t-e),c):[a,o]},c.clamp=function(e){return arguments.length?(s=!!e,c):s},c.interpolator=function(e){return arguments.length?(l=e,c):l},c.range=u(cn),c.rangeRound=u(ci),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return n=i,e=i(a),t=i(o),r=e===t?0:1/(t-e),c}}function dz(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function dK(){var e=cA(d$()(cl));return e.copy=function(){return dz(e,dK())},sa.apply(e,arguments)}function dJ(){var e=cD(d$()).domain([1,10]);return e.copy=function(){return dz(e,dJ()).base(e.base())},sa.apply(e,arguments)}function dY(){var e=cq(d$());return e.copy=function(){return dz(e,dY()).constant(e.constant())},sa.apply(e,arguments)}function dW(){var e=cV(d$());return e.copy=function(){return dz(e,dW()).exponent(e.exponent())},sa.apply(e,arguments)}function dX(){return dW.apply(null,arguments).exponent(.5)}function dZ(){var e=[],t=cl;function r(r){if(null!=r&&!isNaN(r*=1))return t((sj(e,r,1)-1)/(e.length-1))}return r.domain=function(t){if(!arguments.length)return e.slice();for(let r of(e=[],t))null==r||isNaN(r*=1)||e.push(r);return e.sort(sx),r},r.interpolator=function(e){return arguments.length?(t=e,r):t},r.range=function(){return e.map((r,n)=>t(n/(e.length-1)))},r.quantiles=function(t){return Array.from({length:t+1},(r,n)=>(function(e,t,r){if(!(!(n=(e=Float64Array.from(function*(e,t){if(void 0===t)for(let t of e)null!=t&&(t*=1)>=t&&(yield t);else{let r=-1;for(let n of e)null!=(n=t(n,++r,e))&&(n*=1)>=n&&(yield n)}}(e,void 0))).length)||isNaN(t*=1))){if(t<=0||n<2)return cW(e);if(t>=1)return cY(e);var n,i=(n-1)*t,a=Math.floor(i),o=cY((function e(t,r,n=0,i=1/0,a){if(r=Math.floor(r),n=Math.floor(Math.max(0,n)),i=Math.floor(Math.min(t.length-1,i)),!(n<=r&&r<=i))return t;for(a=void 0===a?cX:function(e=sx){if(e===sx)return cX;if("function"!=typeof e)throw TypeError("compare is not a function");return(t,r)=>{let n=e(t,r);return n||0===n?n:(0===e(r,r))-(0===e(t,t))}}(a);i>n;){if(i-n>600){let o=i-n+1,l=r-n+1,s=Math.log(o),c=.5*Math.exp(2*s/3),u=.5*Math.sqrt(s*c*(o-c)/o)*(l-o/2<0?-1:1),d=Math.max(n,Math.floor(r-l*c/o+u)),p=Math.min(i,Math.floor(r+(o-l)*c/o+u));e(t,r,d,p,a)}let o=t[r],l=n,s=i;for(cZ(t,n,r),a(t[i],o)>0&&cZ(t,n,i);l<s;){for(cZ(t,l,s),++l,--s;0>a(t[l],o);)++l;for(;a(t[s],o)>0;)--s}0===a(t[n],o)?cZ(t,n,s):cZ(t,++s,i),s<=r&&(n=s+1),r<=s&&(i=s-1)}return t})(e,a).subarray(0,a+1));return o+(cW(e.subarray(a+1))-o)*(i-a)}})(e,n/t))},r.copy=function(){return dZ(t).domain(e)},sa.apply(r,arguments)}function dQ(){var e,t,r,n,i,a,o,l=0,s=.5,c=1,u=1,d=cl,p=!1;function f(e){return isNaN(e*=1)?o:(e=.5+((e=+a(e))-t)*(u*e<u*t?n:i),d(p?Math.max(0,Math.min(1,e)):e))}function h(e){return function(t){var r,n,i;return arguments.length?([r,n,i]=t,d=function(e,t){void 0===t&&(t=e,e=cn);for(var r=0,n=t.length-1,i=t[0],a=Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(e){var t=Math.max(0,Math.min(n-1,Math.floor(e*=n)));return a[t](e-t)}}(e,[r,n,i]),f):[d(0),d(.5),d(1)]}}return f.domain=function(o){return arguments.length?([l,s,c]=o,e=a(l*=1),t=a(s*=1),r=a(c*=1),n=e===t?0:.5/(t-e),i=t===r?0:.5/(r-t),u=t<e?-1:1,f):[l,s,c]},f.clamp=function(e){return arguments.length?(p=!!e,f):p},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=h(cn),f.rangeRound=h(ci),f.unknown=function(e){return arguments.length?(o=e,f):o},function(o){return a=o,e=o(l),t=o(s),r=o(c),n=e===t?0:.5/(t-e),i=t===r?0:.5/(r-t),u=t<e?-1:1,f}}function d0(){var e=cA(dQ()(cl));return e.copy=function(){return dz(e,d0())},sa.apply(e,arguments)}function d1(){var e=cD(dQ()).domain([.1,1,10]);return e.copy=function(){return dz(e,d1()).base(e.base())},sa.apply(e,arguments)}function d2(){var e=cq(dQ());return e.copy=function(){return dz(e,d2()).constant(e.constant())},sa.apply(e,arguments)}function d3(){var e=cV(dQ());return e.copy=function(){return dz(e,d3()).exponent(e.exponent())},sa.apply(e,arguments)}function d4(){return d3.apply(null,arguments).exponent(.5)}tl=(to=function(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,l=e.months,s=e.shortMonths,c=uL(i),u=uq(i),d=uL(a),p=uq(a),f=uL(o),h=uq(o),m=uL(l),g=uq(l),y=uL(s),v=uq(s),b={a:function(e){return o[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return s[e.getMonth()]},B:function(e){return l[e.getMonth()]},c:null,d:u6,e:u6,f:dt,g:df,G:dm,H:u8,I:u7,j:u9,L:de,m:dr,M:dn,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:dL,s:dq,S:di,u:da,U:dl,V:dc,w:du,W:dd,x:null,X:null,y:dp,Y:dh,Z:dg,"%":dU},x={a:function(e){return o[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return s[e.getUTCMonth()]},B:function(e){return l[e.getUTCMonth()]},c:null,d:dy,e:dy,f:dO,g:dk,G:dD,H:dv,I:db,j:dx,L:dw,m:dE,M:dS,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:dL,s:dq,S:dA,u:dj,U:d_,V:dN,w:dT,W:dI,x:null,X:null,y:dP,Y:dM,Z:dR,"%":dU},w={a:function(e,t,r){var n=f.exec(t.slice(r));return n?(e.w=h.get(n[0].toLowerCase()),r+n[0].length):-1},A:function(e,t,r){var n=d.exec(t.slice(r));return n?(e.w=p.get(n[0].toLowerCase()),r+n[0].length):-1},b:function(e,t,r){var n=y.exec(t.slice(r));return n?(e.m=v.get(n[0].toLowerCase()),r+n[0].length):-1},B:function(e,t,r){var n=m.exec(t.slice(r));return n?(e.m=g.get(n[0].toLowerCase()),r+n[0].length):-1},c:function(e,r,n){return S(e,t,r,n)},d:uW,e:uW,f:u2,g:uz,G:u$,H:uZ,I:uZ,j:uX,L:u1,m:uY,M:uQ,p:function(e,t,r){var n=c.exec(t.slice(r));return n?(e.p=u.get(n[0].toLowerCase()),r+n[0].length):-1},q:uJ,Q:u4,s:u5,S:u0,u:uG,U:uB,V:uH,w:uF,W:uV,x:function(e,t,n){return S(e,r,t,n)},X:function(e,t,r){return S(e,n,t,r)},y:uz,Y:u$,Z:uK,"%":u3};function O(e,t){return function(r){var n,i,a,o=[],l=-1,s=0,c=e.length;for(r instanceof Date||(r=new Date(+r));++l<c;)37===e.charCodeAt(l)&&(o.push(e.slice(s,l)),null!=(i=uP[n=e.charAt(++l)])?n=e.charAt(++l):i="e"===n?" ":"0",(a=t[n])&&(n=a(r,i)),o.push(n),s=l+1);return o.push(e.slice(s,l)),o.join("")}}function E(e,t){return function(r){var n,i,a=uI(1900,void 0,1);if(S(a,e,r+="",0)!=r.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(!t||"Z"in a||(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(n=(i=(n=uT(uI(a.y,0,1))).getUTCDay())>4||0===i?uc.ceil(n):uc(n),n=ug.offset(n,(a.V-1)*7),a.y=n.getUTCFullYear(),a.m=n.getUTCMonth(),a.d=n.getUTCDate()+(a.w+6)%7):(n=(i=(n=uN(uI(a.y,0,1))).getDay())>4||0===i?ut.ceil(n):ut(n),n=um.offset(n,(a.V-1)*7),a.y=n.getFullYear(),a.m=n.getMonth(),a.d=n.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:+("W"in a)),i="Z"in a?uT(uI(a.y,0,1)).getUTCDay():uN(uI(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,uT(a)):uN(a)}}function S(e,t,r,n){for(var i,a,o=0,l=t.length,s=r.length;o<l;){if(n>=s)return -1;if(37===(i=t.charCodeAt(o++))){if(!(a=w[(i=t.charAt(o++))in uP?t.charAt(o++):i])||(n=a(e,r,n))<0)return -1}else if(i!=r.charCodeAt(n++))return -1}return n}return b.x=O(r,b),b.X=O(n,b),b.c=O(t,b),x.x=O(r,x),x.X=O(n,x),x.c=O(t,x),{format:function(e){var t=O(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=E(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=O(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=E(e+="",!0);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})).format,to.parse,ts=to.utcFormat,to.utcParse,e.s(["scaleBand",()=>sd,"scaleDiverging",()=>d0,"scaleDivergingLog",()=>d1,"scaleDivergingPow",()=>d3,"scaleDivergingSqrt",()=>d4,"scaleDivergingSymlog",()=>d2,"scaleIdentity",()=>c_,"scaleImplicit",0,sc,"scaleLinear",()=>cj,"scaleLog",()=>cR,"scaleOrdinal",()=>su,"scalePoint",()=>sp,"scalePow",()=>c$,"scaleQuantile",()=>cQ,"scaleQuantize",()=>c0,"scaleRadial",()=>cJ,"scaleSequential",()=>dK,"scaleSequentialLog",()=>dJ,"scaleSequentialPow",()=>dW,"scaleSequentialQuantile",()=>dZ,"scaleSequentialSqrt",()=>dX,"scaleSequentialSymlog",()=>dY,"scaleSqrt",()=>cz,"scaleSymlog",()=>cF,"scaleThreshold",()=>c1,"scaleTime",()=>dH,"scaleUtc",()=>dV,"tickFormat",()=>cS],29061),e.i(29061),e.s(["scaleBand",()=>sd,"scaleDiverging",()=>d0,"scaleDivergingLog",()=>d1,"scaleDivergingPow",()=>d3,"scaleDivergingSqrt",()=>d4,"scaleDivergingSymlog",()=>d2,"scaleIdentity",()=>c_,"scaleImplicit",0,sc,"scaleLinear",()=>cj,"scaleLog",()=>cR,"scaleOrdinal",()=>su,"scalePoint",()=>sp,"scalePow",()=>c$,"scaleQuantile",()=>cQ,"scaleQuantize",()=>c0,"scaleRadial",()=>cJ,"scaleSequential",()=>dK,"scaleSequentialLog",()=>dJ,"scaleSequentialPow",()=>dW,"scaleSequentialQuantile",()=>dZ,"scaleSequentialSqrt",()=>dX,"scaleSequentialSymlog",()=>dY,"scaleSqrt",()=>cz,"scaleSymlog",()=>cF,"scaleThreshold",()=>c1,"scaleTime",()=>dH,"scaleUtc",()=>dV,"tickFormat",()=>cS],79357);var d5=e.i(79357);function d6(e){return null!=e}var d8=e=>e.chartData,d7=af([d8],e=>{var t=null!=e.chartData?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),d9=(e,t,r,n)=>n?d7(e):d8(e);function pe(e){if(Array.isArray(e)&&2===e.length){var[t,r]=e;if(lQ(t)&&lQ(r))return!0}return!1}function pt(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function pr(e,t){if(t&&"function"!=typeof e&&Array.isArray(e)&&2===e.length){var r,n,[i,a]=e;if(lQ(i))r=i;else if("function"==typeof i)return;if(lQ(a))n=a;else if("function"==typeof a)return;var o=[r,n];if(pe(o))return o}}var pn=e.i(51655),pi=e=>e,pa={},po=e=>function t(){let r;return 0==arguments.length||1==arguments.length&&(r=arguments.length<=0?void 0:arguments[0],r===pa)?t:e(...arguments)},pl=(e,t)=>1===e?t:po(function(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(e=>e!==pa).length;return a>=e?t(...n):pl(e-a,po(function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return t(...n.map(e=>e===pa?r.shift():e),...r)}))}),ps=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},pc=pl((a=(e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(e=>t[e]).map(e)).length,a),pu=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return pi;var n=t.reverse(),i=n[0],a=n.slice(1);return function(){return a.reduce((e,t)=>t(e),i(...arguments))}},pd=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),pp=e=>{var t=null,r=null;return function(){for(var n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];return t&&i.every((e,r)=>{var n;return e===(null==(n=t)?void 0:n[r])})?r:(t=i,r=e(...i))}};function pf(e){return 0===e?1:Math.floor(new pn.default(e).abs().log(10).toNumber())+1}function ph(e,t,r){for(var n=new pn.default(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}pl((o=(e,t,r)=>{var n=+e;return n+r*(t-n)}).length,o),pl((l=(e,t,r)=>{var n=t-e;return(r-e)/(n=n||1/0)}).length,l),pl((s=(e,t,r)=>{var n=t-e;return Math.max(0,Math.min(1,(r-e)/(n=n||1/0)))}).length,s);var pm=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},pg=(e,t,r)=>{if(e.lte(0))return new pn.default(0);var n=pf(e.toNumber()),i=new pn.default(10).pow(n),a=e.div(i),o=1!==n?.05:.1,l=new pn.default(Math.ceil(a.div(o).toNumber())).add(r).mul(o).mul(i);return new pn.default(t?l.toNumber():Math.ceil(l.toNumber()))},py=function(e,t,r,n){var i,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new pn.default(0),tickMin:new pn.default(0),tickMax:new pn.default(0)};var o=pg(new pn.default(t).sub(e).div(r-1),n,a),l=Math.ceil((i=e<=0&&t>=0?new pn.default(0):(i=new pn.default(e).add(t).div(2)).sub(new pn.default(i).mod(o))).sub(e).div(o).toNumber()),s=Math.ceil(new pn.default(t).sub(i).div(o).toNumber()),c=l+s+1;return c>r?py(e,t,r,n,a+1):(c<r&&(s=t>0?s+(r-c):s,l=t>0?l:l+(r-c)),{step:o,tickMin:i.sub(new pn.default(l).mul(o)),tickMax:i.add(new pn.default(s).mul(o))})},pv=pp(function(e){var[t,r]=e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2)||void 0===arguments[2]||arguments[2],a=Math.max(n,2),[o,l]=pm([t,r]);if(o===-1/0||l===1/0){var s=l===1/0?[o,...ps(0,n-1).map(()=>1/0)]:[...ps(0,n-1).map(()=>-1/0),l];return t>r?pd(s):s}if(o===l){var c=new pn.default(1),u=new pn.default(o);if(!u.isint()&&i){var d=Math.abs(o);d<1?(c=new pn.default(10).pow(pf(o)-1),u=new pn.default(Math.floor(u.div(c).toNumber())).mul(c)):d>1&&(u=new pn.default(Math.floor(o)))}else 0===o?u=new pn.default(Math.floor((n-1)/2)):i||(u=new pn.default(Math.floor(o)));var p=Math.floor((n-1)/2);return pu(pc(e=>u.add(new pn.default(e-p).mul(c)).toNumber()),ps)(0,n)}var{step:f,tickMin:h,tickMax:m}=py(o,l,a,i,0),g=ph(h,m.add(new pn.default(.1).mul(f)),f);return t>r?pd(g):g}),pb=pp(function(e,t){var[r,n]=e,i=!(arguments.length>2)||void 0===arguments[2]||arguments[2],[a,o]=pm([r,n]);if(a===-1/0||o===1/0)return[r,n];if(a===o)return[a];var l=Math.max(t,2),s=pg(new pn.default(o).sub(a).div(l-1),i,0),c=[...ph(new pn.default(a),new pn.default(o),s),o];return!1===i&&(c=c.map(e=>Math.round(e))),r>n?pd(c):c}),px=e=>e.rootProps.maxBarSize,pw=e=>e.rootProps.barCategoryGap,pO=e=>e.rootProps.stackOffset,pE=e=>e.options.chartName,pS=e=>e.rootProps.syncId,pA=e=>e.rootProps.syncMethod,pj=e=>e.options.eventEmitter,p_="auto",pC="auto",pN=(e,t)=>{if(e&&t)return null!=e&&e.reversed?[t[1],t[0]]:t},pT={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:0,includeHidden:!1,name:void 0,reversed:!1,scale:p_,tick:!0,tickCount:void 0,ticks:void 0,type:"category",unit:void 0},pI={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,dataKey:void 0,domain:void 0,id:0,includeHidden:!1,name:void 0,reversed:!1,scale:pC,tick:!0,tickCount:5,ticks:void 0,type:"number",unit:void 0},pP={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,dataKey:void 0,domain:void 0,id:0,includeHidden:!1,name:void 0,reversed:!1,scale:p_,tick:!0,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},pk={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,dataKey:void 0,domain:void 0,id:0,includeHidden:!1,name:void 0,reversed:!1,scale:pC,tick:!0,tickCount:5,ticks:void 0,type:"category",unit:void 0},pM=(e,t)=>null!=e.polarAxis.angleAxis[t]?e.polarAxis.angleAxis[t]:"radial"===e.layout.layoutType?pP:pT,pD=(e,t)=>null!=e.polarAxis.radiusAxis[t]?e.polarAxis.radiusAxis[t]:"radial"===e.layout.layoutType?pk:pI,pR=e=>e.polarOptions,pU=af([lC,lN,lL],lm),pL=af([pR,pU],(e,t)=>{if(null!=e)return om(e.innerRadius,t,0)}),pq=af([pR,pU],(e,t)=>{if(null!=e)return om(e.outerRadius,t,.8*t)}),pF=af([pR],e=>{if(null==e)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]});af([pM,pF],pN);var pG=af([pU,pL,pq],(e,t,r)=>{if(null!=e&&null!=t&&null!=r)return[t,r]});af([pD,pG],pN);var pB=af([st,pR,pL,pq,lC,lN],(e,t,r,n,i,a)=>{if(("centric"===e||"radial"===e)&&null!=t&&null!=r&&null!=n){var{cx:o,cy:l,startAngle:s,endAngle:c}=t;return{cx:om(o,i,i/2),cy:om(l,a,a/2),innerRadius:r,outerRadius:n,startAngle:s,endAngle:c,clockWise:!1}}}),pH=(e,t)=>t,pV=(e,t,r)=>r;function p$(e){return null==e?void 0:e.id}var pz=e=>{var t=st(e);return"horizontal"===t?"xAxis":"vertical"===t?"yAxis":"centric"===t?"angleAxis":"radiusAxis"},pK=e=>e.tooltip.settings.axisId,pJ=e=>{var t=pz(e),r=pK(e);return fr(e,t,r)},pY=af([pJ],e=>null==e?void 0:e.dataKey);function pW(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,o=new Map;return e.forEach(e=>{var t,r=null!=(t=e.data)?t:n;if(null!=r&&0!==r.length){var l=p$(e);r.forEach((t,r)=>{var n,s=null==a||i?r:String(lb(t,a,null)),c=lb(t,e.dataKey,0);Object.assign(n=o.has(s)?o.get(s):{},{[l]:c}),o.set(s,n)})}}),Array.from(o.values())}function pX(e){return null!=e.stackId&&null!=e.dataKey}var pZ=(e,t)=>e===t||null!=e&&null!=t&&e[0]===t[0]&&e[1]===t[1];function pQ(e,t){return!!(Array.isArray(e)&&Array.isArray(t))&&0===e.length&&0===t.length||e===t}function p0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p1(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p0(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p0(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var p2=[0,"auto"],p3={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},p4=(e,t)=>e.cartesianAxis.xAxis[t],p5=(e,t)=>{var r=p4(e,t);return null==r?p3:r},p6={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:p2,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},p8=(e,t)=>e.cartesianAxis.yAxis[t],p7=(e,t)=>{var r=p8(e,t);return null==r?p6:r},p9={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},fe=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return null==r?p9:r},ft=(e,t,r)=>{switch(t){case"xAxis":return p5(e,r);case"yAxis":return p7(e,r);case"zAxis":return fe(e,r);case"angleAxis":return pM(e,r);case"radiusAxis":return pD(e,r);default:throw Error("Unexpected axis type: ".concat(t))}},fr=(e,t,r)=>{switch(t){case"xAxis":return p5(e,r);case"yAxis":return p7(e,r);case"angleAxis":return pM(e,r);case"radiusAxis":return pD(e,r);default:throw Error("Unexpected axis type: ".concat(t))}},fn=e=>e.graphicalItems.cartesianItems.some(e=>"bar"===e.type)||e.graphicalItems.polarItems.some(e=>"radialBar"===e.type);function fi(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var fa=e=>e.graphicalItems.cartesianItems,fo=af([pH,pV],fi),fl=(e,t,r)=>e.filter(r).filter(e=>(null==t?void 0:t.includeHidden)===!0||!e.hide),fs=af([fa,ft,fo],fl,{memoizeOptions:{resultEqualityCheck:pQ}}),fc=af([fs],e=>e.filter(e=>"area"===e.type||"bar"===e.type).filter(pX)),fu=e=>e.filter(e=>!("stackId"in e)||void 0===e.stackId),fd=af([fs],fu),fp=e=>e.map(e=>e.data).filter(Boolean).flat(1),ff=af([fs],fp,{memoizeOptions:{resultEqualityCheck:pQ}}),fh=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},fm=af([ff,d9],fh),fg=(e,t,r)=>(null==t?void 0:t.dataKey)!=null?e.map(e=>({value:lb(e,t.dataKey)})):r.length>0?r.map(e=>e.dataKey).flatMap(t=>e.map(e=>({value:lb(e,t)}))):e.map(e=>({value:e})),fy=af([fm,ft,fs],fg);function fv(e,t){switch(e){case"xAxis":return"x"===t.direction;case"yAxis":return"y"===t.direction;default:return!1}}function fb(e){if(op(e)||e instanceof Date){var t=Number(e);if(lQ(t))return t}}function fx(e){if(Array.isArray(e)){var t=[fb(e[0]),fb(e[1])];return pe(t)?t:void 0}var r=fb(e);if(null!=r)return[r,r]}function fw(e){return e.map(fb).filter(d6)}var fO=af([fc,d9,pJ],pW),fE=(e,t,r)=>Object.fromEntries(Object.entries(t.reduce((e,t)=>(null==t.stackId||(null==e[t.stackId]&&(e[t.stackId]=[]),e[t.stackId].push(t)),e),{})).map(t=>{var n,[i,a]=t,o=a.map(p$);return[i,{stackedData:(n=lw[r],(function(){var e=lo([]),t=ls,r=ll,n=lc;function i(i){var a,o,l=Array.from(e.apply(this,arguments),lu),s=l.length,c=-1;for(let e of i)for(a=0,++c;a<s;++a)(l[a][c]=[0,+n(e,l[a].key,c,i)]).data=e;for(a=0,o=la(t(l));a<s;++a)l[o[a]].index=a;return r(l,o),l}return i.keys=function(t){return arguments.length?(e="function"==typeof t?t:lo(Array.from(t)),i):e},i.value=function(e){return arguments.length?(n="function"==typeof e?e:lo(+e),i):n},i.order=function(e){return arguments.length?(t=null==e?ls:"function"==typeof e?e:lo(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(r=null==e?ll:e,i):r},i})().keys(o).value((e,t)=>+lb(e,t,0)).order(ls).offset(n)(e)),graphicalItems:a}]})),fS=af([fO,fc,pO],fE),fA=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(null==n&&"zAxis"!==r){var o=((e,t,r)=>{if(null!=e){let n;return[(n=Object.keys(e).reduce((n,i)=>{var{stackedData:a}=e[i],o=a.reduce((e,n)=>{var i,a=[Math.min(...i=lg(n,t,r).flat(2).filter(od)),Math.max(...i)];return[Math.min(e[0],a[0]),Math.max(e[1],a[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))[0]===1/0?0:n[0],n[1]===-1/0?0:n[1]]}})(e,i,a);if(null==o||0!==o[0]||0!==o[1])return o}},fj=af([ft],e=>e.allowDataOverflow),f_=e=>{var t;if(null==e||!("domain"in e))return p2;if(null!=e.domain)return e.domain;if(null!=e.ticks){if("number"===e.type){var r=fw(e.ticks);return[Math.min(...r),Math.max(...r)]}if("category"===e.type)return e.ticks.map(String)}return null!=(t=null==e?void 0:e.domain)?t:p2},fC=af([ft],f_),fN=af([fC,fj],pr),fT=af([fS,d8,pH,fN],fA,{memoizeOptions:{resultEqualityCheck:pZ}}),fI=e=>e.errorBars,fP=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.filter(Boolean);if(0!==n.length){var i=n.flat();return[Math.min(...i),Math.max(...i)]}},fk=(e,t,r,n,i)=>{var a,o;if(r.length>0&&e.forEach(e=>{r.forEach(r=>{var l,s,c=null==(l=n[r.id])?void 0:l.filter(e=>fv(i,e)),u=lb(e,null!=(s=t.dataKey)?s:r.dataKey),d=!(!c||"number"!=typeof u||oc(u))&&c.length?fw(c.flatMap(t=>{var r,n,i=lb(e,t.dataKey);if(Array.isArray(i)?[r,n]=i:r=n=i,lQ(r)&&lQ(n))return[u-r,u+n]})):[];if(d.length>=2){var p=Math.min(...d),f=Math.max(...d);(null==a||p<a)&&(a=p),(null==o||f>o)&&(o=f)}var h=fx(u);null!=h&&(a=null==a?h[0]:Math.min(a,h[0]),o=null==o?h[1]:Math.max(o,h[1]))})}),(null==t?void 0:t.dataKey)!=null&&e.forEach(e=>{var r=fx(lb(e,t.dataKey));null!=r&&(a=null==a?r[0]:Math.min(a,r[0]),o=null==o?r[1]:Math.max(o,r[1]))}),lQ(a)&&lQ(o))return[a,o]},fM=af([fm,ft,fd,fI,pH],fk,{memoizeOptions:{resultEqualityCheck:pZ}});function fD(e){var{value:t}=e;if(op(t)||t instanceof Date)return t}var fR=e=>e.referenceElements.dots,fU=(e,t,r)=>e.filter(e=>"extendDomain"===e.ifOverflow).filter(e=>"xAxis"===t?e.xAxisId===r:e.yAxisId===r),fL=af([fR,pH,pV],fU),fq=e=>e.referenceElements.areas,fF=af([fq,pH,pV],fU),fG=e=>e.referenceElements.lines,fB=af([fG,pH,pV],fU),fH=(e,t)=>{var r=fw(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==r.length)return[Math.min(...r),Math.max(...r)]},fV=af(fL,pH,fH),f$=(e,t)=>{var r=fw(e.flatMap(e=>["xAxis"===t?e.x1:e.y1,"xAxis"===t?e.x2:e.y2]));if(0!==r.length)return[Math.min(...r),Math.max(...r)]},fz=af([fF,pH],f$),fK=(e,t)=>{var r=fw(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==r.length)return[Math.min(...r),Math.max(...r)]},fJ=af(fB,pH,fK),fY=af(fV,fJ,fz,(e,t,r)=>fP(e,r,t)),fW=(e,t,r,n,i,a,o,l)=>null!=r?r:function(e,t,r){if(r||null!=t){if("function"==typeof e&&null!=t)try{var n=e(t,r);if(pe(n))return pt(n,t,r)}catch(e){}if(Array.isArray(e)&&2===e.length){var i,a,[o,l]=e;if("auto"===o)null!=t&&(i=Math.min(...t));else if(od(o))i=o;else if("function"==typeof o)try{null!=t&&(i=o(null==t?void 0:t[0]))}catch(e){}else if("string"==typeof o&&lE.test(o)){var s=lE.exec(o);if(null==s||null==t)i=void 0;else{var c=+s[1];i=t[0]-c}}else i=null==t?void 0:t[0];if("auto"===l)null!=t&&(a=Math.max(...t));else if(od(l))a=l;else if("function"==typeof l)try{null!=t&&(a=l(null==t?void 0:t[1]))}catch(e){}else if("string"==typeof l&&lS.test(l)){var u=lS.exec(l);if(null==u||null==t)a=void 0;else{var d=+u[1];a=t[1]+d}}else a=null==t?void 0:t[1];var p=[i,a];if(pe(p))return null==t?p:pt(p,t,r)}}}(t,"vertical"===o&&"xAxis"===l||"horizontal"===o&&"yAxis"===l?fP(n,a,i):fP(a,i),e.allowDataOverflow),fX=af([ft,fC,fN,fT,fM,fY,st,pH],fW,{memoizeOptions:{resultEqualityCheck:pZ}}),fZ=[0,1],fQ=(e,t,r,n,i,a,o)=>{if(null!=e&&null!=r&&0!==r.length||void 0!==o){var l,{dataKey:s,type:c}=e,u=lx(t,a);return u&&null==s?(0,sn.default)(0,r.length):"category"===c?(l=n.map(fD).filter(e=>null!=e),u&&(null==e.dataKey||e.allowDuplicatedCategory&&og(l))?(0,sn.default)(0,n.length):e.allowDuplicatedCategory?l:Array.from(new Set(l))):"expand"===i?fZ:o}},f0=af([ft,st,fm,fy,pO,pH,fX],fQ),f1=(e,t,r,n,i)=>{if(null!=e){var{scale:a,type:o}=e;if("auto"===a)return"radial"===t&&"radiusAxis"===i?"band":"radial"===t&&"angleAxis"===i?"linear":"category"===o&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":"category"===o?"band":"linear";if("string"==typeof a){var l="scale".concat(ov(a));return l in d5?l:"point"}}},f2=af([ft,st,fn,pE,pH],f1);function f3(e,t,r,n){if(null!=r&&null!=n){if("function"==typeof e.scale)return e.scale.copy().domain(r).range(n);var i=function(e){if(null!=e){if(e in d5)return d5[e]();var t="scale".concat(ov(e));if(t in d5)return d5[t]()}}(t);if(null!=i){var a=i.domain(r).range(n);return(e=>{var t=e.domain();if(t&&!(t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-1e-4,a=Math.max(n[0],n[1])+1e-4,o=e(t[0]),l=e(t[r-1]);(o<i||o>a||l<i||l>a)&&e.domain([t[0],t[r-1]])}})(a),a}}}var f4=(e,t,r)=>{var n=f_(t);if("auto"===r||"linear"===r){if(null!=t&&t.tickCount&&Array.isArray(n)&&("auto"===n[0]||"auto"===n[1])&&pe(e))return pv(e,t.tickCount,t.allowDecimals);if(null!=t&&t.tickCount&&"number"===t.type&&pe(e))return pb(e,t.tickCount,t.allowDecimals)}},f5=af([f0,fr,f2],f4),f6=(e,t,r,n)=>"angleAxis"!==n&&(null==e?void 0:e.type)==="number"&&pe(t)&&Array.isArray(r)&&r.length>0?[Math.min(t[0],r[0]),Math.max(t[1],r[r.length-1])]:t,f8=af([ft,f0,f5,pH],f6),f7=af(fy,ft,(e,t)=>{if(t&&"number"===t.type){var r=1/0,n=Array.from(fw(e.map(e=>e.value))).sort((e,t)=>e-t);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(0===i)return 1/0;for(var a=0;a<n.length-1;a++)r=Math.min(r,n[a+1]-n[a]);return r/i}}),f9=af(f7,st,pw,lL,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!lQ(e))return 0;var a="vertical"===t?n.height:n.width;if("gap"===i)return e*a/2;if("no-gap"===i){var o=om(r,e*a),l=e*a/2;return l-o-(l-o)/a*o}return 0}),he=af(p5,(e,t)=>{var r=p5(e,t);return null==r||"string"!=typeof r.padding?0:f9(e,"xAxis",t,r.padding)},(e,t)=>{if(null==e)return{left:0,right:0};var r,n,{padding:i}=e;return"string"==typeof i?{left:t,right:t}:{left:(null!=(r=i.left)?r:0)+t,right:(null!=(n=i.right)?n:0)+t}}),ht=af(p7,(e,t)=>{var r=p7(e,t);return null==r||"string"!=typeof r.padding?0:f9(e,"yAxis",t,r.padding)},(e,t)=>{if(null==e)return{top:0,bottom:0};var r,n,{padding:i}=e;return"string"==typeof i?{top:t,bottom:t}:{top:(null!=(r=i.top)?r:0)+t,bottom:(null!=(n=i.bottom)?n:0)+t}}),hr=af([lL,he,lV,lH,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),hn=af([lL,st,ht,lV,lH,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:o}=i;return a?[n.height-o.bottom,o.top]:"horizontal"===t?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),hi=(e,t,r,n)=>{var i;switch(t){case"xAxis":return hr(e,r,n);case"yAxis":return hn(e,r,n);case"zAxis":return null==(i=fe(e,r))?void 0:i.range;case"angleAxis":return pF(e);case"radiusAxis":return pG(e,r);default:return}},ha=af([ft,hi],pN),ho=af([ft,f2,f8,ha],f3);function hl(e,t){return e.id<t.id?-1:+(e.id>t.id)}af([fs,fI,pH],(e,t,r)=>e.flatMap(e=>t[e.id]).filter(Boolean).filter(e=>fv(r,e)));var hs=(e,t)=>t,hc=(e,t,r)=>r,hu=af(lP,hs,hc,(e,t,r)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===r).sort(hl)),hd=af(lk,hs,hc,(e,t,r)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===r).sort(hl)),hp=(e,t)=>({width:e.width,height:t.height}),hf=af(lL,p5,hp),hh=af(lN,lL,hu,hs,hc,(e,t,r,n,i)=>{var a,o={};return r.forEach(r=>{var l=hp(t,r);null==a&&(a=((e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}})(t,n,e));var s="top"===n&&!i||"bottom"===n&&i;o[r.id]=a-Number(s)*l.height,a+=(s?-1:1)*l.height}),o}),hm=af(lC,lL,hd,hs,hc,(e,t,r,n,i)=>{var a,o={};return r.forEach(r=>{var l={width:"number"==typeof r.width?r.width:60,height:t.height};null==a&&(a=((e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}})(t,n,e));var s="left"===n&&!i||"right"===n&&i;o[r.id]=a-Number(s)*l.width,a+=(s?-1:1)*l.width}),o}),hg=af([lL,p5,(e,t)=>{var r=p5(e,t);if(null!=r)return hh(e,r.orientation,r.mirror)},(e,t)=>t],(e,t,r,n)=>{if(null!=t){var i=null==r?void 0:r[n];return null==i?{x:e.left,y:0}:{x:e.left,y:i}}}),hy=af([lL,p7,(e,t)=>{var r=p7(e,t);if(null!=r)return hm(e,r.orientation,r.mirror)},(e,t)=>t],(e,t,r,n)=>{if(null!=t){var i=null==r?void 0:r[n];return null==i?{x:0,y:e.top}:{x:i,y:e.top}}}),hv=af(lL,p7,(e,t)=>({width:"number"==typeof t.width?t.width:60,height:e.height})),hb=(e,t,r)=>{switch(t){case"xAxis":return hf(e,r).width;case"yAxis":return hv(e,r).height;default:return}},hx=(e,t,r,n)=>{if(null!=r){var{allowDuplicatedCategory:i,type:a,dataKey:o}=r,l=lx(e,n),s=t.map(e=>e.value);if(o&&l&&"category"===a&&i&&og(s))return s}},hw=af([st,fy,ft,pH],hx),hO=(e,t,r,n)=>{if(null!=r&&null!=r.dataKey){var{type:i,scale:a}=r;if(lx(e,n)&&("number"===i||"auto"!==a))return t.map(e=>e.value)}},hE=af([st,fy,fr,pH],hO);af([st,(e,t,r)=>{switch(t){case"xAxis":return p5(e,r);case"yAxis":return p7(e,r);default:throw Error("Unexpected axis type: ".concat(t))}},f2,ho,hw,hE,hi,f5,pH],(e,t,r,n,i,a,o,l,s)=>{if(null==t)return null;var c=lx(e,s);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:s,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:l,range:o,realScaleType:r,scale:n}});var hS=af([st,fr,f2,ho,f5,hi,hw,hE,pH],(e,t,r,n,i,a,o,l,s)=>{if(null!=t&&null!=n){var c=lx(e,s),{type:u,ticks:d,tickCount:p}=t,f="scaleBand"===r&&"function"==typeof n.bandwidth?n.bandwidth()/2:2,h="category"===u&&n.bandwidth?n.bandwidth()/f:0;h="angleAxis"===s&&null!=a&&a.length>=2?2*os(a[0]-a[1])*h:h;var m=d||i;return m?m.map((e,t)=>({index:t,coordinate:n(o?o.indexOf(e):e)+h,value:e,offset:h})).filter(e=>!oc(e.coordinate)):c&&l?l.map((e,t)=>({coordinate:n(e)+h,value:e,index:t,offset:h})):n.ticks?n.ticks(p).map(e=>({coordinate:n(e)+h,value:e,offset:h})):n.domain().map((e,t)=>({coordinate:n(e)+h,value:o?o[e]:e,index:t,offset:h}))}}),hA=af([st,fr,ho,hi,hw,hE,pH],(e,t,r,n,i,a,o)=>{if(null!=t&&null!=r&&null!=n&&n[0]!==n[1]){var l=lx(e,o),{tickCount:s}=t,c=0;return(c="angleAxis"===o&&(null==n?void 0:n.length)>=2?2*os(n[0]-n[1])*c:c,l&&a)?a.map((e,t)=>({coordinate:r(e)+c,value:e,index:t,offset:c})):r.ticks?r.ticks(s).map(e=>({coordinate:r(e)+c,value:e,offset:c})):r.domain().map((e,t)=>({coordinate:r(e)+c,value:i?i[e]:e,index:t,offset:c}))}}),hj=af(ft,ho,(e,t)=>{if(null!=e&&null!=t)return p1(p1({},e),{},{scale:t})}),h_=af([ft,f2,f0,ha],f3);af((e,t,r)=>fe(e,r),h_,(e,t)=>{if(null!=e&&null!=t)return p1(p1({},e),{},{scale:t})});var hC=af([st,lP,lk],(e,t,r)=>{switch(e){case"horizontal":return t.some(e=>e.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(e=>e.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),hN=e=>e.options.defaultTooltipEventType,hT=e=>e.options.validateTooltipEventTypes;function hI(e,t,r){if(null==e)return t;var n=e?"axis":"item";return null==r?t:r.includes(n)?n:t}function hP(e,t){return hI(t,hN(e),hT(e))}var hk=(e,t)=>{var r,n=Number(t);if(!oc(n)&&null!=t)return n>=0?null==e||null==(r=e[n])?void 0:r.value:void 0};function hM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function hD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hM(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var hR=(e,t,r,n)=>{if(null==t)return ok;var i,a,o,l=(i=e,a=t,o=r,"axis"===a?"click"===o?i.axisInteraction.click:i.axisInteraction.hover:"click"===o?i.itemInteraction.click:i.itemInteraction.hover);if(null==l)return ok;if(l.active)return l;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&null!=e.syncInteraction.index)return e.syncInteraction;var s=!0===e.settings.active;if(null!=l.index){if(s)return hD(hD({},l),{},{active:!0})}else if(null!=n)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return hD(hD({},ok),{},{coordinate:l.coordinate})},hU=(e,t)=>{var r=null==e?void 0:e.index;if(null==r)return null;var n=Number(r);if(!lQ(n))return r;var i=Infinity;return t.length>0&&(i=t.length-1),String(Math.max(0,Math.min(n,i)))},hL=(e,t,r,n,i,a,o,l)=>{if(null!=a&&null!=l){var s=o[0],c=null==s?void 0:l(s.positions,a);if(null!=c)return c;var u=null==i?void 0:i[Number(a)];if(u)if("horizontal"===r)return{x:u.coordinate,y:(n.top+t)/2};else return{x:(n.left+e)/2,y:u.coordinate}}},hq=(e,t,r,n)=>{var i;return"axis"===t?e.tooltipItemPayloads:0===e.tooltipItemPayloads.length?[]:null==(i="hover"===r?e.itemInteraction.hover.dataKey:e.itemInteraction.click.dataKey)&&null!=n?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(e=>{var t;return(null==(t=e.settings)?void 0:t.dataKey)===i})},hF=e=>e.options.tooltipPayloadSearcher,hG=e=>e.tooltip;function hB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function hH(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hB(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hB(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var hV=(e,t,r,n,i,a,o)=>{if(null!=t&&null!=a){var{chartData:l,computedData:s,dataStartIndex:c,dataEndIndex:u}=r;return e.reduce((e,r)=>{var d,p,f,{dataDefinedOnItem:h,settings:m}=r,g=null!=h?h:l,y=Array.isArray(g)?lg(g,c,u):g,v=null!=(d=null==m?void 0:m.dataKey)?d:n,b=null==m?void 0:m.nameKey;return Array.isArray(p=n&&Array.isArray(y)&&!Array.isArray(y[0])&&"axis"===o?function(e,t,r){if(e&&e.length)return e.find(e=>e&&("function"==typeof t?t(e):(0,ol.default)(e,t))===r)}(y,n,i):a(y,t,s,b))?p.forEach(t=>{var r=hH(hH({},m),{},{name:t.name,unit:t.unit,color:void 0,fill:void 0});e.push(lj({tooltipEntrySettings:r,dataKey:t.dataKey,payload:t.payload,value:lb(t.payload,t.dataKey),name:t.name}))}):e.push(lj({tooltipEntrySettings:m,dataKey:v,payload:p,value:lb(p,v),name:null!=(f=lb(p,b))?f:null==m?void 0:m.name})),e},[])}},h$=af([pJ,st,fn,pE,pz],f1),hz=af([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),hK=af([pz,pK],fi),hJ=af([hz,pJ,hK],fl,{memoizeOptions:{resultEqualityCheck:pQ}}),hY=af([hJ],e=>e.filter(pX)),hW=af([hJ],fp,{memoizeOptions:{resultEqualityCheck:pQ}}),hX=af([hW,d8],fh),hZ=af([hY,d8,pJ],pW),hQ=af([hX,pJ,hJ],fg),h0=af([pJ],f_),h1=af([pJ],e=>e.allowDataOverflow),h2=af([h0,h1],pr),h3=af([hJ],e=>e.filter(pX)),h4=af([hZ,h3,pO],fE),h5=af([h4,d8,pz,h2],fA),h6=af([hJ],fu),h8=af([hX,pJ,h6,fI,pz],fk,{memoizeOptions:{resultEqualityCheck:pZ}}),h7=af([fR,pz,pK],fU),h9=af([h7,pz],fH),me=af([fq,pz,pK],fU),mt=af([me,pz],f$),mr=af([fG,pz,pK],fU),mn=af([mr,pz],fK),mi=af([h9,mn,mt],fP),ma=af([pJ,h0,h2,h5,h8,mi,st,pz],fW),mo=af([pJ,st,hX,hQ,pO,pz,ma],fQ),ml=af([mo,pJ,h$],f4),ms=af([pJ,mo,ml,pz],f6),mc=e=>{var t=pz(e),r=pK(e);return hi(e,t,r,!1)},mu=af([pJ,mc],pN),md=af([pJ,h$,ms,mu],f3),mp=af([st,hQ,pJ,pz],hx),mf=af([st,hQ,pJ,pz],hO),mh=af([st,pJ,h$,md,mc,mp,mf,pz],(e,t,r,n,i,a,o,l)=>{if(t){var{type:s}=t,c=lx(e,l);if(n){var u="scaleBand"===r&&n.bandwidth?n.bandwidth()/2:2,d="category"===s&&n.bandwidth?n.bandwidth()/u:0;return(d="angleAxis"===l&&null!=i&&(null==i?void 0:i.length)>=2?2*os(i[0]-i[1])*d:d,c&&o)?o.map((e,t)=>({coordinate:n(e)+d,value:e,index:t,offset:d})):n.domain().map((e,t)=>({coordinate:n(e)+d,value:a?a[e]:e,index:t,offset:d}))}}}),mm=af([hN,hT,e=>e.tooltip.settings],(e,t,r)=>hI(r.shared,e,t)),mg=e=>e.tooltip.settings.trigger,my=e=>e.tooltip.settings.defaultIndex,mv=af([hG,mm,mg,my],hR),mb=af([mv,hX],hU),mx=af([mh,mb],hk),mw=af([mv],e=>{if(e)return e.dataKey}),mO=af([hG,mm,mg,my],hq),mE=af([lC,lN,st,lL,mh,my,mO,hF],hL),mS=af([mv,mE],(e,t)=>null!=e&&e.coordinate?e.coordinate:t),mA=af([mv],e=>e.active),mj=af([mO,mb,d8,pY,mx,hF,mm],hV);af([mj],e=>{if(null!=e)return Array.from(new Set(e.map(e=>e.payload).filter(e=>null!=e)))});var m_=(e,t)=>t,mC=(e,t,r)=>r,mN=(e,t,r,n)=>n,mT=af(mh,e=>(0,lr.default)(e,e=>e.coordinate)),mI=af([hG,m_,mC,mN],hR),mP=af([mI,hX],hU),mk=af([hG,m_,mC,mN],hq),mM=af([lC,lN,st,lL,mh,mN,mk,hF],hL),mD=af([mI,mM],(e,t)=>{var r;return null!=(r=e.coordinate)?r:t}),mR=af(mh,mP,hk),mU=af([mk,mP,d8,pY,mR,hF,m_],hV),mL=af([mI],e=>({isActive:e.active,activeIndex:e.index})),mq=af([(e,t)=>t,st,pB,pz,mu,mh,mT,lL],(e,t,r,n,i,a,o,l)=>{if(e&&t&&n&&i&&a){var s=(c=e.chartX,u=e.chartY,"horizontal"===t||"vertical"===t?c>=l.left&&c<=l.left+l.width&&u>=l.top&&u<=l.top+l.height?{x:c,y:u}:null:r?((e,t)=>{var r,{x:n,y:i}=e,{radius:a,angle:o}=((e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,o=((e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)})({x:r,y:n},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var l=Math.acos((r-i)/o);return n>a&&(l=2*Math.PI-l),{radius:o,angle:180*l/Math.PI,angleInRadian:l}})({x:n,y:i},t),{innerRadius:l,outerRadius:s}=t;if(a<l||a>s||0===a)return null;var{startAngle:c,endAngle:u}=(e=>{var{startAngle:t,endAngle:r}=e,n=Math.min(Math.floor(t/360),Math.floor(r/360));return{startAngle:t-360*n,endAngle:r-360*n}})(t),d=o;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;r=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;r=d>=u&&d<=c}return r?lp(lp({},t),{},{radius:a,angle:((e,t)=>{var{startAngle:r,endAngle:n}=t;return e+360*Math.min(Math.floor(r/360),Math.floor(n/360))})(d,t)}):null})({x:c,y:u},r):null);if(s){var c,u,d=((e,t,r,n,i)=>{var a,o=-1,l=null!=(a=null==t?void 0:t.length)?a:0;if(l<=1||null==e)return 0;if("angleAxis"===n&&null!=i&&1e-6>=Math.abs(Math.abs(i[1]-i[0])-360))for(var s=0;s<l;s++){var c=s>0?r[s-1].coordinate:r[l-1].coordinate,u=r[s].coordinate,d=s>=l-1?r[0].coordinate:r[s+1].coordinate,p=void 0;if(os(u-c)!==os(d-u)){var f=[];if(os(d-u)===os(i[1]-i[0])){p=d;var h=u+i[1]-i[0];f[0]=Math.min(h,(h+c)/2),f[1]=Math.max(h,(h+c)/2)}else{p=c;var m=d+i[1]-i[0];f[0]=Math.min(u,(m+u)/2),f[1]=Math.max(u,(m+u)/2)}var g=[Math.min(u,(p+u)/2),Math.max(u,(p+u)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){({index:o}=r[s]);break}}else{var y=Math.min(c,d),v=Math.max(c,d);if(e>(y+u)/2&&e<=(v+u)/2){({index:o}=r[s]);break}}}else if(t){for(var b=0;b<l;b++)if(0===b&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b>0&&b<l-1&&e>(t[b].coordinate+t[b-1].coordinate)/2&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b===l-1&&e>(t[b].coordinate+t[b-1].coordinate)/2){({index:o}=t[b]);break}}return o})("horizontal"===t?s.x:"vertical"===t?s.y:"centric"===t?s.angle:s.radius,o,a,n,i),p=((e,t,r,n)=>{var i=t.find(e=>e&&e.index===r);if(i){if("horizontal"===e)return{x:i.coordinate,y:n.y};if("vertical"===e)return{x:n.x,y:i.coordinate};if("centric"===e){var a=i.coordinate,{radius:o}=n;return lv(lv(lv({},n),lh(n.cx,n.cy,o,a)),{},{angle:a,radius:o})}var l=i.coordinate,{angle:s}=n;return lv(lv(lv({},n),lh(n.cx,n.cy,l,s)),{},{angle:s,radius:l})}return{x:0,y:0}})(t,a,d,s);return{activeIndex:String(d),activeCoordinate:p}}}}),mF=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},mG=aj("mouseClick"),mB=oa();mB.startListening({actionCreator:mG,effect:(e,t)=>{var r=e.payload,n=mq(t.getState(),mF(r));(null==n?void 0:n.activeIndex)!=null&&t.dispatch(oH({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var mH=aj("mouseMove"),mV=oa();function m$(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}function mz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function mK(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mz(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mz(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}mV.startListening({actionCreator:mH,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=hP(n,n.tooltip.settings.shared),a=mq(n,mF(r));"axis"===i&&((null==a?void 0:a.activeIndex)!=null?t.dispatch(oB({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(oF()))}});var mJ=aU({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:aI()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:aI()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:aI()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:aI()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:aI()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:aI()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var a=i.widthHistory||[];if(3===a.length&&a[0]===a[2]&&n===a[1]&&n!==i.width&&1>=Math.abs(n-a[0]))return;var o=[...a,n].slice(-3);e.yAxis[r]=mK(mK({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:mY,removeXAxis:mW,addYAxis:mX,removeYAxis:mZ,addZAxis:mQ,removeZAxis:m0,updateYAxisWidth:m1}=mJ.actions,m2=mJ.reducer,m3=aU({name:"graphicalItems",initialState:{cartesianItems:[],polarItems:[]},reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:aI()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=i4(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:aI()},removeCartesianGraphicalItem:{reducer(e,t){var r=i4(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:aI()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:aI()},removePolarGraphicalItem:{reducer(e,t){var r=i4(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:aI()}}}),{addCartesianGraphicalItem:m4,replaceCartesianGraphicalItem:m5,removeCartesianGraphicalItem:m6,addPolarGraphicalItem:m8,removePolarGraphicalItem:m7}=m3.actions,m9=m3.reducer,ge=aU({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=i4(e).dots.findIndex(e=>e===t.payload);-1!==r&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=i4(e).areas.findIndex(e=>e===t.payload);-1!==r&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=i4(e).lines.findIndex(e=>e===t.payload);-1!==r&&e.lines.splice(r,1)}}}),{addDot:gt,removeDot:gr,addArea:gn,removeArea:gi,addLine:ga,removeLine:go}=ge.actions,gl=ge.reducer,gs={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},gc=aU({name:"brush",initialState:gs,reducers:{setBrushSettings:(e,t)=>null==t.payload?gs:t.payload}}),{setBrushSettings:gu}=gc.actions,gd=gc.reducer,gp=aU({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:aI()},removeLegendPayload:{reducer(e,t){var r=i4(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:aI()}}}),{setLegendSize:gf,setLegendSettings:gh,addLegendPayload:gm,removeLegendPayload:gg}=gp.actions,gy=gp.reducer,gv={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},gb=aU({name:"rootProps",initialState:gv,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=null!=(r=t.payload.barGap)?r:gv.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),gx=gb.reducer,{updateOptions:gw}=gb.actions,gO=aU({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:gE,removeRadiusAxis:gS,addAngleAxis:gA,removeAngleAxis:gj}=gO.actions,g_=gO.reducer,gC=aU({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:gN}=gC.actions,gT=gC.reducer,gI=aj("keyDown"),gP=aj("focus"),gk=oa();gk.startListening({actionCreator:gI,effect:(e,t)=>{var r=t.getState();if(!1!==r.rootProps.accessibilityLayer){var{keyboardInteraction:n}=r.tooltip,i=e.payload;if("ArrowRight"===i||"ArrowLeft"===i||"Enter"===i){var a=Number(hU(n,hX(r))),o=mh(r);if("Enter"===i){var l=mM(r,"axis","hover",String(n.index));t.dispatch(o$({active:!n.active,activeIndex:n.index,activeDataKey:n.dataKey,activeCoordinate:l}));return}var s=a+("ArrowRight"===i?1:-1)*("left-to-right"===hC(r)?1:-1);if(null!=o&&!(s>=o.length)&&!(s<0)){var c=mM(r,"axis","hover",String(s));t.dispatch(o$({active:!0,activeIndex:s.toString(),activeDataKey:void 0,activeCoordinate:c}))}}}}}),gk.startListening({actionCreator:gP,effect:(e,t)=>{var r=t.getState();if(!1!==r.rootProps.accessibilityLayer){var{keyboardInteraction:n}=r.tooltip;if(!n.active&&null==n.index){var i=mM(r,"axis","hover",String("0"));t.dispatch(o$({activeDataKey:void 0,active:!0,activeIndex:"0",activeCoordinate:i}))}}}});var gM=aj("externalEvent"),gD=oa();gD.startListening({actionCreator:gM,effect:(e,t)=>{if(null!=e.payload.handler){var r=t.getState(),n={activeCoordinate:mS(r),activeDataKey:mw(r),activeIndex:mb(r),activeLabel:mx(r),activeTooltipIndex:mb(r),isTooltipActive:mA(r)};e.payload.handler(n,e.payload.reactEvent)}}});var gR=af([hG],e=>e.tooltipItemPayloads),gU=af([gR,hF,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(e=>e.settings.dataKey===n);if(null!=i){var{positions:a}=i;if(null!=a)return t(a,r)}}),gL=aj("touchMove"),gq=oa();gq.startListening({actionCreator:gL,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=hP(n,n.tooltip.settings.shared);if("axis"===i){var a=mq(n,mF({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(null==a?void 0:a.activeIndex)!=null&&t.dispatch(oB({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if("item"===i){var o,l=r.touches[0],s=document.elementFromPoint(l.clientX,l.clientY);if(!s||!s.getAttribute)return;var c=s.getAttribute(lM),u=null!=(o=s.getAttribute(lD))?o:void 0,d=gU(t.getState(),c,u);t.dispatch(oL({activeDataKey:u,activeIndex:c,activeCoordinate:d}))}}});var gF=aU({name:"errorBars",initialState:{},reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(e=>e.dataKey===n.dataKey&&e.direction===n.direction?i:e))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(e=>e.dataKey!==n.dataKey||e.direction!==n.direction))}}}),{addErrorBar:gG,replaceErrorBar:gB,removeErrorBar:gH}=gF.actions,gV=gF.reducer,g$={devToolsEnabled:!1,isSsr:!("undefined"!=typeof window&&window.document&&window.document.createElement&&window.setTimeout)},gz=ax({brush:gd,cartesianAxis:m2,chartData:oX,errorBars:gV,graphicalItems:m9,layout:o3,legend:gy,options:ow,polarAxis:g_,polarOptions:gT,referenceElements:gl,rootProps:gx,tooltip:oz}),gK=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart";return function(e){let t,r,n,i=function(e){let{thunk:t=!0,immutableCheck:r=!0,serializableCheck:n=!0,actionCreatorCheck:i=!0}=e??{},a=new a_;return t&&("boolean"==typeof t?a.push(aS):a.push(aE(t.extraArgument))),a},{reducer:a,middleware:o,devTools:l=!0,duplicateMiddlewareCheck:s=!0,preloadedState:c,enhancers:u}=e||{};if("function"==typeof a)t=a;else if(ab(a))t=ax(a);else throw Error(oo(1));r="function"==typeof o?o(i):i();let d=aw;l&&(d=aA({trace:!1,..."object"==typeof l&&l}));let p=(n=function(...e){return t=>(r,n)=>{let i=t(r,n),a=()=>{throw Error(am(15))},o={getState:i.getState,dispatch:(e,...t)=>a(e,...t)};return a=aw(...e.map(e=>e(o)))(i.dispatch),{...i,dispatch:a}}}(...r),function(e){let{autoBatch:t=!0}=e??{},r=new a_(n);return t&&r.push(ak("object"==typeof t?t:void 0)),r});return function e(t,r,n){if("function"!=typeof t)throw Error(am(2));if("function"==typeof r&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw Error(am(0));if("function"==typeof r&&void 0===n&&(n=r,r=void 0),void 0!==n){if("function"!=typeof n)throw Error(am(1));return n(e)(t,r)}let i=t,a=r,o=new Map,l=o,s=0,c=!1;function u(){l===o&&(l=new Map,o.forEach((e,t)=>{l.set(t,e)}))}function d(){if(c)throw Error(am(3));return a}function p(e){if("function"!=typeof e)throw Error(am(4));if(c)throw Error(am(5));let t=!0;u();let r=s++;return l.set(r,e),function(){if(t){if(c)throw Error(am(6));t=!1,u(),l.delete(r),o=null}}}function f(e){if(!ab(e))throw Error(am(7));if(void 0===e.type)throw Error(am(8));if("string"!=typeof e.type)throw Error(am(17));if(c)throw Error(am(9));try{c=!0,a=i(a,e)}finally{c=!1}return(o=l).forEach(e=>{e()}),e}return f({type:av.INIT}),{dispatch:f,subscribe:p,getState:d,replaceReducer:function(e){if("function"!=typeof e)throw Error(am(10));i=e,f({type:av.REPLACE})},[ag]:function(){return{subscribe(e){if("object"!=typeof e||null===e)throw Error(am(11));function t(){e.next&&e.next(d())}return t(),{unsubscribe:p(t)}},[ag](){return this}}}}}(t,c,d(..."function"==typeof u?u(p):p()))}({reducer:gz,preloadedState:e,middleware:e=>e({serializableCheck:!1}).concat([mB.middleware,mV.middleware,gk.middleware,gD.middleware,gq.middleware]),enhancers:e=>{var t=e;return"function"==typeof e&&(t=e()),t.concat(ak({type:"raf"}))},devTools:g$.devToolsEnabled&&{serialize:{replacer:m$},name:"recharts-".concat(t)}})};function gJ(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=lB(),a=(0,td.useRef)(null);return i?r:(null==a.current&&(a.current=gK(t,n)),td.createElement(oT,{context:o5,store:a.current},r))}var gY=e=>{var{chartData:t}=e,r=o8(),n=lB();return(0,td.useEffect)(()=>n?()=>{}:(r(oJ(t)),()=>{r(oJ(void 0))}),[t,r,n]),null};function gW(e){var{layout:t,margin:r}=e,n=o8(),i=lB();return(0,td.useEffect)(()=>{i||(n(o0(t)),n(oQ(r)))},[n,i,t,r]),null}function gX(e){var t=o8();return(0,td.useEffect)(()=>{t(gw(e))},[t,e]),null}function gZ(e){var t=o8();return(0,td.useEffect)(()=>{t(gN(e))},[t,e]),null}var gQ=()=>lt(e=>e.rootProps.accessibilityLayer),g0=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function g1(e){return"string"==typeof e&&g0.includes(e)}var g2=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function g3(e){return"string"==typeof e&&g2.includes(e)}function g4(e){return"string"==typeof e&&e.startsWith("data-")}function g5(e){return Object.fromEntries(Object.entries(e).filter(e=>{var[t]=e;return g3(t)||g4(t)}))}function g6(e){return null==e?null:(0,td.isValidElement)(e)&&"object"==typeof e.props&&null!==e.props?g5(e.props):"object"!=typeof e||Array.isArray(e)?null:g5(e)}function g8(e){return Object.fromEntries(Object.entries(e).filter(e=>{var[t]=e;return g3(t)||g4(t)||g1(t)}))}var g7=["children","width","height","viewBox","className","style","title","desc"];function g9(){return(g9=Object.assign.bind()).apply(null,arguments)}var ye=(0,td.forwardRef)((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:o,style:l,title:s,desc:c}=e,u=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,g7),d=a||{width:n,height:i,x:0,y:0},p=l$("recharts-surface",o);return td.createElement("svg",g9({},g8(u),{className:p,width:n,height:i,style:l,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),td.createElement("title",null,s),td.createElement("desc",null,c),r)}),yt=["children"];function yr(){return(yr=Object.assign.bind()).apply(null,arguments)}var yn={width:"100%",height:"100%",display:"block"},yi=(0,td.forwardRef)((e,t)=>{var r,n,i=lt(lC),a=lt(lN),o=gQ();if(!l0(i)||!l0(a))return null;var{children:l,otherAttributes:s,title:c,desc:u}=e;return r="number"==typeof s.tabIndex?s.tabIndex:o?0:void 0,n="string"==typeof s.role?s.role:o?"application":void 0,td.createElement(ye,yr({},s,{title:c,desc:u,role:n,tabIndex:r,width:i,height:a,style:yn,ref:t}),l)}),ya=e=>{var{children:t}=e,r=lt(lV);if(!r)return null;var{width:n,height:i,y:a,x:o}=r;return td.createElement(ye,{width:n,height:i,x:o,y:a},t)},yo=(0,td.forwardRef)((e,t)=>{var{children:r}=e,n=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,yt);return lB()?td.createElement(ya,null,r):td.createElement(yi,yr({ref:t},n),r)}),yl=new(e.i(78492)).default,ys="recharts.syncEvent.tooltip",yc="recharts.syncEvent.brush";function yu(e){return e.tooltip.syncInteraction}var yd=["x","y"];function yp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function yf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yp(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yp(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var yh=()=>{},ym=(0,td.createContext)(null),yg=(0,td.createContext)(null);function yy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function yv(){return(yv=Object.assign.bind()).apply(null,arguments)}var yb=()=>{var e,t,r,n,i,a,o,l,s,c,u,d;return e=o8(),(0,td.useEffect)(()=>{e(oO())},[e]),t=lt(pS),r=lt(pj),n=o8(),i=lt(pA),a=lt(mh),o=lt(st),l=l9(),s=lt(e=>e.rootProps.className),(0,td.useEffect)(()=>{if(null==t)return yh;var e=(e,s,c)=>{if(r!==c&&t===e){if("index"===i){if(l&&null!=s&&null!=(u=s.payload)&&u.coordinate&&s.payload.sourceViewBox){var u,d,p=s.payload.coordinate,{x:f,y:h}=p,m=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(p,yd),{x:g,y:y,width:v,height:b}=s.payload.sourceViewBox,x=yf(yf({},m),{},{x:l.x+(v?(f-g)/v:0)*l.width,y:l.y+(b?(h-y)/b:0)*l.height});n(yf(yf({},s),{},{payload:yf(yf({},s.payload),{},{coordinate:x})}))}else n(s);return}if(null!=a){if("function"==typeof i){var w=i(a,{activeTooltipIndex:null==s.payload.index?void 0:Number(s.payload.index),isTooltipActive:s.payload.active,activeIndex:null==s.payload.index?void 0:Number(s.payload.index),activeLabel:s.payload.label,activeDataKey:s.payload.dataKey,activeCoordinate:s.payload.coordinate});d=a[w]}else"value"===i&&(d=a.find(e=>String(e.value)===s.payload.label));var{coordinate:O}=s.payload;if(null==d||!1===s.payload.active||null==O||null==l)return void n(oV({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));var{x:E,y:S}=O,A=Math.min(E,l.x+l.width),j=Math.min(S,l.y+l.height),_={x:"horizontal"===o?d.coordinate:A,y:"horizontal"===o?j:d.coordinate};n(oV({active:s.payload.active,coordinate:_,dataKey:s.payload.dataKey,index:String(d.index),label:s.payload.label,sourceViewBox:s.payload.sourceViewBox}))}}};return yl.on(ys,e),()=>{yl.off(ys,e)}},[s,n,r,t,i,a,o,l]),c=lt(pS),u=lt(pj),d=o8(),(0,td.useEffect)(()=>{if(null==c)return yh;var e=(e,t,r)=>{u!==r&&c===e&&d(oY(t))};return yl.on(yc,e),()=>{yl.off(yc,e)}},[d,u,c]),null};function yx(e){if("number"==typeof e)return e;if("string"==typeof e){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var yw=(0,td.forwardRef)((e,t)=>{var r,n,i=(0,td.useRef)(null),[a,o]=(0,td.useState)({containerWidth:yx(null==(r=e.style)?void 0:r.width),containerHeight:yx(null==(n=e.style)?void 0:n.height)}),l=(0,td.useCallback)((e,t)=>{o(r=>{var n=Math.round(e),i=Math.round(t);return r.containerWidth===n&&r.containerHeight===i?r:{containerWidth:n,containerHeight:i}})},[]),s=(0,td.useCallback)(e=>{if("function"==typeof t&&t(e),null!=e){var{width:r,height:n}=e.getBoundingClientRect();l(r,n);var a=new ResizeObserver(e=>{var{width:t,height:r}=e[0].contentRect;l(t,r)});a.observe(e),i.current=a}},[t,l]);return(0,td.useEffect)(()=>()=>{var e=i.current;null!=e&&e.disconnect()},[l]),td.createElement(td.Fragment,null,td.createElement(sr,{width:a.containerWidth,height:a.containerHeight}),td.createElement("div",yv({ref:s},e)))}),yO=(0,td.forwardRef)((e,t)=>{var{width:r,height:n}=e,[i,a]=(0,td.useState)({containerWidth:yx(r),containerHeight:yx(n)}),o=(0,td.useCallback)((e,t)=>{a(r=>{var n=Math.round(e),i=Math.round(t);return r.containerWidth===n&&r.containerHeight===i?r:{containerWidth:n,containerHeight:i}})},[]),l=(0,td.useCallback)(e=>{if("function"==typeof t&&t(e),null!=e){var{width:r,height:n}=e.getBoundingClientRect();o(r,n)}},[t,o]);return td.createElement(td.Fragment,null,td.createElement(sr,{width:i.containerWidth,height:i.containerHeight}),td.createElement("div",yv({ref:l},e)))}),yE=(0,td.forwardRef)((e,t)=>{var{width:r,height:n}=e;return td.createElement(td.Fragment,null,td.createElement(sr,{width:r,height:n}),td.createElement("div",yv({ref:t},e)))}),yS=(0,td.forwardRef)((e,t)=>{var{width:r,height:n}=e;return ou(r)||ou(n)?td.createElement(yO,yv({},e,{ref:t})):td.createElement(yE,yv({},e,{ref:t}))}),yA=(0,td.forwardRef)((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:o,onDoubleClick:l,onMouseDown:s,onMouseEnter:c,onMouseLeave:u,onMouseMove:d,onMouseUp:p,onTouchEnd:f,onTouchMove:h,onTouchStart:m,style:g,width:y,responsive:v,dispatchTouchEvents:b=!0}=e,x=(0,td.useRef)(null),w=o8(),[O,E]=(0,td.useState)(null),[S,A]=(0,td.useState)(null),j=function(){var e=o8(),[t,r]=(0,td.useState)(null),n=lt(lT);return(0,td.useEffect)(()=>{if(null!=t){var r=t.getBoundingClientRect().width/t.offsetWidth;lQ(r)&&r!==n&&e(o2(r))}},[t,e,n]),r}(),_=l6(),C=(null==_?void 0:_.width)>0?_.width:y,N=(null==_?void 0:_.height)>0?_.height:i,T=(0,td.useCallback)(e=>{j(e),"function"==typeof t&&t(e),E(e),A(e),null!=e&&(x.current=e)},[j,t,E,A]),I=(0,td.useCallback)(e=>{w(mG(e)),w(gM({handler:a,reactEvent:e}))},[w,a]),P=(0,td.useCallback)(e=>{w(mH(e)),w(gM({handler:c,reactEvent:e}))},[w,c]),k=(0,td.useCallback)(e=>{w(oF()),w(gM({handler:u,reactEvent:e}))},[w,u]),M=(0,td.useCallback)(e=>{w(mH(e)),w(gM({handler:d,reactEvent:e}))},[w,d]),D=(0,td.useCallback)(()=>{w(gP())},[w]),R=(0,td.useCallback)(e=>{w(gI(e.key))},[w]),U=(0,td.useCallback)(e=>{w(gM({handler:o,reactEvent:e}))},[w,o]),L=(0,td.useCallback)(e=>{w(gM({handler:l,reactEvent:e}))},[w,l]),q=(0,td.useCallback)(e=>{w(gM({handler:s,reactEvent:e}))},[w,s]),F=(0,td.useCallback)(e=>{w(gM({handler:p,reactEvent:e}))},[w,p]),G=(0,td.useCallback)(e=>{w(gM({handler:m,reactEvent:e}))},[w,m]),B=(0,td.useCallback)(e=>{b&&w(gL(e)),w(gM({handler:h,reactEvent:e}))},[w,b,h]),H=(0,td.useCallback)(e=>{w(gM({handler:f,reactEvent:e}))},[w,f]);return td.createElement(ym.Provider,{value:O},td.createElement(yg.Provider,{value:S},td.createElement(!0===v?yw:yS,{width:null!=C?C:null==g?void 0:g.width,height:null!=N?N:null==g?void 0:g.height,className:l$("recharts-wrapper",n),style:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yy(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yy(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({position:"relative",cursor:"default",width:C,height:N},g),onClick:I,onContextMenu:U,onDoubleClick:L,onFocus:D,onKeyDown:R,onMouseDown:q,onMouseEnter:P,onMouseLeave:k,onMouseMove:M,onMouseUp:F,onTouchEnd:H,onTouchMove:B,onTouchStart:G,ref:T},td.createElement(yb,null),r)))}),yj=af([lL],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),y_=af([yj,lC,lN],(e,t,r)=>{if(e&&null!=t&&null!=r)return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),yC=(0,td.createContext)(void 0),yN=e=>{var{children:t}=e,[r]=(0,td.useState)("".concat(oh("recharts"),"-clip")),n=lt(y_);if(null==n)return null;var{x:i,y:a,width:o,height:l}=n;return td.createElement(yC.Provider,{value:r},td.createElement("defs",null,td.createElement("clipPath",{id:r},td.createElement("rect",{x:i,y:a,height:l,width:o}))),t)},yT=["width","height","responsive","children","className","style","compact","title","desc"],yI=(0,td.forwardRef)((e,t)=>{var{width:r,height:n,responsive:i,children:a,className:o,style:l,compact:s,title:c,desc:u}=e,d=g5(function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,yT));return s?td.createElement(td.Fragment,null,td.createElement(sr,{width:r,height:n}),td.createElement(yo,{otherAttributes:d,title:c,desc:u},a)):td.createElement(yA,{className:o,style:l,width:r,height:n,responsive:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},td.createElement(yo,{otherAttributes:d,title:c,desc:u,ref:t},td.createElement(yN,null,a)))});function yP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function yk(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yP(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yP(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e);return Object.keys(t).reduce((e,r)=>(void 0===e[r]&&void 0!==t[r]&&(e[r]=t[r]),e),r)}var yM=["layout"];function yD(){return(yD=Object.assign.bind()).apply(null,arguments)}var yR={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},yU=(0,td.forwardRef)(function(e,t){var r,n=yk(e.categoricalChartProps,yR),{layout:i}=n,a=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(n,yM),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:s,tooltipPayloadSearcher:c}=e;return td.createElement(gJ,{preloadedState:{options:{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:s,tooltipPayloadSearcher:c,eventEmitter:void 0}},reduxStoreName:null!=(r=n.id)?r:o},td.createElement(gY,{chartData:n.data}),td.createElement(gW,{layout:i,margin:n.margin}),td.createElement(gX,{accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),td.createElement(gZ,{cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius}),td.createElement(yI,yD({},a,{ref:t})))}),yL=["item"],yq={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},yF=(0,td.forwardRef)((e,t)=>{var r=yk(e,yq);return td.createElement(yU,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:yL,tooltipPayloadSearcher:ob,categoricalChartProps:r,ref:t})}),yG=e=>e.graphicalItems.polarItems,yB=af([pH,pV],fi),yH=af([yG,ft,yB],fl),yV=af([yH],fp),y$=af([yV,d7],fh),yz=af([y$,ft,yH],fg);af([y$,ft,yH],(e,t,r)=>r.length>0?e.flatMap(e=>r.flatMap(r=>{var n;return{value:lb(e,null!=(n=t.dataKey)?n:r.dataKey),errorDomain:[]}})).filter(Boolean):(null==t?void 0:t.dataKey)!=null?e.map(e=>({value:lb(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]})));var yK=()=>void 0,yJ=af([y$,ft,yH,fI,pH],fk),yY=af([ft,fC,fN,yK,yJ,yK,st,pH],fW),yW=af([ft,st,y$,yz,pO,pH,yY],fQ),yX=af([yW,ft,f2],f4);function yZ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function yQ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yZ(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yZ(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}af([ft,yW,yX,pH],f6);var y0=af([yG,(e,t)=>t],(e,t)=>e.filter(e=>"pie"===e.type).find(e=>e.id===t)),y1=[],y2=(e,t,r)=>(null==r?void 0:r.length)===0?y1:r,y3=af([d7,y0,y2],(e,t,r)=>{var n,{chartData:i}=e;if(null!=t&&((n=(null==t?void 0:t.data)!=null&&t.data.length>0?t.data:i)&&n.length||null==r||(n=r.map(e=>yQ(yQ({},t.presentationProps),e.props))),null!=n))return n}),y4=af([y3,y0,y2],(e,t,r)=>{if(null!=e&&null!=t)return e.map((e,n)=>{var i,a,o=lb(e,t.nameKey,t.name);return a=null!=r&&null!=(i=r[n])&&null!=(i=i.props)&&i.fill?r[n].props.fill:"object"==typeof e&&null!=e&&"fill"in e?e.fill:t.fill,{value:l_(o,t.dataKey),color:a,payload:e,type:t.legendType}})}),y5=af([y3,y0,y2,lL],(e,t,r,n)=>{if(null!=t&&null!=e)return function(e){var t,r,n,{pieSettings:i,displayedData:a,cells:o,offset:l}=e,{cornerRadius:s,startAngle:c,endAngle:u,dataKey:d,nameKey:p,tooltipType:f}=i,h=Math.abs(i.minAngle),m=os(u-c)*Math.min(Math.abs(u-c),360),g=Math.abs(m),y=a.length<=1?0:null!=(t=i.paddingAngle)?t:0,v=a.filter(e=>0!==lb(e,d,0)).length,b=g-v*h-(g>=360?v:v-1)*y,x=a.reduce((e,t)=>{var r=lb(t,d,0);return e+(od(r)?r:0)},0);return x>0&&(r=a.map((e,t)=>{var r,a=lb(e,d,0),u=lb(e,p,t),g=((e,t,r)=>{var n,{top:i,left:a,width:o,height:l}=t,s=lm(o,l),c=a+om(e.cx,o,o/2),u=i+om(e.cy,l,l/2),d=om(e.innerRadius,s,0);return{cx:c,cy:u,innerRadius:d,outerRadius:(n=e.outerRadius,"function"==typeof n?om(n(r),s,.8*s):om(n,s,.8*s)),maxRadius:e.maxRadius||Math.sqrt(o*o+l*l)/2}})(i,l,e),v=(od(a)?a:0)/x,w=x0(x0({},e),o&&o[t]&&o[t].props),O=(r=t?n.endAngle+os(m)*y*(0!==a):c)+os(m)*((0!==a?h:0)+v*b),E=(r+O)/2,S=(g.innerRadius+g.outerRadius)/2,A=[{name:u,value:a,payload:w,dataKey:d,type:f}],j=lh(g.cx,g.cy,S,E);return n=x0(x0(x0(x0({},i.presentationProps),{},{percent:v,cornerRadius:s,name:u,tooltipPayload:A,midAngle:E,middleRadius:S,tooltipPosition:j},w),g),{},{value:a,startAngle:r,endAngle:O,payload:w,paddingAngle:os(m)*y})})),r}({offset:n,pieSettings:t,displayedData:e,cells:r})}),y6=["children","className"];function y8(){return(y8=Object.assign.bind()).apply(null,arguments)}var y7=td.forwardRef((e,t)=>{var{children:r,className:n}=e,i=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,y6),a=l$("recharts-layer",n);return td.createElement("g",y8({className:a},g8(i),{ref:t}),r)});function y9(e){this._context=e}function ve(e){return new y9(e)}y9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e*=1,t*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};let vt=Math.PI,vr=2*vt,vn=vr-1e-6;function vi(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}class va{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?vi:function(e){let t=Math.floor(e);if(!(t>=0))throw Error(`invalid digits: ${e}`);if(t>15)return vi;let r=10**t;return function(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=Math.round(arguments[t]*r)/r+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,n){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+n}`}bezierCurveTo(e,t,r,n,i,a){this._append`C${+e},${+t},${+r},${+n},${this._x1=+i},${this._y1=+a}`}arcTo(e,t,r,n,i){if(e*=1,t*=1,r*=1,n*=1,(i*=1)<0)throw Error(`negative radius: ${i}`);let a=this._x1,o=this._y1,l=r-e,s=n-t,c=a-e,u=o-t,d=c*c+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>1e-6)if(Math.abs(u*l-s*c)>1e-6&&i){let p=r-a,f=n-o,h=l*l+s*s,m=Math.sqrt(h),g=Math.sqrt(d),y=i*Math.tan((vt-Math.acos((h+d-(p*p+f*f))/(2*m*g)))/2),v=y/g,b=y/m;Math.abs(v-1)>1e-6&&this._append`L${e+v*c},${t+v*u}`,this._append`A${i},${i},0,0,${+(u*p>c*f)},${this._x1=e+b*l},${this._y1=t+b*s}`}else this._append`L${this._x1=e},${this._y1=t}`}arc(e,t,r,n,i,a){if(e*=1,t*=1,r*=1,a=!!a,r<0)throw Error(`negative radius: ${r}`);let o=r*Math.cos(n),l=r*Math.sin(n),s=e+o,c=t+l,u=1^a,d=a?n-i:i-n;null===this._x1?this._append`M${s},${c}`:(Math.abs(this._x1-s)>1e-6||Math.abs(this._y1-c)>1e-6)&&this._append`L${s},${c}`,r&&(d<0&&(d=d%vr+vr),d>vn?this._append`A${r},${r},0,1,${u},${e-o},${t-l}A${r},${r},0,1,${u},${this._x1=s},${this._y1=c}`:d>1e-6&&this._append`A${r},${r},0,${+(d>=vt)},${u},${this._x1=e+r*Math.cos(i)},${this._y1=t+r*Math.sin(i)}`)}rect(e,t,r,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r*=1}v${+n}h${-r}Z`}toString(){return this._}}function vo(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(null==r)t=null;else{let e=Math.floor(r);if(!(e>=0))throw RangeError(`invalid digits: ${r}`);t=e}return e},()=>new va(t)}function vl(e){return e[0]}function vs(e){return e[1]}function vc(e,t){var r=lo(!0),n=null,i=ve,a=null,o=vo(l);function l(l){var s,c,u,d=(l=la(l)).length,p=!1;for(null==n&&(a=i(u=o())),s=0;s<=d;++s)!(s<d&&r(c=l[s],s,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+e(c,s,l),+t(c,s,l));if(u)return a=null,u+""||null}return e="function"==typeof e?e:void 0===e?vl:lo(e),t="function"==typeof t?t:void 0===t?vs:lo(t),l.x=function(t){return arguments.length?(e="function"==typeof t?t:lo(+t),l):e},l.y=function(e){return arguments.length?(t="function"==typeof e?e:lo(+e),l):t},l.defined=function(e){return arguments.length?(r="function"==typeof e?e:lo(!!e),l):r},l.curve=function(e){return arguments.length?(i=e,null!=n&&(a=i(n)),l):i},l.context=function(e){return arguments.length?(null==e?n=a=null:a=i(n=e),l):n},l}function vu(e,t,r){var n=null,i=lo(!0),a=null,o=ve,l=null,s=vo(c);function c(c){var u,d,p,f,h,m=(c=la(c)).length,g=!1,y=Array(m),v=Array(m);for(null==a&&(l=o(h=s())),u=0;u<=m;++u){if(!(u<m&&i(f=c[u],u,c))===g)if(g=!g)d=u,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=u-1;p>=d;--p)l.point(y[p],v[p]);l.lineEnd(),l.areaEnd()}g&&(y[u]=+e(f,u,c),v[u]=+t(f,u,c),l.point(n?+n(f,u,c):y[u],r?+r(f,u,c):v[u]))}if(h)return l=null,h+""||null}function u(){return vc().defined(i).curve(o).context(a)}return e="function"==typeof e?e:void 0===e?vl:lo(+e),t="function"==typeof t?t:void 0===t?lo(0):lo(+t),r="function"==typeof r?r:void 0===r?vs:lo(+r),c.x=function(t){return arguments.length?(e="function"==typeof t?t:lo(+t),n=null,c):e},c.x0=function(t){return arguments.length?(e="function"==typeof t?t:lo(+t),c):e},c.x1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:lo(+e),c):n},c.y=function(e){return arguments.length?(t="function"==typeof e?e:lo(+e),r=null,c):t},c.y0=function(e){return arguments.length?(t="function"==typeof e?e:lo(+e),c):t},c.y1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:lo(+e),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(e){return arguments.length?(i="function"==typeof e?e:lo(!!e),c):i},c.curve=function(e){return arguments.length?(o=e,null!=a&&(l=o(a)),c):o},c.context=function(e){return arguments.length?(null==e?a=l=null:l=o(a=e),c):a},c}function vd(){}function vp(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function vf(e){this._context=e}function vh(e){this._context=e}function vm(e){this._context=e}va.prototype,vf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:vp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e*=1,t*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:vp(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},vh.prototype={areaStart:vd,areaEnd:vd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e*=1,t*=1,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:vp(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},vm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e*=1,t*=1,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:vp(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class vg{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e*=1,t*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function vy(e){this._context=e}vy.prototype={areaStart:vd,areaEnd:vd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e*=1,t*=1,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function vv(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0);return((a<0?-1:1)+(o<0?-1:1))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs((a*i+o*n)/(n+i)))||0}function vb(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function vx(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,l=(a-n)/3;e._context.bezierCurveTo(n+l,i+l*t,a-l,o-l*r,a,o)}function vw(e){this._context=e}function vO(e){this._context=new vE(e)}function vE(e){this._context=e}function vS(e){this._context=e}function vA(e){var t,r,n=e.length-1,i=Array(n),a=Array(n),o=Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(t=0,a[n-1]=(e[n]+i[n-1])/2;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function vj(e,t){this._context=e,this._t=t}vw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:vx(this,this._t0,vb(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(t*=1,(e*=1)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,vx(this,vb(this,r=vv(this,e,t)),r);break;default:vx(this,this._t0,r=vv(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}},(vO.prototype=Object.create(vw.prototype)).point=function(e,t){vw.prototype.point.call(this,t,e)},vE.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}},vS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===r)this._context.lineTo(e[1],t[1]);else for(var n=vA(e),i=vA(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||0!==this._line&&1===r)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},vj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e*=1,t*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}}this._x=e,this._y=t}};var v_=(e,t,r)=>{if(null===e||"object"!=typeof e&&"function"!=typeof e)return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];g1(i)&&"function"==typeof a&&(n||(n={}),n[i]=e=>(a(t,r,e),null))}),n};function vC(){return(vC=Object.assign.bind()).apply(null,arguments)}function vN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function vT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vN(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var vI={curveBasisClosed:function(e){return new vh(e)},curveBasisOpen:function(e){return new vm(e)},curveBasis:function(e){return new vf(e)},curveBumpX:function(e){return new vg(e,!0)},curveBumpY:function(e){return new vg(e,!1)},curveLinearClosed:function(e){return new vy(e)},curveLinear:ve,curveMonotoneX:function(e){return new vw(e)},curveMonotoneY:function(e){return new vO(e)},curveNatural:function(e){return new vS(e)},curveStep:function(e){return new vj(e,.5)},curveStepAfter:function(e){return new vj(e,1)},curveStepBefore:function(e){return new vj(e,0)}},vP=e=>lQ(e.x)&&lQ(e.y),vk=e=>e.x,vM=e=>e.y,vD=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var a=r&&r.length?(e=>{var t,{type:r="linear",points:n=[],baseLine:i,layout:a,connectNulls:o=!1}=e,l=((e,t)=>{if("function"==typeof e)return e;var r="curve".concat(ov(e));return("curveMonotone"===r||"curveBump"===r)&&t?vI["".concat(r).concat("vertical"===t?"Y":"X")]:vI[r]||ve})(r,a),s=o?n.filter(vP):n;if(Array.isArray(i)){var c=o?i.filter(e=>vP(e)):i,u=s.map((e,t)=>vT(vT({},e),{},{base:c[t]}));return(t="vertical"===a?vu().y(vM).x1(vk).x0(e=>e.base.x):vu().x(vk).y1(vM).y0(e=>e.base.y)).defined(vP).curve(l),t(u)}return(t="vertical"===a&&od(i)?vu().y(vM).x1(vk).x0(i):od(i)?vu().x(vk).y1(vM).y0(i):vc().x(vk).y(vM)).defined(vP).curve(l),t(s)})(e):n;return td.createElement("path",vC({},g5(e),((e,t)=>{if(!e||"function"==typeof e||"boolean"==typeof e)return null;var r=e;if((0,td.isValidElement)(e)&&(r=e.props),"object"!=typeof r&&"function"!=typeof r)return null;var n={};return Object.keys(r).forEach(e=>{g1(e)&&(n[e]=t||(t=>r[e](r,t)))}),n})(e),{className:l$("recharts-curve",t),d:null===a?void 0:a,ref:i}))};function vR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var vU=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vR(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vR(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},{cacheSize:2e3,enableCache:!0}),vL=new class{constructor(e){!function(e,t,r){var n;(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return void 0!==t&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}(vU.cacheSize),vq={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},vF="recharts_measurement_span",vG=(e,t)=>{try{var r=document.getElementById(vF);r||((r=document.createElement("span")).setAttribute("id",vF),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,vq,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch(e){return{width:0,height:0}}},vB=function(e){var t,r,n,i,a,o,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e||g$.isSsr)return{width:0,height:0};if(!vU.enableCache)return vG(e,l);var s=(t=l.fontSize||"",r=l.fontFamily||"",n=l.fontWeight||"",i=l.fontStyle||"",a=l.letterSpacing||"",o=l.textTransform||"","".concat(e,"|").concat(t,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(o)),c=vL.get(s);if(c)return c;var u=vG(e,l);return vL.set(s,u),u},vH=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,vV=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,v$=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,vz=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,vK={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},vJ=Object.keys(vK);class vY{static parse(e){var t,[,r,n]=null!=(t=vz.exec(e))?t:[];return new vY(parseFloat(r),null!=n?n:"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,oc(e)&&(this.unit=""),""===t||v$.test(t)||(this.num=NaN,this.unit=""),vJ.includes(t)&&(this.num=e*vK[t],this.unit="px")}add(e){return this.unit!==e.unit?new vY(NaN,""):new vY(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new vY(NaN,""):new vY(this.num-e.num,this.unit)}multiply(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new vY(NaN,""):new vY(this.num*e.num,this.unit||e.unit)}divide(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new vY(NaN,""):new vY(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return oc(this.num)}}function vW(e){if(e.includes("NaN"))return"NaN";for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=null!=(r=vH.exec(t))?r:[],o=vY.parse(null!=n?n:""),l=vY.parse(null!=a?a:""),s="*"===i?o.multiply(l):o.divide(l);if(s.isNaN())return"NaN";t=t.replace(vH,s.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,d,p]=null!=(c=vV.exec(t))?c:[],f=vY.parse(null!=u?u:""),h=vY.parse(null!=p?p:""),m="+"===d?f.add(h):f.subtract(h);if(m.isNaN())return"NaN";t=t.replace(vV,m.toString())}return t}var vX=/\(([^()]*)\)/;function vZ(e){var t=function(e){try{var t;return t=e.replace(/\s+/g,""),t=function(e){for(var t,r=e;null!=(t=vX.exec(r));){var[,n]=t;r=r.replace(vX,vW(n))}return r}(t),t=vW(t)}catch(e){return"NaN"}}(e.slice(5,-1));return"NaN"===t?"":t}var vQ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],v0=["dx","dy","angle","className","breakAll"];function v1(){return(v1=Object.assign.bind()).apply(null,arguments)}function v2(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var v3=/[ \f\n\r\t\v\u2028\u2029]+/,v4=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];null!=t&&(i=r?t.toString().split(""):t.toString().split(v3));var a=i.map(e=>({word:e,width:vB(e,n).width})),o=r?0:vB("",n).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch(e){return null}},v5=e=>[{words:null==e?[]:e.toString().split(v3)}],v6="#808080",v8=(0,td.forwardRef)((e,t)=>{var r,{x:n=0,y:i=0,lineHeight:a="1em",capHeight:o="0.71em",scaleToFit:l=!1,textAnchor:s="start",verticalAnchor:c="end",fill:u=v6}=e,d=v2(e,vQ),p=(0,td.useMemo)(()=>(e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:o}=e;if((t||r)&&!g$.isSsr){var l=v4({breakAll:a,children:n,style:i});if(!l)return v5(n);var{wordsWithComputedWidth:s,spaceWidth:c}=l;return((e,t,r,n,i)=>{var a,{maxLines:o,children:l,style:s,breakAll:c}=e,u=od(o),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((e,t)=>{var{word:a,width:o}=t,l=e[e.length-1];return l&&(null==n||i||l.width+o+r<Number(n))?(l.words.push(a),l.width+=o+r):e.push({words:[a],width:o}),e},[])},p=d(t),f=e=>e.reduce((e,t)=>e.width>t.width?e:t);if(!u||i||!(p.length>o||f(p).width>Number(n)))return p;for(var h=e=>{var t=d(v4({breakAll:c,style:s,children:l.slice(0,e)+""}).wordsWithComputedWidth);return[t.length>o||f(t).width>Number(n),t]},m=0,g=l.length-1,y=0;m<=g&&y<=l.length-1;){var v=Math.floor((m+g)/2),[b,x]=h(v-1),[w]=h(v);if(b||w||(m=v+1),b&&w&&(g=v-1),!b&&w){a=x;break}y++}return a||p})({breakAll:a,children:n,maxLines:o,style:i},s,c,t,r)}return v5(n)})({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:l,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,l,d.style,d.width]),{dx:f,dy:h,angle:m,className:g,breakAll:y}=d,v=v2(d,v0);if(!op(n)||!op(i)||0===p.length)return null;var b=n+(od(f)?f:0),x=i+(od(h)?h:0);switch(c){case"start":r=vZ("calc(".concat(o,")"));break;case"middle":r=vZ("calc(".concat((p.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:r=vZ("calc(".concat(p.length-1," * -").concat(a,")"))}var w=[];if(l){var O=p[0].width,{width:E}=d;w.push("scale(".concat(od(E)?E/O:1,")"))}return m&&w.push("rotate(".concat(m,", ").concat(b,", ").concat(x,")")),w.length&&(v.transform=w.join(" ")),td.createElement("text",v1({},g8(v),{ref:t,x:b,y:x,className:l$("recharts-text",g),textAnchor:s,fill:u.includes("url")?v6:u}),p.map((e,t)=>{var n=e.words.join(y?"":" ");return td.createElement("tspan",{x:b,dy:0===t?r:a,key:"".concat(n,"-").concat(t)},n)}))});v8.displayName="Text";var v7=e=>null;v7.displayName="Cell";var v9=e.i(35313),be=e=>"string"==typeof e?e:e?e.displayName||e.name||"Component":"",bt=null,br=null,bn=e=>{if(e===bt&&Array.isArray(br))return br;var t=[];return td.Children.forEach(e,e=>{null!=e&&((0,v9.isFragment)(e)?t=t.concat(bn(e.props.children)):t.push(e))}),br=t,bt=e,t};function bi(e,t){var r=[],n=[];return n=Array.isArray(t)?t.map(e=>be(e)):[be(t)],bn(e).forEach(e=>{var t=(0,ol.default)(e,"type.displayName")||(0,ol.default)(e,"type.name");-1!==n.indexOf(t)&&r.push(e)}),r}var ba=e.i(7328);function bo(){}function bl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function bs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bl(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bl(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var bc=(e,t,r)=>e.map(e=>"".concat(e.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase()))," ").concat(t,"ms ").concat(r)).join(","),bu=(e,t)=>Object.keys(t).reduce((r,n)=>bs(bs({},r),{},{[n]:e(n,t[n])}),{});function bd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function bp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bd(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bd(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var bf=(e,t,r)=>e+(t-e)*r,bh=e=>{var{from:t,to:r}=e;return t!==r},bm=(e,t,r)=>{var n=bu((t,r)=>{if(bh(r)){var[n,i]=e(r.from,r.to,r.velocity);return bp(bp({},r),{},{from:n,velocity:i})}return r},t);return r<1?bu((e,t)=>bh(t)?bp(bp({},t),{},{velocity:bf(t.velocity,n[e].velocity,r),from:bf(t.from,n[e].from,r)}):t,t):bm(e,n,r-1)},bg=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],by=(e,t)=>e.map((e,r)=>e*t**r).reduce((e,t)=>e+t),bv=(e,t)=>r=>by(bg(e,t),r),bb=function(){let e,t;for(var r,n,i,a,o=arguments.length,l=Array(o),s=0;s<o;s++)l[s]=arguments[s];if(1===l.length)switch(l[0]){case"linear":[r,i,n,a]=[0,0,1,1];break;case"ease":[r,i,n,a]=[.25,.1,.25,1];break;case"ease-in":[r,i,n,a]=[.42,0,1,1];break;case"ease-out":[r,i,n,a]=[.42,0,.58,1];break;case"ease-in-out":[r,i,n,a]=[0,0,.58,1];break;default:var c=l[0].split("(");"cubic-bezier"===c[0]&&4===c[1].split(")")[0].split(",").length&&([r,i,n,a]=c[1].split(")")[0].split(",").map(e=>parseFloat(e)))}else 4===l.length&&([r,i,n,a]=l);var u=bv(r,n),d=bv(i,a),p=(e=r,t=n,r=>by([...bg(e,t).map((e,t)=>e*t).slice(1),0],r)),f=e=>e>1?1:e<0?0:e,h=e=>{for(var t=e>1?1:e,r=t,n=0;n<8;++n){var i=u(r)-t,a=p(r);if(1e-4>Math.abs(i-t)||a<1e-4)break;r=f(r-i/a)}return d(r)};return h.isStepper=!1,h},bx=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:t=100,damping:r=8,dt:n=17}=e,i=(e,i,a)=>{var o=a+(-(e-i)*t-a*r)*n/1e3,l=a*n/1e3+e;return 1e-4>Math.abs(l-i)&&1e-4>Math.abs(o)?[i,0]:[l,o]};return i.isStepper=!0,i.dt=n,i};class bw{setTimeout(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=performance.now(),n=null,i=a=>{a-r>=t?e(a):"function"==typeof requestAnimationFrame&&(n=requestAnimationFrame(i))};return n=requestAnimationFrame(i),()=>{cancelAnimationFrame(n)}}}var bO=(0,td.createContext)(function(){var e,t,r,n,i;return e=new bw,t=()=>null,r=!1,n=null,i=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var[o,...l]=a;if("number"==typeof o){n=e.setTimeout(i.bind(null,l),o);return}i(o),n=e.setTimeout(i.bind(null,l));return}"string"==typeof a&&t(a),"object"==typeof a&&t(a),"function"==typeof a&&a()}},{stop:()=>{r=!0},start:e=>{r=!1,n&&(n(),n=null),i(e)},subscribe:e=>(t=e,()=>{t=()=>null}),getTimeoutController:()=>e}}),bE={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},bS={t:0},bA={t:1};function bj(e){var t,r,n,i=yk(e,bE),{isActive:a,canBegin:o,duration:l,easing:s,begin:c,onAnimationEnd:u,onAnimationStart:d,children:p}=i,f=(t=i.animationId,r=i.animationManager,n=(0,td.useContext)(bO),(0,td.useMemo)(()=>null!=r?r:n(t),[t,r,n])),[h,m]=(0,td.useState)(a?bS:bA),g=(0,td.useRef)(null);return(0,td.useEffect)(()=>{a||m(bA)},[a]),(0,td.useEffect)(()=>{if(!a||!o)return bo;var e,t,r,n,i,p,h,y,v,b,x,w=(e=(e=>{if("string"==typeof e)switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return bb(e);case"spring":return bx();default:if("cubic-bezier"===e.split("(")[0])return bb(e)}return"function"==typeof e?e:null})(s),t=f.getTimeoutController(),r=[Object.keys(bS),Object.keys(bA)].reduce((e,t)=>e.filter(e=>t.includes(e))),!0===e.isStepper?(i=r.reduce((e,t)=>bp(bp({},e),{},{[t]:{from:bS[t],velocity:0,to:bA[t]}}),{}),p=null,h=r=>{n||(n=r);var a=(r-n)/e.dt;i=bm(e,i,a),m(bp(bp(bp({},bS),bA),bu((e,t)=>t.from,i))),n=r,Object.values(i).filter(bh).length&&(p=t.setTimeout(h))},()=>(p=t.setTimeout(h),()=>{p()})):(v=null,b=r.reduce((e,t)=>bp(bp({},e),{},{[t]:[bS[t],bA[t]]}),{}),x=r=>{y||(y=r);var n=(r-y)/l,i=bu((t,r)=>bf(...r,e(n)),b);if(m(bp(bp(bp({},bS),bA),i)),n<1)v=t.setTimeout(x);else{var a=bu((t,r)=>bf(...r,e(1)),b);m(bp(bp(bp({},bS),bA),a))}},()=>(v=t.setTimeout(x),()=>{v()})));return f.start([d,c,()=>{g.current=w()},l,u]),()=>{f.stop(),g.current&&g.current(),u()}},[a,o,l,s,c,d,u,f]),p(h.t)}function b_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",r=(0,td.useRef)(oh(t)),n=(0,td.useRef)(e);return n.current!==e&&(r.current=oh(t),n.current=e),r.current}var bC=["radius"],bN=["radius"];function bT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function bI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bT(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bT(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function bP(){return(bP=Object.assign.bind()).apply(null,arguments)}function bk(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var bM=(e,t,r,n,i)=>{var a,o=Math.min(Math.abs(r)/2,Math.abs(n)/2),l=n>=0?1:-1,s=r>=0?1:-1,c=+(n>=0&&r>=0||n<0&&r<0);if(o>0&&i instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=i[d]>o?o:i[d];a="M".concat(e,",").concat(t+l*u[0]),u[0]>0&&(a+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+s*u[0],",").concat(t)),a+="L ".concat(e+r-s*u[1],",").concat(t),u[1]>0&&(a+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+r,",").concat(t+l*u[1])),a+="L ".concat(e+r,",").concat(t+n-l*u[2]),u[2]>0&&(a+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+r-s*u[2],",").concat(t+n)),a+="L ".concat(e+s*u[3],",").concat(t+n),u[3]>0&&(a+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+n-l*u[3])),a+="Z"}else if(o>0&&i===+i&&i>0){var p=Math.min(o,i);a="M ".concat(e,",").concat(t+l*p,"\n            A ").concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+s*p,",").concat(t,"\n            L ").concat(e+r-s*p,",").concat(t,"\n            A ").concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+r,",").concat(t+l*p,"\n            L ").concat(e+r,",").concat(t+n-l*p,"\n            A ").concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+r-s*p,",").concat(t+n,"\n            L ").concat(e+s*p,",").concat(t+n,"\n            A ").concat(p,",").concat(p,",0,0,").concat(c,",").concat(e,",").concat(t+n-l*p," Z")}else a="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return a},bD={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},bR=e=>{var t=yk(e,bD),r=(0,td.useRef)(null),[n,i]=(0,td.useState)(-1);(0,td.useEffect)(()=>{if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&i(e)}catch(e){}},[]);var{x:a,y:o,width:l,height:s,radius:c,className:u}=t,{animationEasing:d,animationDuration:p,animationBegin:f,isAnimationActive:h,isUpdateAnimationActive:m}=t,g=(0,td.useRef)(l),y=(0,td.useRef)(s),v=(0,td.useRef)(a),b=(0,td.useRef)(o),x=b_((0,td.useMemo)(()=>({x:a,y:o,width:l,height:s,radius:c}),[a,o,l,s,c]),"rectangle-");if(a!==+a||o!==+o||l!==+l||s!==+s||0===l||0===s)return null;var w=l$("recharts-rectangle",u);if(!m){var O=g8(t),{radius:E}=O,S=bk(O,bC);return td.createElement("path",bP({},S,{radius:"number"==typeof c?c:void 0,className:w,d:bM(a,o,l,s,c)}))}var A=g.current,j=y.current,_=v.current,C=b.current,N="0px ".concat(-1===n?1:n,"px"),T="".concat(n,"px 0px"),I=bc(["strokeDasharray"],p,"string"==typeof d?d:void 0);return td.createElement(bj,{animationId:x,key:x,canBegin:n>0,duration:p,easing:d,isActive:m,begin:f},e=>{var n,i=oy(A,l,e),u=oy(j,s,e),d=oy(_,a,e),p=oy(C,o,e);r.current&&(g.current=i,y.current=u,v.current=d,b.current=p),n=h?e>0?{transition:I,strokeDasharray:T}:{strokeDasharray:N}:{strokeDasharray:T};var f=g8(t),{radius:m}=f,x=bk(f,bN);return td.createElement("path",bP({},x,{radius:"number"==typeof c?c:void 0,className:w,d:bM(d,p,i,u,c),ref:r,style:bI(bI({},n),t.style)}))})};function bU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function bL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bU(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bU(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function bq(){return(bq=Object.assign.bind()).apply(null,arguments)}var bF=(e,t,r,n,i)=>{var a=r-n;return"M ".concat(e,",").concat(t)+"L ".concat(e+r,",").concat(t)+"L ".concat(e+r-a/2,",").concat(t+i)+"L ".concat(e+r-a/2-n,",").concat(t+i)+"L ".concat(e,",").concat(t," Z")},bG={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},bB=e=>{var t=yk(e,bG),{x:r,y:n,upperWidth:i,lowerWidth:a,height:o,className:l}=t,{animationEasing:s,animationDuration:c,animationBegin:u,isUpdateAnimationActive:d}=t,p=(0,td.useRef)(null),[f,h]=(0,td.useState)(-1),m=(0,td.useRef)(i),g=(0,td.useRef)(a),y=(0,td.useRef)(o),v=(0,td.useRef)(r),b=(0,td.useRef)(n),x=b_(e,"trapezoid-");if((0,td.useEffect)(()=>{if(p.current&&p.current.getTotalLength)try{var e=p.current.getTotalLength();e&&h(e)}catch(e){}},[]),r!==+r||n!==+n||i!==+i||a!==+a||o!==+o||0===i&&0===a||0===o)return null;var w=l$("recharts-trapezoid",l);if(!d)return td.createElement("g",null,td.createElement("path",bq({},g8(t),{className:w,d:bF(r,n,i,a,o)})));var O=m.current,E=g.current,S=y.current,A=v.current,j=b.current,_="0px ".concat(-1===f?1:f,"px"),C="".concat(f,"px 0px"),N=bc(["strokeDasharray"],c,s);return td.createElement(bj,{animationId:x,key:x,canBegin:f>0,duration:c,easing:s,isActive:d,begin:u},e=>{var l=oy(O,i,e),s=oy(E,a,e),c=oy(S,o,e),u=oy(A,r,e),d=oy(j,n,e);p.current&&(m.current=l,g.current=s,y.current=c,v.current=u,b.current=d);var f=e>0?{transition:N,strokeDasharray:C}:{strokeDasharray:_};return td.createElement("path",bq({},g8(t),{className:w,d:bF(u,d,l,s,c),ref:p,style:bL(bL({},f),t.style)}))})};function bH(){return(bH=Object.assign.bind()).apply(null,arguments)}var bV=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:o,cornerRadius:l,cornerIsExternal:s}=e,c=l*(o?1:-1)+n,u=Math.asin(l/c)/lf,d=s?i:i+a*u,p=lh(t,r,c,d);return{center:p,circleTangency:lh(t,r,n,d),lineTangency:lh(t,r,c*Math.cos(u*lf),s?i-a*u:i),theta:u}},b$=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:o}=e,l=os(o-a)*Math.min(Math.abs(o-a),359.999),s=a+l,c=lh(t,r,i,a),u=lh(t,r,i,s),d="M ".concat(c.x,",").concat(c.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(l)>180),",").concat(+(a>s),",\n    ").concat(u.x,",").concat(u.y,"\n  ");if(n>0){var p=lh(t,r,n,a),f=lh(t,r,n,s);d+="L ".concat(f.x,",").concat(f.y,"\n            A ").concat(n,",").concat(n,",0,\n            ").concat(+(Math.abs(l)>180),",").concat(+(a<=s),",\n            ").concat(p.x,",").concat(p.y," Z")}else d+="L ".concat(t,",").concat(r," Z");return d},bz={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},bK=e=>{var t,r=yk(e,bz),{cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:l,forceCornerRadius:s,cornerIsExternal:c,startAngle:u,endAngle:d,className:p}=r;if(o<a||u===d)return null;var f=l$("recharts-sector",p),h=o-a,m=om(l,h,0,!0);return t=m>0&&360>Math.abs(u-d)?(e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:s,endAngle:c}=e,u=os(c-s),{circleTangency:d,lineTangency:p,theta:f}=bV({cx:t,cy:r,radius:i,angle:s,sign:u,cornerRadius:a,cornerIsExternal:l}),{circleTangency:h,lineTangency:m,theta:g}=bV({cx:t,cy:r,radius:i,angle:c,sign:-u,cornerRadius:a,cornerIsExternal:l}),y=l?Math.abs(s-c):Math.abs(s-c)-f-g;if(y<0)return o?"M ".concat(p.x,",").concat(p.y,"\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*a,",0\n        a").concat(a,",").concat(a,",0,0,1,").concat(-(2*a),",0\n      "):b$({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:c});var v="M ".concat(p.x,",").concat(p.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(d.x,",").concat(d.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(y>180),",").concat(+(u<0),",").concat(h.x,",").concat(h.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(m.x,",").concat(m.y,"\n  ");if(n>0){var{circleTangency:b,lineTangency:x,theta:w}=bV({cx:t,cy:r,radius:n,angle:s,sign:u,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:O,lineTangency:E,theta:S}=bV({cx:t,cy:r,radius:n,angle:c,sign:-u,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),A=l?Math.abs(s-c):Math.abs(s-c)-w-S;if(A<0&&0===a)return"".concat(v,"L").concat(t,",").concat(r,"Z");v+="L".concat(E.x,",").concat(E.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(O.x,",").concat(O.y,"\n      A").concat(n,",").concat(n,",0,").concat(+(A>180),",").concat(+(u>0),",").concat(b.x,",").concat(b.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(x.x,",").concat(x.y,"Z")}else v+="L".concat(t,",").concat(r,"Z");return v})({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(m,h/2),forceCornerRadius:s,cornerIsExternal:c,startAngle:u,endAngle:d}):b$({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:u,endAngle:d}),td.createElement("path",bH({},g8(r),{className:f,d:t}))};let bJ=Math.cos,bY=Math.sin,bW=Math.sqrt,bX=Math.PI,bZ=2*bX;bW(3);let bQ={draw(e,t){let r=bW(t/bX);e.moveTo(r,0),e.arc(0,0,r,0,bZ)}},b0=bW(1/3),b1=2*b0,b2=bY(bX/10)/bY(7*bX/10),b3=bY(bZ/10)*b2,b4=-bJ(bZ/10)*b2,b5=bW(3);bW(3);let b6=bW(3)/2,b8=1/bW(12),b7=(b8/2+1)*3;var b9=["type","size","sizeType"];function xe(){return(xe=Object.assign.bind()).apply(null,arguments)}function xt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function xr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xt(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var xn={symbolCircle:bQ,symbolCross:{draw(e,t){let r=bW(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},symbolDiamond:{draw(e,t){let r=bW(t/b1),n=r*b0;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},symbolSquare:{draw(e,t){let r=bW(t),n=-r/2;e.rect(n,n,r,r)}},symbolStar:{draw(e,t){let r=bW(.8908130915292852*t),n=b3*r,i=b4*r;e.moveTo(0,-r),e.lineTo(n,i);for(let t=1;t<5;++t){let a=bZ*t/5,o=bJ(a),l=bY(a);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*i,l*n+o*i)}e.closePath()}},symbolTriangle:{draw(e,t){let r=-bW(t/(3*b5));e.moveTo(0,2*r),e.lineTo(-b5*r,-r),e.lineTo(b5*r,-r),e.closePath()}},symbolWye:{draw(e,t){let r=bW(t/b7),n=r/2,i=r*b8,a=r*b8+r,o=-n;e.moveTo(n,i),e.lineTo(n,a),e.lineTo(o,a),e.lineTo(-.5*n-b6*i,b6*n+-.5*i),e.lineTo(-.5*n-b6*a,b6*n+-.5*a),e.lineTo(-.5*o-b6*a,b6*o+-.5*a),e.lineTo(-.5*n+b6*i,-.5*i-b6*n),e.lineTo(-.5*n+b6*a,-.5*a-b6*n),e.lineTo(-.5*o+b6*a,-.5*a-b6*o),e.closePath()}}},xi=Math.PI/180,xa=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=xr(xr({},function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,b9)),{},{type:t,size:r,sizeType:n}),a="circle";"string"==typeof t&&(a=t);var{className:o,cx:l,cy:s}=i,c=g8(i);return l===+l&&s===+s&&r===+r?td.createElement("path",xe({},c,{className:l$("recharts-symbols",o),transform:"translate(".concat(l,", ").concat(s,")"),d:(()=>{var e,t=(e=a,xn["symbol".concat(ov(e))]||bQ),i=(function(e,t){let r=null,n=vo(i);function i(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return e="function"==typeof e?e:lo(e||bQ),t="function"==typeof t?t:lo(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"==typeof t?t:lo(t),i):e},i.size=function(e){return arguments.length?(t="function"==typeof e?e:lo(+e),i):t},i.context=function(e){return arguments.length?(r=null==e?null:e,i):r},i})().type(t).size(((e,t,r)=>{if("area"===t)return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var n=18*xi;return 1.25*e*e*(Math.tan(n)-Math.tan(2*n)*Math.tan(n)**2);case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}})(r,n,a))();if(null!==i)return i})()})):null};xa.registerSymbol=(e,t)=>{xn["symbol".concat(ov(e))]=t};var xo=["option","shapeType","propTransformer","activeClassName","isActive"];function xl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function xs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xl(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xl(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function xc(e,t){return xs(xs({},t),e)}function xu(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return td.createElement(bR,r);case"trapezoid":return td.createElement(bB,r);case"sector":return td.createElement(bK,r);case"symbols":if("symbols"===t)return td.createElement(xa,r);break;default:return null}}function xd(e){var t,{option:r,shapeType:n,propTransformer:i=xc,activeClassName:a="recharts-active-shape",isActive:o}=e,l=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,xo);if((0,td.isValidElement)(r))t=(0,td.cloneElement)(r,xs(xs({},l),(0,td.isValidElement)(r)?r.props:r));else if("function"==typeof r)t=r(l);else if((0,ba.default)(r)&&"boolean"!=typeof r){var s=i(r,l);t=td.createElement(xu,{shapeType:n,elementProps:s})}else t=td.createElement(xu,{shapeType:n,elementProps:l});return o?td.createElement(y7,{className:a},t):t}var xp=(e,t)=>{var r=o8();return(n,i)=>a=>{null==e||e(n,i,a),r(oL({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},xf=e=>{var t=o8();return(r,n)=>i=>{null==e||e(r,n,i),t(oq())}},xh=(e,t)=>{var r=o8();return(n,i)=>a=>{null==e||e(n,i,a),r(oG({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function xm(e){var{fn:t,args:r}=e,n=o8(),i=lB();return(0,td.useLayoutEffect)(()=>{if(!i){var e=t(r);return n(oD(e)),()=>{n(oR(e))}}},[t,r,n,i]),null}var xg=()=>{};function xy(e){var{legendPayload:t}=e,r=o8(),n=lB();return(0,td.useLayoutEffect)(()=>n?xg:(r(gm(t)),()=>{r(gg(t))}),[r,n,t]),null}function xv(e){var{legendPayload:t}=e,r=o8(),n=lt(st);return(0,td.useLayoutEffect)(()=>"centric"!==n&&"radial"!==n?xg:(r(gm(t)),()=>{r(gg(t))}),[r,n,t]),null}var xb=null!=(tc=td["useId".toString()])?tc:()=>{var[e]=td.useState(()=>oh("uid-"));return e},xx=(0,td.createContext)(void 0),xw=e=>{var t,r,{id:n,type:i,children:a}=e,o=(t="recharts-".concat(i),r=xb(),n||(t?"".concat(t,"-").concat(r):r));return td.createElement(xx.Provider,{value:o},a(o))};function xO(e){var t=o8(),r=(0,td.useRef)(null);return(0,td.useLayoutEffect)(()=>{null===r.current?t(m4(e)):r.current!==e&&t(m5({prev:r.current,next:e})),r.current=e},[t,e]),(0,td.useLayoutEffect)(()=>()=>{r.current&&(t(m6(r.current)),r.current=null)},[t]),null}function xE(e){var t=o8();return(0,td.useLayoutEffect)(()=>(t(m8(e)),()=>{t(m7(e))}),[t,e]),null}var xS=e.i(4178),xA=["labelRef"];function xj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function x_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xj(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xj(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function xC(){return(xC=Object.assign.bind()).apply(null,arguments)}var xN=(0,td.createContext)(null),xT=e=>{var{x:t,y:r,width:n,height:i,children:a}=e,o=(0,td.useMemo)(()=>({x:t,y:r,width:n,height:i}),[t,r,n,i]);return td.createElement(xN.Provider,{value:o},a)},xI=()=>{var e=(0,td.useContext)(xN),t=l9();return e||t},xP=(0,td.createContext)(null),xk=e=>null!=e&&"function"==typeof e,xM=e=>"cx"in e&&od(e.cx),xD={offset:5};function xR(e){var t,r,n,i=yk(e,xD),{viewBox:a,position:o,value:l,children:s,content:c,className:u="",textBreakAll:d,labelRef:p}=i,f=(t=(0,td.useContext)(xP),r=lt(pB),t||r),h=xI(),m=a||("center"===o?h:null!=f?f:h);if(!m||null==l&&null==s&&!(0,td.isValidElement)(c)&&"function"!=typeof c)return null;var g=x_(x_({},i),{},{viewBox:m});if((0,td.isValidElement)(c)){var{labelRef:y}=g,v=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(g,xA);return(0,td.cloneElement)(c,v)}if("function"==typeof c){if(n=(0,td.createElement)(c,g),(0,td.isValidElement)(n))return n}else n=(e=>{var{value:t,formatter:r}=e,n=null==e.children?t:e.children;return"function"==typeof r?r(n):n})(i);var b=xM(m),x=g8(i);if(b&&("insideStart"===o||"insideEnd"===o||"end"===o))return((e,t,r,n,i)=>{var a,o,{offset:l,className:s}=e,{cx:c,cy:u,innerRadius:d,outerRadius:p,startAngle:f,endAngle:h,clockWise:m}=i,g=(d+p)/2,y=os(h-f)*Math.min(Math.abs(h-f),360),v=y>=0?1:-1;switch(t){case"insideStart":a=f+v*l,o=m;break;case"insideEnd":a=h-v*l,o=!m;break;case"end":a=h+v*l,o=m;break;default:throw Error("Unsupported position ".concat(t))}o=y<=0?o:!o;var b=lh(c,u,g,a),x=lh(c,u,g,a+(o?1:-1)*359),w="M".concat(b.x,",").concat(b.y,"\n    A").concat(g,",").concat(g,",0,1,").concat(+!o,",\n    ").concat(x.x,",").concat(x.y),O=null==e.id?oh("recharts-radial-line-"):e.id;return td.createElement("text",xC({},n,{dominantBaseline:"central",className:l$("recharts-radial-bar-label",s)}),td.createElement("defs",null,td.createElement("path",{id:O,d:w})),td.createElement("textPath",{xlinkHref:"#".concat(O)},r))})(i,o,n,x,m);var w=b?((e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:l,endAngle:s}=e,c=(l+s)/2;if("outside"===r){var{x:u,y:d}=lh(n,i,o+t,c);return{x:u,y:d,textAnchor:u>=n?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var{x:p,y:f}=lh(n,i,(a+o)/2,c);return{x:p,y:f,textAnchor:"middle",verticalAnchor:"middle"}})(m,i.offset,i.position):((e,t)=>{var r,{parentViewBox:n,offset:i,position:a}=e;null==n||xM(n)||(r=n);var{x:o,y:l,width:s,height:c}=t,u=c>=0?1:-1,d=u*i,p=u>0?"end":"start",f=u>0?"start":"end",h=s>=0?1:-1,m=h*i,g=h>0?"end":"start",y=h>0?"start":"end";if("top"===a)return x_(x_({},{x:o+s/2,y:l-u*i,textAnchor:"middle",verticalAnchor:p}),r?{height:Math.max(l-r.y,0),width:s}:{});if("bottom"===a)return x_(x_({},{x:o+s/2,y:l+c+d,textAnchor:"middle",verticalAnchor:f}),r?{height:Math.max(r.y+r.height-(l+c),0),width:s}:{});if("left"===a){var v={x:o-m,y:l+c/2,textAnchor:g,verticalAnchor:"middle"};return x_(x_({},v),r?{width:Math.max(v.x-r.x,0),height:c}:{})}if("right"===a){var b={x:o+s+m,y:l+c/2,textAnchor:y,verticalAnchor:"middle"};return x_(x_({},b),r?{width:Math.max(r.x+r.width-b.x,0),height:c}:{})}var x=r?{width:s,height:c}:{};return"insideLeft"===a?x_({x:o+m,y:l+c/2,textAnchor:y,verticalAnchor:"middle"},x):"insideRight"===a?x_({x:o+s-m,y:l+c/2,textAnchor:g,verticalAnchor:"middle"},x):"insideTop"===a?x_({x:o+s/2,y:l+d,textAnchor:"middle",verticalAnchor:f},x):"insideBottom"===a?x_({x:o+s/2,y:l+c-d,textAnchor:"middle",verticalAnchor:p},x):"insideTopLeft"===a?x_({x:o+m,y:l+d,textAnchor:y,verticalAnchor:f},x):"insideTopRight"===a?x_({x:o+s-m,y:l+d,textAnchor:g,verticalAnchor:f},x):"insideBottomLeft"===a?x_({x:o+m,y:l+c-d,textAnchor:y,verticalAnchor:p},x):"insideBottomRight"===a?x_({x:o+s-m,y:l+c-d,textAnchor:g,verticalAnchor:p},x):a&&"object"==typeof a&&(od(a.x)||ou(a.x))&&(od(a.y)||ou(a.y))?x_({x:o+om(a.x,s),y:l+om(a.y,c),textAnchor:"end",verticalAnchor:"end"},x):x_({x:o+s/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},x)})(i,m);return td.createElement(v8,xC({ref:p,className:l$("recharts-label",u)},x,w,{breakAll:d}),n)}function xU(e){var{label:t,labelRef:r}=e;return((e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return!0===e?td.createElement(xR,xC({key:"label-implicit"},n)):op(e)?td.createElement(xR,xC({key:"label-implicit",value:e},n)):(0,td.isValidElement)(e)?e.type===xR?(0,td.cloneElement)(e,x_({key:"label-implicit"},n)):td.createElement(xR,xC({key:"label-implicit",content:e},n)):xk(e)?td.createElement(xR,xC({key:"label-implicit",content:e},n)):e&&"object"==typeof e?td.createElement(xR,xC({},e,{key:"label-implicit"},n)):null})(t,xI(),r)||null}xR.displayName="Label";var xL=["valueAccessor"],xq=["dataKey","clockWise","id","textBreakAll"];function xF(){return(xF=Object.assign.bind()).apply(null,arguments)}function xG(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var xB=e=>Array.isArray(e.value)?(0,xS.default)(e.value):e.value,xH=(0,td.createContext)(void 0),xV=xH.Provider,x$=(0,td.createContext)(void 0),xz=x$.Provider;function xK(e){var{valueAccessor:t=xB}=e,r=xG(e,xL),{dataKey:n,clockWise:i,id:a,textBreakAll:o}=r,l=xG(r,xq),s=(0,td.useContext)(xH),c=(0,td.useContext)(x$),u=s||c;return u&&u.length?td.createElement(y7,{className:"recharts-label-list"},u.map((e,i)=>{var s,c=null==n?t(e,i):lb(e&&e.payload,n),u=null==a?{}:{id:"".concat(a,"-").concat(i)};return td.createElement(xR,xF({key:"label-".concat(i)},g8(e),l,u,{fill:null!=(s=r.fill)?s:e.fill,parentViewBox:e.parentViewBox,value:c,textBreakAll:o,viewBox:e.viewBox,index:i}))})):null}function xJ(e){var{label:t}=e;return t?!0===t?td.createElement(xK,{key:"labelList-implicit"}):td.isValidElement(t)||xk(t)?td.createElement(xK,{key:"labelList-implicit",content:t}):"object"==typeof t?td.createElement(xK,xF({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}xK.displayName="LabelList";var xY=["onMouseEnter","onClick","onMouseLeave"],xW=["id"],xX=["id"];function xZ(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function x0(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xQ(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xQ(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function x1(){return(x1=Object.assign.bind()).apply(null,arguments)}function x2(e){var t=(0,td.useMemo)(()=>bi(e.children,v7),[e.children]),r=lt(r=>y4(r,e.id,t));return null==r?null:td.createElement(xv,{legendPayload:r})}function x3(e){var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:o,name:l,hide:s,tooltipType:c}=e;return{dataDefinedOnItem:n.map(e=>e.tooltipPayload),positions:n.map(e=>e.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:o,dataKey:t,nameKey:r,name:l_(l,t),hide:s,type:c,color:o,unit:""}}}function x4(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:a,dataKey:o}=r;if(!n||!i||!t)return null;var l=g5(r),s=g6(i),c=g6(a),u="object"==typeof i&&"offsetRadius"in i&&"number"==typeof i.offsetRadius&&i.offsetRadius||20,d=t.map((e,t)=>{var r,n,d=(e.startAngle+e.endAngle)/2,p=lh(e.cx,e.cy,e.outerRadius+u,d),f=x0(x0(x0(x0({},l),e),{},{stroke:"none"},s),{},{index:t,textAnchor:(r=p.x)>(n=e.cx)?"start":r<n?"end":"middle"},p),h=x0(x0(x0(x0({},l),e),{},{fill:"none",stroke:e.fill},c),{},{index:t,points:[lh(e.cx,e.cy,e.outerRadius,d),p],key:"line"});return td.createElement(y7,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(t)},a&&((e,t)=>{if(td.isValidElement(e))return td.cloneElement(e,t);if("function"==typeof e)return e(t);var r=l$("recharts-pie-label-line","boolean"!=typeof e?e.className:"");return td.createElement(vD,x1({},t,{type:"linear",className:r}))})(a,h),((e,t,r)=>{if(td.isValidElement(e))return td.cloneElement(e,t);var n=r;if("function"==typeof e&&(n=e(t),td.isValidElement(n)))return n;var i=l$("recharts-pie-label-text",e&&"object"==typeof e&&"className"in e&&"string"==typeof e.className?e.className:"");return td.createElement(v8,x1({},t,{alignmentBaseline:"middle",className:i}),n)})(i,f,lb(e,o)))});return td.createElement(y7,{className:"recharts-pie-labels"},d)}function x5(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return"object"==typeof i&&null!=i&&"position"in i?td.createElement(xJ,{label:i}):td.createElement(x4,{sectors:t,props:r,showLabels:n})}function x6(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i}=e,a=lt(mb),{onMouseEnter:o,onClick:l,onMouseLeave:s}=i,c=xZ(i,xY),u=xp(o,i.dataKey),d=xf(s),p=xh(l,i.dataKey);return null==t||0===t.length?null:td.createElement(td.Fragment,null,t.map((e,o)=>{if((null==e?void 0:e.startAngle)===0&&(null==e?void 0:e.endAngle)===0&&1!==t.length)return null;var l=r&&String(o)===a,s=l?r:a?n:null,f=x0(x0({},e),{},{stroke:e.stroke,tabIndex:-1,[lM]:o,[lD]:i.dataKey});return td.createElement(y7,x1({key:"sector-".concat(null==e?void 0:e.startAngle,"-").concat(null==e?void 0:e.endAngle,"-").concat(e.midAngle,"-").concat(o),tabIndex:-1,className:"recharts-pie-sector"},v_(c,e,o),{onMouseEnter:u(e,o),onMouseLeave:d(e,o),onClick:p(e,o)}),td.createElement(xd,x1({option:s,isActive:l,shapeType:"sector"},f)))}))}function x8(e){var{showLabels:t,sectors:r,children:n}=e,i=(0,td.useMemo)(()=>t&&r?r.map(e=>({value:e.value,payload:e.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:e.cx,cy:e.cy,innerRadius:e.innerRadius,outerRadius:e.outerRadius,startAngle:e.startAngle,endAngle:e.endAngle,clockWise:!1},fill:e.fill})):[],[r,t]);return td.createElement(xz,{value:t?i:void 0},n)}function x7(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:i,animationBegin:a,animationDuration:o,animationEasing:l,activeShape:s,inactiveShape:c,onAnimationStart:u,onAnimationEnd:d}=t,p=b_(t,"recharts-pie-"),f=r.current,[h,m]=(0,td.useState)(!1),g=(0,td.useCallback)(()=>{"function"==typeof d&&d(),m(!1)},[d]),y=(0,td.useCallback)(()=>{"function"==typeof u&&u(),m(!0)},[u]);return td.createElement(x8,{showLabels:!h,sectors:n},td.createElement(bj,{animationId:p,begin:a,duration:o,isActive:i,easing:l,onAnimationStart:y,onAnimationEnd:g,key:p},e=>{var i=[],a=n&&n[0],o=null==a?void 0:a.startAngle;return null==n||n.forEach((t,r)=>{var n=f&&f[r],a=r>0?(0,ol.default)(t,"paddingAngle",0):0;if(n){var l=oy(n.endAngle-n.startAngle,t.endAngle-t.startAngle,e),s=x0(x0({},t),{},{startAngle:o+a,endAngle:o+l+a});i.push(s),o=s.endAngle}else{var{endAngle:c,startAngle:u}=t,d=oy(0,c-u,e),p=x0(x0({},t),{},{startAngle:o+a,endAngle:o+d+a});i.push(p),o=p.endAngle}}),r.current=i,td.createElement(y7,null,td.createElement(x6,{sectors:i,activeShape:s,inactiveShape:c,allOtherPieProps:t}))}),td.createElement(x5,{showLabels:!h,sectors:n,props:t}),t.children)}var x9={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!g$.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function we(e){var{id:t}=e,r=xZ(e,xW),{hide:n,className:i,rootTabIndex:a}=e,o=(0,td.useMemo)(()=>bi(e.children,v7),[e.children]),l=lt(e=>y5(e,t,o)),s=(0,td.useRef)(null),c=l$("recharts-pie",i);return n||null==l?(s.current=null,td.createElement(y7,{tabIndex:a,className:c})):td.createElement(td.Fragment,null,td.createElement(xm,{fn:x3,args:x0(x0({},e),{},{sectors:l})}),td.createElement(y7,{tabIndex:a,className:c},td.createElement(x7,{props:x0(x0({},r),{},{sectors:l}),previousSectorsRef:s})))}function wt(e){var t=yk(e,x9),{id:r}=t,n=xZ(t,xX),i=g5(n);return td.createElement(xw,{id:r,type:"pie"},e=>td.createElement(td.Fragment,null,td.createElement(xE,{type:"pie",id:e,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),td.createElement(x2,x1({},n,{id:e})),td.createElement(we,x1({},n,{id:e}))))}function wr(){return(wr=Object.assign.bind()).apply(null,arguments)}wt.displayName="Pie";var wn={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",responsive:!1},wi=(0,td.forwardRef)(function(e,t){var r,n=yk(e.categoricalChartProps,wn),{chartName:i,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:s}=e;return td.createElement(gJ,{preloadedState:{options:{chartName:i,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0}},reduxStoreName:null!=(r=s.id)?r:i},td.createElement(gY,{chartData:s.data}),td.createElement(gW,{layout:n.layout,margin:n.margin}),td.createElement(gX,{accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),td.createElement(yI,wr({},n,{ref:t})))}),wa=["axis","item"],wo=(0,td.forwardRef)((e,t)=>td.createElement(wi,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:wa,tooltipPayloadSearcher:ob,categoricalChartProps:e,ref:t})),wl=td,ws=["x","y"];function wc(){return(wc=Object.assign.bind()).apply(null,arguments)}function wu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function wd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wu(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wu(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function wp(e,t){var{x:r,y:n}=e,i=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,ws),a=parseInt("".concat(r),10),o=parseInt("".concat(n),10),l=parseInt("".concat(t.height||i.height),10),s=parseInt("".concat(t.width||i.width),10);return wd(wd(wd(wd(wd({},t),i),a?{x:a}:{}),o?{y:o}:{}),{},{height:l,width:s,name:t.name,radius:t.radius})}function wf(e){return td.createElement(xd,wc({shapeType:"rectangle",propTransformer:wp,activeClassName:"recharts-active-bar"},e))}var wh=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(r,n)=>{if(od(e))return e;var i=od(r)||null==r;return i?e(r,n):(i||function(e,t){if(!e)throw Error("Invariant failed")}(!1),t)}},wm=["children"],wg=(0,td.createContext)({data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0});function wy(e){var{children:t}=e,r=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,wm);return td.createElement(wg.Provider,{value:r},t)}function wv(e,t){var r,n,i=lt(t=>p5(t,e)),a=lt(e=>p7(e,t)),o=null!=(r=null==i?void 0:i.allowDataOverflow)?r:p3.allowDataOverflow,l=null!=(n=null==a?void 0:a.allowDataOverflow)?n:p6.allowDataOverflow;return{needClip:o||l,needClipX:o,needClipY:l}}function wb(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=lt(y_),{needClipX:a,needClipY:o,needClip:l}=wv(t,r);if(!l)return null;var{x:s,y:c,width:u,height:d}=i;return td.createElement("clipPath",{id:"clipPath-".concat(n)},td.createElement("rect",{x:a?s:s-u/2,y:o?c:c-d/2,width:a?u:2*u,height:o?d:2*d}))}function wx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ww(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wx(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wx(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var wO=af([fa,(e,t,r,n,i)=>i],(e,t)=>e.filter(e=>"bar"===e.type).find(e=>e.id===t)),wE=af([wO],e=>null==e?void 0:e.maxBarSize),wS=(e,t,r)=>{var n=null!=r?r:e;if(null!=n)return om(n,t,0)},wA=af([st,fa,(e,t)=>t,(e,t,r)=>r,(e,t,r,n)=>n],(e,t,r,n,i)=>t.filter(t=>"horizontal"===e?t.xAxisId===r:t.yAxisId===n).filter(e=>e.isPanorama===i).filter(e=>!1===e.hide).filter(e=>"bar"===e.type)),wj=af([wA,e=>e.rootProps.barSize,(e,t,r)=>"horizontal"===st(e)?hb(e,"xAxis",t):hb(e,"yAxis",r)],(e,t,r)=>{var n=e.filter(pX),i=e.filter(e=>null==e.stackId);return[...Object.entries(n.reduce((e,t)=>(e[t.stackId]||(e[t.stackId]=[]),e[t.stackId].push(t),e),{})).map(e=>{var[n,i]=e;return{stackId:n,dataKeys:i.map(e=>e.dataKey),barSize:wS(t,r,i[0].barSize)}}),...i.map(e=>({stackId:void 0,dataKeys:[e.dataKey].filter(e=>null!=e),barSize:wS(t,r,e.barSize)}))]}),w_=(e,t,r,n)=>{var i,a;return"horizontal"===st(e)?(i=hj(e,"xAxis",t,n),a=hA(e,"xAxis",t,n)):(i=hj(e,"yAxis",r,n),a=hA(e,"yAxis",r,n)),lA(i,a)},wC=af([wj,px,e=>e.rootProps.barGap,pw,(e,t,r,n,i)=>{var a,o,l,s,c=wO(e,t,r,n,i);if(null!=c){var u=st(e),d=px(e),{maxBarSize:p}=c;return"horizontal"===u?(l=hj(e,"xAxis",t,n),s=hA(e,"xAxis",t,n)):(l=hj(e,"yAxis",r,n),s=hA(e,"yAxis",r,n)),null!=(a=null!=(o=lA(l,s,!0))?o:null==p?d:p)?a:0}},w_,wE],(e,t,r,n,i,a,o)=>{var l=function(e,t,r,n,i){var a,o=n.length;if(!(o<1)){var l=om(e,r,0,!0),s=[];if(lQ(n[0].barSize)){var c=!1,u=r/o,d=n.reduce((e,t)=>e+(t.barSize||0),0);(d+=(o-1)*l)>=r&&(d-=(o-1)*l,l=0),d>=r&&u>0&&(c=!0,u*=.9,d=o*u);var p={offset:((r-d)/2|0)-l,size:0};a=n.reduce((e,t)=>{var r,n=[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:p.offset+p.size+l,size:c?u:null!=(r=t.barSize)?r:0}}];return p=n[n.length-1].position,n},s)}else{var f=om(t,r,0,!0);r-2*f-(o-1)*l<=0&&(l=0);var h=(r-2*f-(o-1)*l)/o;h>1&&(h>>=0);var m=lQ(i)?Math.min(h,i):h;a=n.reduce((e,t,r)=>[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:f+(h+l)*r+(h-m)/2,size:m}}],s)}return a}}(r,n,i!==a?i:a,e,null==o?t:o);return i!==a&&null!=l&&(l=l.map(e=>ww(ww({},e),{},{position:ww(ww({},e.position),{},{offset:e.position.offset-i/2})}))),l}),wN=af([wC,wO],(e,t)=>{if(null!=e&&null!=t){var r=e.find(e=>e.stackId===t.stackId&&null!=t.dataKey&&e.dataKeys.includes(t.dataKey));if(null!=r)return r.position}}),wT=af([(e,t,r,n)=>"horizontal"===st(e)?fS(e,"yAxis",r,n):fS(e,"xAxis",t,n),wO],(e,t)=>{var r=p$(t);if(!e||null==r||null==t)return;var{stackId:n}=t;if(null!=n){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(e=>e.key===r)}}}),wI=af([lL,lF,(e,t,r,n)=>hj(e,"xAxis",t,n),(e,t,r,n)=>hj(e,"yAxis",r,n),(e,t,r,n)=>hA(e,"xAxis",t,n),(e,t,r,n)=>hA(e,"yAxis",r,n),wN,st,d9,w_,wT,wO,(e,t,r,n,i,a)=>a],(e,t,r,n,i,a,o,l,s,c,u,d,p)=>{var f,{chartData:h,dataStartIndex:m,dataEndIndex:g}=s;if(null!=d&&null!=o&&null!=t&&("horizontal"===l||"vertical"===l)&&null!=r&&null!=n&&null!=i&&null!=a&&null!=c){var{data:y}=d;if(null!=(f=null!=y&&y.length>0?y:null==h?void 0:h.slice(m,g+1)))return function(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:o,yAxis:l,xAxisTicks:s,yAxisTicks:c,stackedData:u,displayedData:d,offset:p,cells:f,parentViewBox:h}=e,m="horizontal"===t?l:o,g=u?m.scale.domain():null,y=(e=>{var{numericAxis:t}=e,r=t.scale.domain();if("number"===t.type){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]})({numericAxis:m});return d.map((e,d)=>{u?v=((e,t)=>{if(!t||2!==t.length||!od(t[0])||!od(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!od(e[0])||e[0]<r)&&(i[0]=r),(!od(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i})(u[d],g):Array.isArray(v=lb(e,r))||(v=[y,v]);var m=wh(n,0)(v[1],d);if("horizontal"===t){var v,b,x,w,O,E,S,[A,j]=[l.scale(v[0]),l.scale(v[1])];b=lO({axis:o,ticks:s,bandSize:a,offset:i.offset,entry:e,index:d}),x=null!=(S=null!=j?j:A)?S:void 0,w=i.size;var _=A-j;if(O=oc(_)?0:_,E={x:b,y:p.top,width:w,height:p.height},Math.abs(m)>0&&Math.abs(O)<Math.abs(m)){var C=os(O||m)*(Math.abs(m)-Math.abs(O));x-=C,O+=C}}else{var[N,T]=[o.scale(v[0]),o.scale(v[1])];if(b=N,x=lO({axis:l,ticks:c,bandSize:a,offset:i.offset,entry:e,index:d}),w=T-N,O=i.size,E={x:p.left,y:x,width:p.width,height:O},Math.abs(m)>0&&Math.abs(w)<Math.abs(m)){var I=os(w||m)*(Math.abs(m)-Math.abs(w));w+=I}}return null==b||null==x||null==w||null==O?null:wL(wL({},e),{},{x:b,y:x,width:w,height:O,value:u?v:v[1],payload:e,background:E,tooltipPosition:{x:b+w/2,y:x+O/2},parentViewBox:h},f&&f[d]&&f[d].props)}).filter(Boolean)}({layout:l,barSettings:d,pos:o,parentViewBox:t,bandSize:c,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:u,displayedData:f,offset:e,cells:p})}}),wP=["onMouseEnter","onMouseLeave","onClick"],wk=["value","background","tooltipPosition"],wM=["id"],wD=["onMouseEnter","onClick","onMouseLeave"];function wR(){return(wR=Object.assign.bind()).apply(null,arguments)}function wU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function wL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wU(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wU(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function wq(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function wF(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:o,unit:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:l_(a,t),hide:o,type:e.tooltipType,color:e.fill,unit:l}}}function wG(e){var t=lt(mb),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:o,onMouseLeave:l,onClick:s}=a,c=wq(a,wP),u=xp(o,n),d=xf(l),p=xh(s,n);if(!i||null==r)return null;var f=g6(i);return wl.createElement(wl.Fragment,null,r.map((e,r)=>{var{value:a,background:o,tooltipPosition:l}=e,s=wq(e,wk);if(!o)return null;var h=u(e,r),m=d(e,r),g=p(e,r),y=wL(wL(wL(wL(wL({option:i,isActive:String(r)===t},s),{},{fill:"#eee"},o),f),v_(c,e,r)),{},{onMouseEnter:h,onMouseLeave:m,onClick:g,dataKey:n,index:r,className:"recharts-bar-background-rectangle"});return wl.createElement(wf,wR({key:"background-bar-".concat(r)},y))}))}function wB(e){var{showLabels:t,children:r,rects:n}=e,i=null==n?void 0:n.map(e=>{var t={x:e.x,y:e.y,width:e.width,height:e.height};return wL(wL({},t),{},{value:e.value,payload:e.payload,parentViewBox:e.parentViewBox,viewBox:t,fill:e.fill})});return wl.createElement(xV,{value:t?i:void 0},r)}function wH(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:a,dataKey:o}=e,l=lt(mb),s=lt(mw),c=r&&String(a)===l&&(null==s||o===s),u=c?r:t;return wl.createElement(wf,wR({},n,{name:String(n.name)},i,{isActive:c,option:u,index:a,dataKey:o}))}function wV(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:a}=e;return wl.createElement(wf,wR({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:a}))}function w$(e){var{data:t,props:r}=e,n=g5(r),{id:i}=n,a=wq(n,wM),{shape:o,dataKey:l,activeBar:s}=r,{onMouseEnter:c,onClick:u,onMouseLeave:d}=r,p=wq(r,wD),f=xp(c,l),h=xf(d),m=xh(u,l);return t?wl.createElement(wl.Fragment,null,t.map((e,t)=>wl.createElement(y7,wR({key:"rectangle-".concat(null==e?void 0:e.x,"-").concat(null==e?void 0:e.y,"-").concat(null==e?void 0:e.value,"-").concat(t),className:"recharts-bar-rectangle"},v_(p,e,t),{onMouseEnter:f(e,t),onMouseLeave:h(e,t),onClick:m(e,t)}),s?wl.createElement(wH,{shape:o,activeBar:s,baseProps:a,entry:e,index:t,dataKey:l}):wl.createElement(wV,{shape:o,baseProps:a,entry:e,index:t,dataKey:l})))):null}function wz(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:l,animationEasing:s,onAnimationEnd:c,onAnimationStart:u}=t,d=r.current,p=b_(t,"recharts-bar-"),[f,h]=(0,wl.useState)(!1),m=(0,wl.useCallback)(()=>{"function"==typeof c&&c(),h(!1)},[c]),g=(0,wl.useCallback)(()=>{"function"==typeof u&&u(),h(!0)},[u]);return wl.createElement(wB,{showLabels:!f,rects:n},wl.createElement(bj,{animationId:p,begin:o,duration:l,isActive:a,easing:s,onAnimationEnd:m,onAnimationStart:g,key:p},e=>{var a=1===e?n:null==n?void 0:n.map((t,r)=>{var n=d&&d[r];if(n)return wL(wL({},t),{},{x:oy(n.x,t.x,e),y:oy(n.y,t.y,e),width:oy(n.width,t.width,e),height:oy(n.height,t.height,e)});if("horizontal"===i){var a=oy(0,t.height,e);return wL(wL({},t),{},{y:t.y+t.height-a,height:a})}var o=oy(0,t.width,e);return wL(wL({},t),{},{width:o})});return(e>0&&(r.current=null!=a?a:null),null==a)?null:wl.createElement(y7,null,wl.createElement(w$,{props:t,data:a}))}),wl.createElement(xJ,{label:t.label}),t.children)}function wK(e){var t=(0,wl.useRef)(null);return wl.createElement(wz,{previousRectanglesRef:t,props:e})}var wJ=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:lb(e,t)}};class wY extends wl.PureComponent{render(){var{hide:e,data:t,dataKey:r,className:n,xAxisId:i,yAxisId:a,needClip:o,background:l,id:s}=this.props;if(e||null==t)return null;var c=l$("recharts-bar",n);return wl.createElement(y7,{className:c,id:s},o&&wl.createElement("defs",null,wl.createElement(wb,{clipPathId:s,xAxisId:i,yAxisId:a})),wl.createElement(y7,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(s,")"):void 0},wl.createElement(wG,{data:t,dataKey:r,background:l,allOtherBarProps:this.props}),wl.createElement(wK,this.props)))}}var wW={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!g$.isSsr,legendType:"rect",minPointSize:0,xAxisId:0,yAxisId:0};function wX(e){var t,{xAxisId:r,yAxisId:n,hide:i,legendType:a,minPointSize:o,activeBar:l,animationBegin:s,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:p}=wv(r,n),f=lt(st),h=lB(),m=bi(e.children,v7),g=lt(t=>wI(t,r,n,h,e.id,m));if("vertical"!==f&&"horizontal"!==f)return null;var y=null==g?void 0:g[0];return t=null==y||null==y.height||null==y.width?0:"vertical"===f?y.height/2:y.width/2,wl.createElement(wy,{xAxisId:r,yAxisId:n,data:g,dataPointFormatter:wJ,errorBarOffset:t},wl.createElement(wY,wR({},e,{layout:f,needClip:p,data:g,xAxisId:r,yAxisId:n,hide:i,legendType:a,minPointSize:o,activeBar:l,animationBegin:s,animationDuration:c,animationEasing:u,isAnimationActive:d})))}var wZ=wl.memo(function(e){var t=yk(e,wW),r=lB();return wl.createElement(xw,{id:t.id,type:"bar"},e=>{var n;return wl.createElement(wl.Fragment,null,wl.createElement(xy,{legendPayload:(e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:l_(r,t),payload:e}]})(t)}),wl.createElement(xm,{fn:wF,args:t}),wl.createElement(xO,{type:"bar",id:e,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:null==(n=t.stackId)?void 0:String(n),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),wl.createElement(wX,wR({},t,{id:e})))})});function wQ(e,t){for(var r in e)if(({}).hasOwnProperty.call(e,r)&&(!({}).hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if(({}).hasOwnProperty.call(t,n)&&!({}).hasOwnProperty.call(e,n))return!1;return!0}wZ.displayName="Bar";class w0{static create(e){return new w0(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var n=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+n;case"end":var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i}if(t){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var t=this.range(),r=t[0],n=t[t.length-1];return r<=n?e>=r&&e<=n:e>=n&&e<=r}}(ep="symbol"==typeof(f=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(ep="EPS","string"))?f:f+"")in w0?Object.defineProperty(w0,ep,{value:1e-4,enumerable:!0,configurable:!0,writable:!0}):w0[ep]=1e-4;var w1=function(e){var{width:t,height:r}=e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=(n%180+180)%180*Math.PI/180,a=Math.atan(r/t);return Math.abs(i>a&&i<Math.PI-a?r/Math.sin(i):t/Math.cos(i))};function w2(e,t,r){if(t<1)return[];if(1===t&&void 0===r)return e;for(var n=[],i=0;i<e.length;i+=t)if(void 0!==r&&!0!==r(e[i]))return;else n.push(e[i]);return n}function w3(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function w4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function w5(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w4(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w4(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var w6=["axisLine","width","height","className","hide","ticks"],w8=["viewBox"],w7=["viewBox"];function w9(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Oe(){return(Oe=Object.assign.bind()).apply(null,arguments)}function Ot(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Or(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ot(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var On={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function Oi(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:o,axisLine:l,otherSvgProps:s}=e;if(!l)return null;var c=Or(Or(Or({},s),g5(l)),{},{fill:"none"});if("top"===a||"bottom"===a){var u=+("top"===a&&!o||"bottom"===a&&o);c=Or(Or({},c),{},{x1:t,y1:r+u*i,x2:t+n,y2:r+u*i})}else{var d=+("left"===a&&!o||"right"===a&&o);c=Or(Or({},c),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+i})}return td.createElement("line",Oe({},c,{className:l$("recharts-cartesian-axis-line",(0,ol.default)(l,"className"))}))}function Oa(e){var t,{option:r,tickProps:n,value:i}=e,a=l$(n.className,"recharts-cartesian-axis-tick-value");if(td.isValidElement(r))t=td.cloneElement(r,Or(Or({},n),{},{className:a}));else if("function"==typeof r)t=r(Or(Or({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";"boolean"!=typeof r&&(o=l$(o,null==r?void 0:r.className)),t=td.createElement(v8,Oe({},n,{className:o}),i)}return t}function Oo(e){var{ticks:t=[],tick:r,tickLine:n,stroke:i,tickFormatter:a,unit:o,padding:l,tickTextProps:s,orientation:c,mirror:u,x:d,y:p,width:f,height:h,tickSize:m,tickMargin:g,fontSize:y,letterSpacing:v,getTicksConfig:b,events:x}=e,w=function(e,t,r){var n,{tick:i,ticks:a,viewBox:o,minTickGap:l,orientation:s,interval:c,tickFormatter:u,unit:d,angle:p}=e;if(!a||!a.length||!i)return[];if(od(c)||g$.isSsr)return null!=(n=w2(a,(od(c)?c:0)+1))?n:[];var f="top"===s||"bottom"===s?"width":"height",h=d&&"width"===f?vB(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=(e,n)=>{var i,a="function"==typeof u?u(e.value,n):e.value;return"width"===f?(i=vB(a,{fontSize:t,letterSpacing:r}),w1({width:i.width+h.width,height:i.height+h.height},p)):vB(a,{fontSize:t,letterSpacing:r})[f]},g=a.length>=2?os(a[1].coordinate-a[0].coordinate):1,y=function(e,t,r){var n="width"===r,{x:i,y:a,width:o,height:l}=e;return 1===t?{start:n?i:a,end:n?i+o:a+l}:{start:n?i+o:a+l,end:n?i:a}}(o,g,f);return"equidistantPreserveStart"===c?function(e,t,r,n,i){for(var a,o=(n||[]).slice(),{start:l,end:s}=t,c=0,u=1,d=l;u<=o.length;)if(a=function(){var t,a=null==n?void 0:n[c];if(void 0===a)return{v:w2(n,u)};var o=c,p=()=>(void 0===t&&(t=r(a,o)),t),f=a.coordinate,h=0===c||w3(e,f,p,d,s);h||(c=0,d=l,u+=1),h&&(d=f+e*(p()/2+i),c+=u)}())return a.v;return[]}(g,y,m,a,l):("preserveStart"===c||"preserveStartEnd"===c?function(e,t,r,n,i,a){var o=(n||[]).slice(),l=o.length,{start:s,end:c}=t;if(a){var u=n[l-1],d=r(u,l-1),p=e*(u.coordinate+e*d/2-c);o[l-1]=u=w5(w5({},u),{},{tickCoord:p>0?u.coordinate-p*e:u.coordinate}),w3(e,u.tickCoord,()=>d,s,c)&&(c=u.tickCoord-e*(d/2+i),o[l-1]=w5(w5({},u),{},{isShow:!0}))}for(var f=a?l-1:l,h=function(t){var n,a=o[t],l=()=>(void 0===n&&(n=r(a,t)),n);if(0===t){var u=e*(a.coordinate-e*l()/2-s);o[t]=a=w5(w5({},a),{},{tickCoord:u<0?a.coordinate-u*e:a.coordinate})}else o[t]=a=w5(w5({},a),{},{tickCoord:a.coordinate});w3(e,a.tickCoord,l,s,c)&&(s=a.tickCoord+e*(l()/2+i),o[t]=w5(w5({},a),{},{isShow:!0}))},m=0;m<f;m++)h(m);return o}(g,y,m,a,l,"preserveStartEnd"===c):function(e,t,r,n,i){for(var a=(n||[]).slice(),o=a.length,{start:l}=t,{end:s}=t,c=function(t){var n,c=a[t],u=()=>(void 0===n&&(n=r(c,t)),n);if(t===o-1){var d=e*(c.coordinate+e*u()/2-s);a[t]=c=w5(w5({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else a[t]=c=w5(w5({},c),{},{tickCoord:c.coordinate});w3(e,c.tickCoord,u,l,s)&&(s=c.tickCoord-e*(u()/2+i),a[t]=w5(w5({},c),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return a}(g,y,m,a,l)).filter(e=>e.isShow)}(Or(Or({},b),{},{ticks:t}),y,v),O=function(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}(c,u),E=function(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}(c,u),S=g5(b),A=g6(r),j={};"object"==typeof n&&(j=n);var _=Or(Or({},S),{},{fill:"none"},j),C=w.map((e,t)=>{var{line:y,tick:v}=function(e,t,r,n,i,a,o,l,s){var c,u,d,p,f,h,m=l?-1:1,g=e.tickSize||o,y=od(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":c=u=e.coordinate,h=(d=(p=r+!l*i)-m*g)-m*s,f=y;break;case"left":d=p=e.coordinate,f=(c=(u=t+!l*n)-m*g)-m*s,h=y;break;case"right":d=p=e.coordinate,f=(c=(u=t+l*n)+m*g)+m*s,h=y;break;default:c=u=e.coordinate,h=(d=(p=r+l*i)+m*g)+m*s,f=y}return{line:{x1:c,y1:d,x2:u,y2:p},tick:{x:f,y:h}}}(e,d,p,f,h,c,m,u,g),b=Or(Or(Or(Or({textAnchor:O,verticalAnchor:E},S),{},{stroke:"none",fill:i},A),v),{},{index:t,payload:e,visibleTicksCount:w.length,tickFormatter:a,padding:l},s);return td.createElement(y7,Oe({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},v_(x,e,t)),n&&td.createElement("line",Oe({},_,y,{className:l$("recharts-cartesian-axis-tick-line",(0,ol.default)(n,"className"))})),r&&td.createElement(Oa,{option:r,tickProps:b,value:"".concat("function"==typeof a?a(e.value,t):e.value).concat(o||"")}))});return C.length>0?td.createElement("g",{className:"recharts-cartesian-axis-ticks"},C):null}var Ol=(0,td.forwardRef)((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:o,ticks:l}=e,s=w9(e,w6),[c,u]=(0,td.useState)(""),[d,p]=(0,td.useState)(""),f=(0,td.useRef)(null);(0,td.useImperativeHandle)(t,()=>({getCalculatedWidth:()=>{var t;return(e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){Array.from(t).forEach(e=>{if(e){var t=e.getBoundingClientRect();t.width>o&&(o=t.width)}});var l=r?r.getBoundingClientRect().width:0;return Math.round(o+(i+a)+l+(r?n:0))}return 0})({ticks:f.current,label:null==(t=e.labelRef)?void 0:t.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var h=(0,td.useCallback)(e=>{if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value");f.current=t;var r=t[0];if(r){var n=window.getComputedStyle(r),i=n.fontSize,a=n.letterSpacing;(i!==c||a!==d)&&(u(i),p(a))}}},[c,d]);return o||null!=n&&n<=0||null!=i&&i<=0?null:td.createElement(y7,{className:l$("recharts-cartesian-axis",a),ref:h},td.createElement(Oi,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:g5(e)}),td.createElement(Oo,{ticks:l,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:c,letterSpacing:d,getTicksConfig:e,events:s}),td.createElement(xT,{x:e.x,y:e.y,width:e.width,height:e.height},td.createElement(xU,{label:e.label,labelRef:e.labelRef}),e.children))}),Os=td.memo(Ol,(e,t)=>{var{viewBox:r}=e,n=w9(e,w8),{viewBox:i}=t,a=w9(t,w7);return wQ(r,i)&&wQ(n,a)}),Oc=td.forwardRef((e,t)=>{var r=yk(e,On);return td.createElement(Os,Oe({},r,{ref:t}))});Oc.displayName="CartesianAxis";var Ou=["dangerouslySetInnerHTML","ticks"],Od=["id"],Op=["domain"],Of=["domain"];function Oh(){return(Oh=Object.assign.bind()).apply(null,arguments)}function Om(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Og(e){var t=o8();return(0,td.useLayoutEffect)(()=>(t(mY(e)),()=>{t(mW(e))}),[e,t]),null}var Oy=e=>{var{xAxisId:t,className:r}=e,n=lt(lF),i=lB(),a="xAxis",o=lt(e=>ho(e,a,t,i)),l=lt(e=>hS(e,a,t,i)),s=lt(e=>hf(e,t)),c=lt(e=>hg(e,t)),u=lt(e=>p4(e,t));if(null==s||null==c||null==u)return null;var{dangerouslySetInnerHTML:d,ticks:p}=e,f=Om(e,Ou),{id:h}=u,m=Om(u,Od);return td.createElement(Oc,Oh({},f,m,{scale:o,x:c.x,y:c.y,width:s.width,height:s.height,className:l$("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:l}))},Ov={allowDataOverflow:p3.allowDataOverflow,allowDecimals:p3.allowDecimals,allowDuplicatedCategory:p3.allowDuplicatedCategory,height:p3.height,hide:!1,mirror:p3.mirror,orientation:p3.orientation,padding:p3.padding,reversed:p3.reversed,scale:p3.scale,tickCount:p3.tickCount,type:p3.type,xAxisId:0},Ob=td.memo(e=>{var t,r,n,i,a,o=yk(e,Ov);return td.createElement(td.Fragment,null,td.createElement(Og,{interval:null!=(t=o.interval)?t:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:null!=(r=o.includeHidden)&&r,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:null!=(n=o.angle)?n:0,minTickGap:null!=(i=o.minTickGap)?i:5,tick:null==(a=o.tick)||a,tickFormatter:o.tickFormatter}),td.createElement(Oy,o))},(e,t)=>{var{domain:r}=e,n=Om(e,Op),{domain:i}=t;return!!wQ(n,Om(t,Of))&&(Array.isArray(r)&&2===r.length&&Array.isArray(i)&&2===i.length?r[0]===i[0]&&r[1]===i[1]:wQ({domain:r},{domain:i}))});Ob.displayName="XAxis";var Ox=["dangerouslySetInnerHTML","ticks"],Ow=["id"],OO=["domain"],OE=["domain"];function OS(){return(OS=Object.assign.bind()).apply(null,arguments)}function OA(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Oj(e){var t=o8();return(0,td.useLayoutEffect)(()=>(t(mX(e)),()=>{t(mZ(e))}),[e,t]),null}var O_=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,a=(0,td.useRef)(null),o=(0,td.useRef)(null),l=lt(lF),s=lB(),c=o8(),u="yAxis",d=lt(e=>ho(e,u,t,s)),p=lt(e=>hv(e,t)),f=lt(e=>hy(e,t)),h=lt(e=>hS(e,u,t,s)),m=lt(e=>p8(e,t));if((0,td.useLayoutEffect)(()=>{if(!("auto"!==n||!p||xk(i)||(0,td.isValidElement)(i))&&null!=m){var e=a.current;if(e){var r=e.getCalculatedWidth();Math.round(p.width)!==Math.round(r)&&c(m1({id:t,width:r}))}}},[h,p,c,i,t,n,m]),null==p||null==f||null==m)return null;var{dangerouslySetInnerHTML:g,ticks:y}=e,v=OA(e,Ox),{id:b}=m,x=OA(m,Ow);return td.createElement(Oc,OS({},v,x,{ref:a,labelRef:o,scale:d,x:f.x,y:f.y,tickTextProps:"auto"===n?{width:void 0}:{width:n},width:p.width,height:p.height,className:l$("recharts-".concat(u," ").concat(u),r),viewBox:l,ticks:h}))},OC={allowDataOverflow:p6.allowDataOverflow,allowDecimals:p6.allowDecimals,allowDuplicatedCategory:p6.allowDuplicatedCategory,hide:!1,mirror:p6.mirror,orientation:p6.orientation,padding:p6.padding,reversed:p6.reversed,scale:p6.scale,tickCount:p6.tickCount,type:p6.type,width:p6.width,yAxisId:0},ON=td.memo(e=>{var t,r,n,i,a,o=yk(e,OC);return td.createElement(td.Fragment,null,td.createElement(Oj,{interval:null!=(t=o.interval)?t:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:null!=(r=o.includeHidden)&&r,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:null!=(n=o.angle)?n:0,minTickGap:null!=(i=o.minTickGap)?i:5,tick:null==(a=o.tick)||a,tickFormatter:o.tickFormatter}),td.createElement(O_,o))},(e,t)=>{var{domain:r}=e,n=OA(e,OO),{domain:i}=t;return!!wQ(n,OA(t,OE))&&(Array.isArray(r)&&2===r.length&&Array.isArray(i)&&2===i.length?r[0]===i[0]&&r[1]===i[1]:wQ({domain:r},{domain:i}))});ON.displayName="YAxis";var OT=e.i(74080);function OI(){return(OI=Object.assign.bind()).apply(null,arguments)}function OP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ok(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?OP(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OP(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function OM(e){return Array.isArray(e)&&op(e[0])&&op(e[1])?e.join(" ~ "):e}var OD=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:o,itemSorter:l,wrapperClassName:s,labelClassName:c,label:u,labelFormatter:d,accessibilityLayer:p=!1}=e,f=Ok({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),h=Ok({margin:0},i),m=null!=u,g=m?u:"",y=l$("recharts-default-tooltip",s),v=l$("recharts-tooltip-label",c);return m&&d&&null!=a&&(g=d(u,a)),td.createElement("div",OI({className:y,style:f},p?{role:"status","aria-live":"assertive"}:{}),td.createElement("p",{className:v,style:h},td.isValidElement(g)?g:"".concat(g)),(()=>{if(a&&a.length){var e=(l?(0,lr.default)(a,l):a).map((e,r)=>{if("none"===e.type)return null;var i=e.formatter||o||OM,{value:l,name:s}=e,c=l,u=s;if(i){var d=i(l,s,e,r,a);if(Array.isArray(d))[c,u]=d;else{if(null==d)return null;c=d}}var p=Ok({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},n);return td.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(r),style:p},op(u)?td.createElement("span",{className:"recharts-tooltip-item-name"},u):null,op(u)?td.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,td.createElement("span",{className:"recharts-tooltip-item-value"},c),td.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return td.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null})())},OR=td,OU="recharts-tooltip-wrapper",OL={visibility:"hidden"};function Oq(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:l,viewBox:s,viewBoxDimension:c}=e;if(a&&od(a[n]))return a[n];var u=r[n]-l-(i>0?i:0),d=r[n]+i;if(t[n])return o[n]?u:d;var p=s[n];return null==p?0:o[n]?u<p?Math.max(d,p):Math.max(u,p):null==c?0:d+l>p+c?Math.max(u,p):Math.max(d,p)}function OF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function OG(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?OF(Object(r),!0).forEach(function(t){OB(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OF(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function OB(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class OH extends OR.PureComponent{constructor(){super(...arguments),OB(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),OB(this,"handleKeyDown",e=>{if("Escape"===e.key){var t,r,n,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!=(t=null==(r=this.props.coordinate)?void 0:r.x)?t:0,y:null!=(n=null==(i=this.props.coordinate)?void 0:i.y)?n:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&((null==(e=this.props.coordinate)?void 0:e.x)!==this.state.dismissedAtCoordinate.x||(null==(t=this.props.coordinate)?void 0:t.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:t,animationDuration:r,animationEasing:n,children:i,coordinate:a,hasPayload:o,isAnimationActive:l,offset:s,position:c,reverseDirection:u,useTranslate3d:d,viewBox:p,wrapperStyle:f,lastBoundingBox:h,innerRef:m,hasPortalFromProps:g}=this.props,{cssClasses:y,cssProperties:v}=function(e){var t,r,n,{allowEscapeViewBox:i,coordinate:a,offsetTopLeft:o,position:l,reverseDirection:s,tooltipBox:c,useTranslate3d:u,viewBox:d}=e;return{cssProperties:t=c.height>0&&c.width>0&&a?function(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}({translateX:r=Oq({allowEscapeViewBox:i,coordinate:a,key:"x",offsetTopLeft:o,position:l,reverseDirection:s,tooltipDimension:c.width,viewBox:d,viewBoxDimension:d.width}),translateY:n=Oq({allowEscapeViewBox:i,coordinate:a,key:"y",offsetTopLeft:o,position:l,reverseDirection:s,tooltipDimension:c.height,viewBox:d,viewBoxDimension:d.height}),useTranslate3d:u}):OL,cssClasses:function(e){var{coordinate:t,translateX:r,translateY:n}=e;return l$(OU,{["".concat(OU,"-right")]:od(r)&&t&&od(t.x)&&r>=t.x,["".concat(OU,"-left")]:od(r)&&t&&od(t.x)&&r<t.x,["".concat(OU,"-bottom")]:od(n)&&t&&od(t.y)&&n>=t.y,["".concat(OU,"-top")]:od(n)&&t&&od(t.y)&&n<t.y})}({translateX:r,translateY:n,coordinate:a})}}({allowEscapeViewBox:t,coordinate:a,offsetTopLeft:s,position:c,reverseDirection:u,tooltipBox:{height:h.height,width:h.width},useTranslate3d:d,viewBox:p}),b=g?{}:OG(OG({transition:l&&e?"transform ".concat(r,"ms ").concat(n):void 0},v),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),x=OG(OG({},b),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},f);return OR.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:y,style:x,ref:m},i)}}var OV=e.i(92809);function O$(e,t,r){return!0===t?(0,OV.default)(e,r):"function"==typeof t?(0,OV.default)(e,t):e}function Oz(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[t,r]=(0,td.useState)({height:0,left:0,top:0,width:0}),n=(0,td.useCallback)(e=>{if(null!=e){var n=e.getBoundingClientRect(),i={height:n.height,left:n.left,top:n.top,width:n.width};(Math.abs(i.height-t.height)>1||Math.abs(i.left-t.left)>1||Math.abs(i.top-t.top)>1||Math.abs(i.width-t.width)>1)&&r({height:i.height,left:i.left,top:i.top,width:i.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}var OK=["x","y","top","left","width","height","className"];function OJ(){return(OJ=Object.assign.bind()).apply(null,arguments)}function OY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var OW=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:o=0,className:l}=e,s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?OY(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OY(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({x:t,y:r,top:n,left:i,width:a,height:o},function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,OK));return od(t)&&od(r)&&od(a)&&od(o)&&od(n)&&od(i)?td.createElement("path",OJ({},g8(s),{className:l$("recharts-cross",l),d:"M".concat(t,",").concat(n,"v").concat(o,"M").concat(i,",").concat(r,"h").concat(a)})):null};function OX(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e;return{points:[lh(t,r,n,i),lh(t,r,n,a)],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function OZ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function OQ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?OZ(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OZ(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function O0(){return(O0=Object.assign.bind()).apply(null,arguments)}function O1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function O2(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O1(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O1(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function O3(e){var t,r,n,{coordinate:i,payload:a,index:o,offset:l,tooltipAxisBandSize:s,layout:c,cursor:u,tooltipEventType:d,chartName:p}=e;if(!u||!i||"ScatterChart"!==p&&"axis"!==d)return null;if("ScatterChart"===p)r=i,n=OW;else if("BarChart"===p)t=s/2,r={stroke:"none",fill:"#ccc",x:"horizontal"===c?i.x-t:l.left+.5,y:"horizontal"===c?l.top+.5:i.y-t,width:"horizontal"===c?s:l.width-1,height:"horizontal"===c?l.height-1:s},n=bR;else if("radial"===c){var{cx:f,cy:h,radius:m,startAngle:g,endAngle:y}=OX(i);r={cx:f,cy:h,startAngle:g,endAngle:y,innerRadius:m,outerRadius:m},n=bK}else r={points:function(e,t,r){var n,i,a,o;if("horizontal"===e)a=n=t.x,i=r.top,o=r.top+r.height;else if("vertical"===e)o=i=t.y,n=r.left,a=r.left+r.width;else if(null!=t.cx&&null!=t.cy)if("centric"!==e)return OX(t);else{var{cx:l,cy:s,innerRadius:c,outerRadius:u,angle:d}=t,p=lh(l,s,c,d),f=lh(l,s,u,d);n=p.x,i=p.y,a=f.x,o=f.y}return[{x:n,y:i},{x:a,y:o}]}(c,i,l)},n=vD;var v="object"==typeof u&&"className"in u?u.className:void 0,b=O2(O2(O2(O2({stroke:"#ccc",pointerEvents:"none"},l),r),g6(u)),{},{payload:a,payloadIndex:o,className:l$("recharts-tooltip-cursor",v)});return(0,td.isValidElement)(u)?(0,td.cloneElement)(u,b):(0,td.createElement)(n,b)}function O4(e){var t,r,n,i,a=(t=lt(pJ),r=lt(mh),n=lt(md),lA(OQ(OQ({},t),{},{scale:n}),r)),o=null!=(i=lt(lL))?i:se,l=lt(st),s=lt(pE);return td.createElement(O3,O0({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:o,layout:l,tooltipAxisBandSize:a,chartName:s}))}function O5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function O6(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O5(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O5(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function O8(e){return e.dataKey}var O7=[],O9={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!g$.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ee(e){var t,r,n,i,a,o,l,s,c=yk(e,O9),{active:u,allowEscapeViewBox:d,animationDuration:p,animationEasing:f,content:h,filterNull:m,isAnimationActive:g,offset:y,payloadUniqBy:v,position:b,reverseDirection:x,useTranslate3d:w,wrapperStyle:O,cursor:E,shared:S,trigger:A,defaultIndex:j,portal:_,axisId:C}=c,N=o8(),T="number"==typeof j?String(j):j;(0,td.useEffect)(()=>{N(oU({shared:S,trigger:A,axisId:C,active:u,defaultIndex:T}))},[N,S,A,C,u,T]);var I=l9(),P=gQ(),k=lt(e=>hP(e,S)),{activeIndex:M,isActive:D}=lt(e=>mL(e,k,A,T)),R=lt(e=>mU(e,k,A,T)),U=lt(e=>mR(e,k,A,T)),L=lt(e=>mD(e,k,A,T)),q=(0,td.useContext)(ym),F=null!=u?u:D,[G,B]=Oz([R,F]),H="axis"===k?U:void 0;t=lt(e=>((e,t,r)=>{if(null!=t){var n=hG(e);return"axis"===t?"hover"===r?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:"hover"===r?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}})(e,k,A)),r=lt(pj),n=lt(pS),i=lt(pA),o=null==(a=lt(yu))?void 0:a.active,l=l9(),(0,td.useEffect)(()=>{if(!o&&null!=n&&null!=r){var e=oV({active:F,coordinate:L,dataKey:t,index:M,label:"number"==typeof H?String(H):H,sourceViewBox:l});yl.emit(ys,n,e,r)}},[o,L,t,M,H,r,n,i,F,l]);var V=null!=_?_:q;if(null==V)return null;var $=null!=R?R:O7;F||($=O7),m&&$.length&&($=O$(R.filter(e=>null!=e.value&&(!0!==e.hide||c.includeHidden)),v,O8));var z=$.length>0,K=td.createElement(OH,{allowEscapeViewBox:d,animationDuration:p,animationEasing:f,isAnimationActive:g,active:F,coordinate:L,hasPayload:z,offset:y,position:b,reverseDirection:x,useTranslate3d:w,viewBox:I,wrapperStyle:O,lastBoundingBox:G,innerRef:B,hasPortalFromProps:!!_},(s=O6(O6({},c),{},{payload:$,label:H,active:F,coordinate:L,accessibilityLayer:P}),td.isValidElement(h)?td.cloneElement(h,s):"function"==typeof h?td.createElement(h,s):td.createElement(OD,s)));return td.createElement(td.Fragment,null,(0,OT.createPortal)(K,V),F&&td.createElement(O4,{cursor:E,tooltipEventType:k,coordinate:L,payload:R,index:M}))}var Et=td,Er=td;function En(){return(En=Object.assign.bind()).apply(null,arguments)}function Ei(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ea(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Eo extends Er.PureComponent{renderIcon(e,t){var{inactiveColor:r}=this.props,n=32/6,i=32/3,a=e.inactive?r:e.color,o=null!=t?t:e.type;if("none"===o)return null;if("plainline"===o)return Er.createElement("line",{strokeWidth:4,fill:"none",stroke:a,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:16,x2:32,y2:16,className:"recharts-legend-icon"});if("line"===o)return Er.createElement("path",{strokeWidth:4,fill:"none",stroke:a,d:"M0,".concat(16,"h").concat(i,"\n            A").concat(n,",").concat(n,",0,1,1,").concat(2*i,",").concat(16,"\n            H").concat(32,"M").concat(2*i,",").concat(16,"\n            A").concat(n,",").concat(n,",0,1,1,").concat(i,",").concat(16),className:"recharts-legend-icon"});if("rect"===o)return Er.createElement("path",{stroke:"none",fill:a,d:"M0,".concat(4,"h").concat(32,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(Er.isValidElement(e.legendIcon)){var l=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ei(Object(r),!0).forEach(function(t){Ea(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ei(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e);return delete l.legendIcon,Er.cloneElement(e.legendIcon,l)}return Er.createElement(xa,{fill:a,cx:16,cy:16,size:32,sizeType:"diameter",type:o})}renderItems(){var{payload:e,iconSize:t,layout:r,formatter:n,inactiveColor:i,iconType:a}=this.props,o={x:0,y:0,width:32,height:32},l={display:"horizontal"===r?"inline-block":"block",marginRight:10},s={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((e,r)=>{var c=e.formatter||n,u=l$({"recharts-legend-item":!0,["legend-item-".concat(r)]:!0,inactive:e.inactive});if("none"===e.type)return null;var d=e.inactive?i:e.color,p=c?c(e.value,e,r):e.value;return Er.createElement("li",En({className:u,style:l,key:"legend-item-".concat(r)},v_(this.props,e,r)),Er.createElement(ye,{width:t,height:t,viewBox:o,style:s,"aria-label":"".concat(p," legend icon")},this.renderIcon(e,a)),Er.createElement("span",{className:"recharts-legend-item-text",style:{color:d}},p))})}render(){var{payload:e,layout:t,align:r}=this.props;return e&&e.length?Er.createElement("ul",{className:"recharts-default-legend",style:{padding:0,margin:0,textAlign:"horizontal"===t?r:"left"}},this.renderItems()):null}}Ea(Eo,"displayName","Legend"),Ea(Eo,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var El=["contextPayload"];function Es(){return(Es=Object.assign.bind()).apply(null,arguments)}function Ec(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Eu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ec(Object(r),!0).forEach(function(t){Ed(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ec(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ed(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ep(e){return e.value}function Ef(e){var{contextPayload:t}=e,r=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,El),n=O$(t,e.payloadUniqBy,Ep),i=Eu(Eu({},r),{},{payload:n});return Et.isValidElement(e.content)?Et.cloneElement(e.content,i):"function"==typeof e.content?Et.createElement(e.content,i):Et.createElement(Eo,i)}function Eh(e){var t=o8();return(0,Et.useEffect)(()=>{t(gh(e))},[t,e]),null}function Em(e){var t=o8();return(0,Et.useEffect)(()=>(t(gf(e)),()=>{t(gf({width:0,height:0}))}),[t,e]),null}function Eg(e){var t=lt(li),r=(0,td.useContext)(yg),n=lt(e=>e.layout.margin),{width:i,height:a,wrapperStyle:o,portal:l}=e,[s,c]=Oz([t]),u=lt(lC),d=lt(lN);if(null==u||null==d)return null;var p=u-(n.left||0)-(n.right||0),f=Ey.getWidthOrHeight(e.layout,a,i,p),h=l?o:Eu(Eu({position:"absolute",width:(null==f?void 0:f.width)||i||"auto",height:(null==f?void 0:f.height)||a||"auto"},function(e,t,r,n,i,a){var o,l,{layout:s,align:c,verticalAlign:u}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(o="center"===c&&"vertical"===s?{left:((n||0)-a.width)/2}:"right"===c?{right:r&&r.right||0}:{left:r&&r.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(l="middle"===u?{top:((i||0)-a.height)/2}:"bottom"===u?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Eu(Eu({},o),l)}(o,e,n,u,d,s)),o),m=null!=l?l:r;if(null==m)return null;var g=Et.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:c},Et.createElement(Eh,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),Et.createElement(Em,{width:s.width,height:s.height}),Et.createElement(Ef,Es({},e,f,{margin:n,chartWidth:u,chartHeight:d,contextPayload:t})));return(0,OT.createPortal)(g,m)}class Ey extends Et.PureComponent{static getWidthOrHeight(e,t,r,n){return"vertical"===e&&od(t)?{height:t}:"horizontal"===e?{width:r||n}:null}render(){return Et.createElement(Eg,this.props)}}Ed(Ey,"displayName","Legend"),Ed(Ey,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});let Ev=["#8884d8","#82ca9d","#ffc658","#ff8042","#0088FE","#00C49F"],Eb=({posts:e})=>{let t=(0,td.useMemo)(()=>{let t=e.reduce((e,t)=>(e[t.status]=(e[t.status]||0)+1,e),{}),r=Object.entries(e.reduce((e,t)=>(t.platforms.forEach(t=>{e[t]=(e[t]||0)+1}),e),{})).map(([e,t])=>({name:nc.find(t=>t.id===e)?.name||e,value:Number(t)})).filter(e=>e.value>0),n=Object.keys(nu).map(e=>({name:nu[e].label,value:t[e]||0,color:nu[e].color.replace("bg-","#").replace("-500","")})).filter(e=>e.value>0);return{totalPosts:e.length,platformData:r,statusData:n,statusCounts:t}},[e]),r=({title:e,value:t,className:r})=>(0,tu.jsxs)("div",{className:`bg-white p-6 rounded-lg shadow-lg border border-slate/30 ${r}`,children:[(0,tu.jsx)("h3",{className:"text-sm font-medium text-slate",children:e}),(0,tu.jsx)("p",{className:"mt-2 text-3xl font-semibold text-charcoal-dark",children:t||0})]});return(0,tu.jsxs)("div",{children:[(0,tu.jsx)("h2",{className:"text-3xl font-bold mb-8 text-charcoal-dark",children:"Analytics Dashboard"}),(0,tu.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[(0,tu.jsx)(r,{title:"Total Posts",value:t.totalPosts,className:"bg-indigo-900"}),(0,tu.jsx)(r,{title:"Published",value:t.statusCounts.published,className:"bg-green-900"}),(0,tu.jsx)(r,{title:"Scheduled",value:t.statusCounts.scheduled,className:"bg-blue-900"}),(0,tu.jsx)(r,{title:"Needs Approval",value:t.statusCounts["needs approval"],className:"bg-yellow-900"}),(0,tu.jsx)(r,{title:"Drafts",value:t.statusCounts.draft,className:"bg-gray-700"})]}),(0,tu.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,tu.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg border border-slate/30",children:[(0,tu.jsx)("h3",{className:"text-lg font-semibold text-charcoal-dark mb-4",children:"Platform Distribution"}),t.platformData.length>0?(0,tu.jsx)(l7,{width:"100%",height:300,children:(0,tu.jsxs)(yF,{children:[(0,tu.jsx)(wt,{data:t.platformData,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,fill:"#8884d8",label:!0,children:t.platformData.map((e,t)=>(0,tu.jsx)(v7,{fill:Ev[t%Ev.length]},`cell-${t}`))}),(0,tu.jsx)(Ee,{contentStyle:{backgroundColor:"#1f2937",border:"none",borderRadius:"0.5rem"}}),(0,tu.jsx)(Ey,{})]})}):(0,tu.jsx)("p",{className:"text-gray-500 text-center py-10",children:"No data to display."})]}),(0,tu.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg border border-slate/30",children:[(0,tu.jsx)("h3",{className:"text-lg font-semibold text-charcoal-dark mb-4",children:"Post Status Overview"}),t.statusData.length>0?(0,tu.jsx)(l7,{width:"100%",height:300,children:(0,tu.jsxs)(wo,{data:t.statusData,layout:"vertical",margin:{top:5,right:20,left:20,bottom:5},children:[(0,tu.jsx)(Ob,{type:"number",stroke:"#9ca3af"}),(0,tu.jsx)(ON,{type:"category",dataKey:"name",stroke:"#9ca3af",width:100,tick:{fontSize:12}}),(0,tu.jsx)(Ee,{contentStyle:{backgroundColor:"#1f2937",border:"none",borderRadius:"0.5rem"}}),(0,tu.jsx)(wZ,{dataKey:"value",barSize:25,children:t.statusData.map((e,t)=>(0,tu.jsx)(v7,{fill:nu[e.name.toLowerCase().replace(" ","-")]?.color.replace("bg-","#").replace("-500","")||"#8884d8"},`cell-${t}`))})]})}):(0,tu.jsx)("p",{className:"text-gray-500 text-center py-10",children:"No data to display."})]})]})]})},Ex=nh("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),Ew=nh("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),EO=nh("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),EE=({post:e,onUpdatePost:t,onDeletePost:r,connectedAccounts:n})=>{let[i,a]=(0,td.useState)(e.platforms[0]),[o,l]=(0,td.useState)(!1),[s,c]=(0,td.useState)(""),u=()=>{let r={status:"published",publishedAt:new Date().toISOString()};t({...e,...r})},d=()=>{if(!s)return;let r={status:"scheduled",scheduledAt:new Date(s).toISOString()};t({...e,...r}),l(!1),c("")},p=()=>{t({...e,status:"ready to publish",scheduledAt:void 0})},f=e.platforms.filter(e=>!n[e]),h=0===f.length,m=({onClick:e,icon:t,label:r,className:n,disabled:i})=>(0,tu.jsxs)("button",{onClick:e,disabled:i,className:`flex items-center justify-center text-xs font-bold py-2 px-3 rounded transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed ${n}`,children:[(0,tu.jsx)(t,{className:"w-4 h-4 mr-1.5"}),(0,tu.jsx)("span",{children:r})]});return(0,tu.jsxs)(tu.Fragment,{children:[(0,tu.jsxs)("div",{className:"bg-white rounded-lg shadow-lg flex flex-col overflow-hidden border border-slate/30",children:[(0,tu.jsx)("div",{className:"p-4 bg-light-gray",children:(0,tu.jsxs)("div",{className:"flex justify-between items-start",children:[(0,tu.jsx)("p",{className:"font-bold text-lg text-charcoal-dark pr-2 break-words flex-1 truncate",children:e.topic}),(0,tu.jsx)(({status:e})=>{let t=nu[e];return(0,tu.jsx)("span",{className:`px-2.5 py-1 text-xs font-semibold rounded-full text-white ${t.color}`,children:t.label})},{status:e.status})]})}),(0,tu.jsxs)("div",{className:"flex-grow p-4 pt-2",children:[(0,tu.jsx)(()=>(0,tu.jsx)("div",{className:"flex items-center gap-1 mb-4 p-1 bg-light-gray rounded-lg",children:e.platforms.map(e=>{let t=nc.find(t=>t.id===e);if(!t)return null;let{icon:r}=t;return(0,tu.jsxs)("button",{onClick:()=>a(e),title:`Preview on ${t.name}`,className:`flex-1 flex justify-center items-center p-2 rounded-md transition-all duration-200 ${i===e?"bg-charcoal text-white":"text-slate hover:bg-slate/10 hover:text-charcoal-dark"}`,children:[" ",(0,tu.jsx)(r,{className:"w-5 h-5"})," "]},e)})}),{}),(0,tu.jsx)(({platform:t})=>{let r=nc.find(e=>e.id===t);if(!r)return null;let n=e.content[t]||"";return(0,tu.jsxs)("div",{className:"bg-slate/10 rounded-lg p-4",children:[(0,tu.jsxs)("div",{className:"flex items-center mb-4",children:[(0,tu.jsx)("div",{className:"w-11 h-11 bg-charcoal rounded-full flex items-center justify-center text-white font-bold text-lg flex-shrink-0",children:"AI"}),(0,tu.jsxs)("div",{className:"ml-3",children:[(0,tu.jsx)("p",{className:"font-semibold text-charcoal-dark leading-tight",children:"AI Content OS"}),(0,tu.jsxs)("p",{className:"flex items-center text-xs text-slate",children:["Preview for ",r.name]})]})]}),(0,tu.jsx)("p",{className:"text-charcoal text-sm mb-4 whitespace-pre-wrap h-24 overflow-y-auto",children:n}),e.generatedImage&&(0,tu.jsx)("img",{src:e.generatedImage,alt:"Generated content",className:"rounded-lg w-full border border-slate/30 mb-4"}),e.generatedVideoUrl&&(0,tu.jsx)("video",{src:e.generatedVideoUrl,controls:!0,className:"rounded-lg w-full border border-slate/30"})]})},{platform:i})]}),(0,tu.jsx)("div",{className:"p-3 bg-light-gray flex flex-wrap gap-2 justify-between items-center",children:(()=>{switch(e.status){case"ready to publish":return(0,tu.jsxs)("div",{className:"flex flex-col w-full gap-2",children:[(0,tu.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,tu.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,tu.jsx)(m,{onClick:()=>l(!0),icon:EO,label:"Schedule",className:"text-white bg-purple-600 hover:bg-purple-700"}),(0,tu.jsx)(m,{onClick:u,disabled:!h,icon:nm,label:"Publish Now",className:"bg-charcoal hover:bg-charcoal-dark text-white"})]}),(0,tu.jsx)(m,{onClick:()=>r(e.id),icon:n8,label:"",className:"bg-red-600 hover:bg-red-700 text-white"})]}),!h&&(0,tu.jsxs)("div",{className:"text-xs text-yellow-300 bg-yellow-900/50 p-2 rounded flex items-center gap-2",children:[(0,tu.jsx)(Ex,{className:"w-4 h-4 flex-shrink-0"}),(0,tu.jsxs)("span",{children:["Connect ",f.map(e=>nc.find(t=>t.id===e)?.name).join(", ")," account(s) to publish."]})]})]});case"scheduled":return(0,tu.jsxs)("div",{className:"flex items-center justify-between w-full text-sm",children:[(0,tu.jsxs)("div",{className:"flex items-center gap-2 text-blue-300",children:[(0,tu.jsx)(EO,{className:"w-4 h-4"}),(0,tu.jsx)("span",{children:new Date(e.scheduledAt).toLocaleString()})]}),(0,tu.jsx)("button",{onClick:p,className:"text-xs text-slate hover:text-charcoal-dark hover:underline",children:"Unschedule"})]});case"published":return(0,tu.jsxs)("div",{className:"flex items-center justify-between w-full text-sm",children:[(0,tu.jsxs)("div",{className:"flex items-center gap-2 text-green-300",children:[(0,tu.jsx)(Ew,{className:"w-4 h-4"}),(0,tu.jsx)("span",{children:new Date(e.publishedAt).toLocaleString()})]}),(0,tu.jsx)("a",{href:"#",className:"text-xs text-charcoal-dark hover:underline",children:"View Live Post"})]});default:return null}})()})]}),o&&(0,tu.jsx)(()=>(0,tu.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>l(!1),children:(0,tu.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md flex flex-col border border-slate/30",onClick:e=>e.stopPropagation(),children:[(0,tu.jsxs)("header",{className:"flex justify-between items-center p-4 border-b border-slate/30",children:[(0,tu.jsx)("h2",{className:"text-xl font-bold text-charcoal-dark",children:"Schedule Post"}),(0,tu.jsx)("button",{onClick:()=>l(!1),className:"p-2 rounded-full text-slate hover:bg-slate/10 hover:text-charcoal-dark transition-colors",children:(0,tu.jsx)(ir,{className:"w-6 h-6"})})]}),(0,tu.jsxs)("div",{className:"p-6 space-y-4",children:[(0,tu.jsx)("p",{className:"text-charcoal",children:"Select a date and time to schedule this post for."}),(0,tu.jsx)("input",{type:"datetime-local",value:s,onChange:e=>c(e.target.value),className:"mt-1 block w-full bg-white border-slate/30 rounded-md shadow-sm focus:ring-charcoal focus:border-charcoal text-charcoal p-3",min:new Date().toISOString().slice(0,16)}),(0,tu.jsx)("button",{onClick:d,disabled:!s,className:"w-full inline-flex justify-center items-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-charcoal hover:bg-charcoal-dark disabled:bg-slate disabled:cursor-not-allowed",children:"Confirm Schedule"})]})]})}),{})]})},ES=({posts:e,onUpdatePost:t,onDeletePost:r,connectedAccounts:n})=>{let[i,a]=(0,td.useState)(""),[o,l]=(0,td.useState)("all"),s=(0,td.useMemo)(()=>e.filter(e=>["ready to publish","scheduled","published"].includes(e.status)).filter(e=>{let t=e.topic.toLowerCase().includes(i.toLowerCase()),r="all"===o||e.platforms.includes(o);return t&&r}).sort((e,t)=>{let r={"ready to publish":1,scheduled:2,published:3},n=r[e.status]??99,i=r[t.status]??99;if(n!==i)return n-i;let a=e.publishedAt||e.scheduledAt||e.createdAt;return new Date(t.publishedAt||t.scheduledAt||t.createdAt).getTime()-new Date(a).getTime()}),[e,i,o]);return 0===s.length&&""===i&&"all"===o?(0,tu.jsxs)("div",{className:"text-center py-20",children:[(0,tu.jsx)("h2",{className:"text-3xl font-semibold text-slate",children:"Nothing to Publish"}),(0,tu.jsx)("p",{className:"text-slate mt-2",children:'Finalize a post in "Manage Posts" and it will appear here, ready for action.'})]}):(0,tu.jsxs)("div",{children:[(0,tu.jsx)("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:(0,tu.jsx)("h2",{className:"text-3xl font-bold text-charcoal-dark",children:"Publishing Command Center"})}),(0,tu.jsx)(id,{onSearchChange:a,onStatusChange:()=>{},onPlatformChange:l,showStatusFilter:!1}),(0,tu.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:s.map(e=>(0,tu.jsx)(EE,{post:e,onUpdatePost:t,onDeletePost:r,connectedAccounts:n},e.id))})]})},EA=nh("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Ej=nh("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),E_=nh("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),EC={twitter:{name:"Twitter/X",docsUrl:"https://developer.twitter.com/en/docs/twitter-api",fields:[{key:"apiKey",label:"API Key",type:"text",required:!0},{key:"apiSecret",label:"API Secret",type:"password",required:!0},{key:"accessToken",label:"Access Token",type:"text",required:!0},{key:"accessTokenSecret",label:"Access Token Secret",type:"password",required:!0}],instructions:["Go to the Twitter Developer Portal","Create a new app or select an existing one",'Generate API keys and access tokens under "Keys and tokens"',"Copy all four credentials and paste them below"]},linkedin:{name:"LinkedIn",docsUrl:"https://learn.microsoft.com/en-us/linkedin/shared/authentication/authentication",fields:[{key:"clientId",label:"Client ID",type:"text",required:!0},{key:"clientSecret",label:"Client Secret",type:"password",required:!0},{key:"accessToken",label:"Access Token",type:"text",required:!0}],instructions:["Go to LinkedIn Developers","Create a new app",'Request access to the "Share on LinkedIn" and "Sign In with LinkedIn" products',"Copy your Client ID and Client Secret","Generate an access token using OAuth 2.0 flow"]},facebook:{name:"Facebook",docsUrl:"https://developers.facebook.com/docs/pages-api",fields:[{key:"appId",label:"App ID",type:"text",required:!0},{key:"appSecret",label:"App Secret",type:"password",required:!0},{key:"accessToken",label:"Page Access Token",type:"text",required:!0},{key:"pageId",label:"Page ID (Optional)",type:"text",required:!1}],instructions:["Go to Facebook Developers",'Create a new app with "Business" type','Add the "Pages" product to your app',"Generate a Page Access Token for your Facebook Page","Copy your App ID, App Secret, and Page Access Token"]},instagram:{name:"Instagram",docsUrl:"https://developers.facebook.com/docs/instagram-api",fields:[{key:"accessToken",label:"Access Token",type:"text",required:!0},{key:"userId",label:"Instagram User ID (Optional)",type:"text",required:!1}],instructions:["Instagram API requires a Facebook Business account","Go to Facebook Developers and create an app","Add Instagram Graph API product","Connect your Instagram Business account","Generate a long-lived access token"]}},EN=({platform:e,isOpen:t,onClose:r,onSave:n})=>{let[i,a]=(0,td.useState)({}),[o,l]=(0,td.useState)(!1),[s,c]=(0,td.useState)(null),[u,d]=(0,td.useState)(!0);if(!t)return null;let p=EC[e],f=async e=>{e.preventDefault(),c(null);let t=p.fields.filter(e=>e.required&&!i[e.key]?.trim()).map(e=>e.label);if(t.length>0)return void c(`Please fill in: ${t.join(", ")}`);l(!0);try{let e={...i,isConnected:!0,connectedAt:new Date().toISOString()};await n(e),a({}),r()}catch(e){c(e instanceof Error?e.message:"Failed to save credentials")}finally{l(!1)}};return(0,tu.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,tu.jsxs)("div",{className:"bg-white rounded-lg shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[(0,tu.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-slate/30",children:[(0,tu.jsxs)("h2",{className:"text-2xl font-bold text-charcoal-dark",children:["Connect ",p.name]}),(0,tu.jsx)("button",{onClick:r,className:"text-slate hover:text-charcoal-dark transition-colors",children:(0,tu.jsx)(ir,{className:"w-6 h-6"})})]}),(0,tu.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:[(0,tu.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6 flex gap-3",children:[(0,tu.jsx)(EA,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),(0,tu.jsxs)("div",{className:"text-sm text-yellow-800",children:[(0,tu.jsx)("p",{className:"font-semibold mb-1",children:"Security Notice"}),(0,tu.jsx)("p",{children:"Credentials are stored locally in your browser. For production use, consider using a secure backend server to store sensitive API keys."})]})]}),(0,tu.jsxs)("button",{onClick:()=>d(!u),className:"flex items-center gap-2 text-charcoal hover:text-charcoal-dark mb-4 font-medium",children:[(0,tu.jsx)(E_,{className:"w-5 h-5"}),u?"Hide":"Show"," Setup Instructions"]}),u&&(0,tu.jsxs)("div",{className:"bg-light-gray rounded-lg p-4 mb-6",children:[(0,tu.jsx)("h3",{className:"font-semibold text-charcoal-dark mb-3",children:"How to get your credentials:"}),(0,tu.jsx)("ol",{className:"space-y-2 text-sm text-slate list-decimal list-inside",children:p.instructions.map((e,t)=>(0,tu.jsx)("li",{children:e},t))}),(0,tu.jsxs)("a",{href:p.docsUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 mt-4 text-charcoal hover:text-charcoal-dark font-medium text-sm",children:[(0,tu.jsx)(n9,{className:"w-4 h-4"}),"View Official Documentation"]})]}),(0,tu.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[p.fields.map(e=>(0,tu.jsxs)("div",{children:[(0,tu.jsxs)("label",{className:"block text-sm font-medium text-charcoal-dark mb-2",children:[e.label,e.required&&(0,tu.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,tu.jsx)("input",{type:e.type,value:i[e.key]||"",onChange:t=>{var r,n;return r=e.key,n=t.target.value,void(a(e=>({...e,[r]:n})),c(null))},className:"w-full px-4 py-2 border border-slate/30 rounded-lg focus:ring-2 focus:ring-charcoal focus:border-charcoal",placeholder:`Enter your ${e.label.toLowerCase()}`,required:e.required})]},e.key)),s&&(0,tu.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex gap-2",children:[(0,tu.jsx)(EA,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),(0,tu.jsx)("p",{className:"text-sm text-red-800",children:s})]})]})]}),(0,tu.jsxs)("div",{className:"flex gap-3 p-6 border-t border-slate/30 bg-light-gray",children:[(0,tu.jsx)("button",{onClick:r,className:"flex-1 px-4 py-2 border border-slate/30 rounded-lg text-charcoal hover:bg-white transition-colors font-medium",disabled:o,children:"Cancel"}),(0,tu.jsx)("button",{onClick:f,disabled:o,className:"flex-1 px-4 py-2 bg-charcoal text-white rounded-lg hover:bg-charcoal-dark transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Connecting...":"Connect Account"})]})]})})},ET="social_media_credentials";function EI(e){try{let t=JSON.stringify(e),r=function(e){try{return btoa(e).split("").reverse().join("")}catch(t){return console.error("Obfuscation error:",t),e}}(t);localStorage.setItem(ET,r)}catch(e){throw console.error("Failed to save credentials:",e),Error("Failed to save credentials")}}function EP(){try{let e=localStorage.getItem(ET);if(!e)return{};let t=function(e){try{let t=e.split("").reverse().join("");return atob(t)}catch(t){return console.error("Deobfuscation error:",t),e}}(e);return JSON.parse(t)}catch(e){return console.error("Failed to load credentials:",e),{}}}async function Ek(e){try{let e=await fetch("/api/twitter/verify",{method:"POST",headers:{"Content-Type":"application/json"}});if(!e.ok){let t=await e.json();return{success:!1,error:t.error||"Verification failed"}}let t=await e.json();return{success:t.connected,username:t.username}}catch(e){return console.error("Twitter verification error:",e),{success:!1,error:e instanceof Error?e.message:"Verification failed"}}}async function EM(e){try{if(!e.clientId||!e.clientSecret||!e.accessToken)return{success:!1,error:"Missing required credentials"};if(e.expiresAt&&new Date(e.expiresAt)<new Date)return{success:!1,error:"Access token expired. Please reconnect."};return console.log("LinkedIn credentials would be verified via backend"),{success:!0,profileName:e.profileName||"LinkedIn User"}}catch(e){return console.error("LinkedIn verification error:",e),{success:!1,error:e instanceof Error?e.message:"Verification failed"}}}async function ED(e){try{if(!e.appId||!e.appSecret||!e.accessToken)return{success:!1,error:"Missing required credentials"};if(e.expiresAt&&new Date(e.expiresAt)<new Date)return{success:!1,error:"Access token expired. Please reconnect."};return console.log("Facebook credentials would be verified via backend"),{success:!0,pageName:e.pageName||"Facebook Page"}}catch(e){return console.error("Facebook verification error:",e),{success:!1,error:e instanceof Error?e.message:"Verification failed"}}}async function ER(e){try{if(!e.accessToken)return{success:!1,error:"Missing access token"};if(e.expiresAt&&new Date(e.expiresAt)<new Date)return{success:!1,error:"Access token expired. Please reconnect."};return console.log("Instagram credentials would be verified via backend"),{success:!0,username:e.username||"instagram_user"}}catch(e){return console.error("Instagram verification error:",e),{success:!1,error:e instanceof Error?e.message:"Verification failed"}}}let EU=({connectedAccounts:e,onUpdateAccounts:t})=>{let[r,n]=(0,td.useState)(null),[i,a]=(0,td.useState)(null),[o,l]=(0,td.useState)({twitter:void 0,linkedin:void 0,facebook:void 0,instagram:void 0}),[s,c]=(0,td.useState)({twitter:void 0,linkedin:void 0,facebook:void 0,instagram:void 0});(0,td.useEffect)(()=>{u()},[]);let u=()=>{let e,r=(e=EP(),{twitter:e.twitter?.isConnected??!1,linkedin:e.linkedin?.isConnected??!1,facebook:e.facebook?.isConnected??!1,instagram:e.instagram?.isConnected??!1});t(r);let n={twitter:void 0,linkedin:void 0,facebook:void 0,instagram:void 0};Object.keys(r).forEach(e=>{if(r[e]){let t=EP()[e];t&&("twitter"===e?n[e]=t.username:"linkedin"===e?n[e]=t.profileName:"facebook"===e?n[e]=t.pageName:"instagram"===e&&(n[e]=t.username))}}),c(n)},d=async e=>{if(r){a(r),l(e=>({...e,[r]:void 0}));try{let t,i;switch(r){case"twitter":(t=await Ek(e)).success&&t.username&&(e.username=t.username);break;case"linkedin":(t=await EM(e)).success&&t.profileName&&(e.profileName=t.profileName);break;case"facebook":(t=await ED(e)).success&&t.pageName&&(e.pageName=t.pageName);break;case"instagram":(t=await ER(e)).success&&t.username&&(e.username=t.username)}if(t&&!t.success)throw Error(t.error||"Verification failed");(i=EP())[r]=e,EI(i),u(),n(null)}catch(e){throw console.error("Failed to save credentials:",e),l(t=>({...t,[r]:e instanceof Error?e.message:"Failed to connect"})),e}finally{a(null)}}};return(0,tu.jsxs)("div",{children:[(0,tu.jsx)("h2",{className:"text-3xl font-bold mb-8 text-charcoal-dark",children:"Connected Accounts"}),(0,tu.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-xl max-w-3xl mx-auto border border-slate/30",children:[(0,tu.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6 flex gap-3",children:[(0,tu.jsx)(Ej,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),(0,tu.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,tu.jsx)("p",{className:"font-semibold mb-1",children:"Production-Ready Integration"}),(0,tu.jsx)("p",{children:"Connect your social media accounts by providing your API credentials. Once connected, you'll be able to publish posts directly from this app."})]})]}),(0,tu.jsx)("div",{className:"space-y-4",children:nc.map(({id:t,name:r,icon:a})=>{let c=e[t],d=i===t,p=o[t],f=s[t];return(0,tu.jsxs)("div",{className:"bg-light-gray rounded-lg overflow-hidden",children:[(0,tu.jsxs)("div",{className:"flex items-center justify-between p-4",children:[(0,tu.jsxs)("div",{className:"flex items-center gap-4",children:[(0,tu.jsx)(a,{className:"w-8 h-8 text-charcoal"}),(0,tu.jsxs)("div",{children:[(0,tu.jsx)("span",{className:"text-lg font-medium text-charcoal-dark block",children:r}),c&&f&&(0,tu.jsxs)("span",{className:"text-sm text-slate",children:["@",f]})]})]}),d?(0,tu.jsxs)("div",{className:"flex items-center gap-2 text-slate",children:[(0,tu.jsx)(nv,{className:"w-5 h-5 animate-spin"}),(0,tu.jsx)("span",{className:"font-semibold",children:"Verifying..."})]}):c?(0,tu.jsxs)("div",{className:"flex items-center gap-4",children:[(0,tu.jsxs)("div",{className:"flex items-center text-green-600",children:[(0,tu.jsx)(nb,{className:"w-5 h-5 mr-2"}),(0,tu.jsx)("span",{className:"font-semibold",children:"Connected"})]}),(0,tu.jsx)("button",{onClick:()=>{let e;(e=EP())[t]&&(e[t]={...e[t],isConnected:!1},EI(e)),u(),l(e=>({...e,[t]:void 0}))},className:"px-4 py-2 text-sm font-medium bg-slate hover:bg-slate/80 rounded-md text-white transition-colors",children:"Disconnect"})]}):(0,tu.jsxs)("button",{onClick:()=>{n(t),l(e=>({...e,[t]:void 0}))},className:"px-4 py-2 text-sm font-medium bg-charcoal hover:bg-charcoal-dark rounded-md text-white flex items-center transition-colors",children:[(0,tu.jsx)(Ex,{className:"w-4 h-4 mr-2"}),"Connect"]})]}),p&&(0,tu.jsx)("div",{className:"px-4 pb-4",children:(0,tu.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex gap-2",children:[(0,tu.jsx)(EA,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),(0,tu.jsx)("p",{className:"text-sm text-red-800",children:p})]})})]},t)})}),(0,tu.jsx)("div",{className:"mt-6 pt-6 border-t border-slate/30",children:(0,tu.jsxs)("p",{className:"text-sm text-slate",children:[(0,tu.jsx)("strong",{children:"Note:"})," Your credentials are stored locally in your browser. For production deployment, consider implementing a secure backend service to store and manage API credentials."]})})]}),r&&(0,tu.jsx)(EN,{platform:r,isOpen:!0,onClose:()=>n(null),onSave:d})]})},EL=nh("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Eq=nh("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),EF=()=>{let[e,t]=(0,td.useState)([]),[r,n]=(0,td.useState)([]),[i,a]=(0,td.useState)(""),[o,l]=(0,td.useState)("all"),[s,c]=(0,td.useState)(null),[u,d]=(0,td.useState)({totalAssets:0,totalSize:0}),[p,f]=(0,td.useState)(!1),h=(0,td.useCallback)(async()=>{let e=await nX();t(e),n(e),d(await n2())},[]);(0,td.useEffect)(()=>{h()},[h]),(0,td.useEffect)(()=>{let t=e;"all"!==o&&(t=t.filter(e=>e.type===o)),i&&(t=t.filter(e=>e.name.toLowerCase().includes(i.toLowerCase())||e.tags.some(e=>e.toLowerCase().includes(i.toLowerCase())))),n(t)},[e,o,i]);let m=async e=>{let t=e.target.files;if(t&&0!==t.length){f(!0);try{for(let e of Array.from(t))await n1(e);await h()}catch(e){console.error("Error uploading files:",e)}finally{f(!1)}}},g=async e=>{confirm("Are you sure you want to delete this media asset?")&&(await nZ(e),await h(),c(null))},y=e=>{if(0===e)return"Unknown";let t=Math.floor(Math.log(e)/Math.log(1024));return`${Math.round(e/Math.pow(1024,t)*100)/100} ${["Bytes","KB","MB","GB"][t]}`};return(0,tu.jsxs)("div",{children:[(0,tu.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,tu.jsxs)("div",{children:[(0,tu.jsx)("h2",{className:"text-3xl font-bold text-charcoal-dark",children:"Media Library"}),(0,tu.jsxs)("p",{className:"text-slate mt-1",children:[u.totalAssets," assets  ",y(u.totalSize)," total"]})]}),(0,tu.jsxs)("label",{className:"cursor-pointer inline-flex items-center px-4 py-2 bg-charcoal hover:bg-charcoal-dark text-white rounded-lg transition",children:[(0,tu.jsx)(EL,{className:"w-5 h-5 mr-2"}),p?"Uploading...":"Upload Media",(0,tu.jsx)("input",{type:"file",multiple:!0,accept:"image/*,video/*",onChange:m,className:"hidden",disabled:p})]})]}),(0,tu.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,tu.jsxs)("div",{className:"flex-1 relative",children:[(0,tu.jsx)(iu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate w-5 h-5"}),(0,tu.jsx)("input",{type:"text",placeholder:"Search by name or tags...",value:i,onChange:e=>a(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-white border border-slate/30 rounded-lg text-charcoal focus:ring-2 focus:ring-charcoal focus:border-transparent"})]}),(0,tu.jsxs)("div",{className:"flex bg-light-gray rounded-lg p-1 border border-slate/30",children:[(0,tu.jsx)("button",{onClick:()=>l("all"),className:`px-4 py-2 rounded-md text-sm font-medium transition ${"all"===o?"bg-charcoal text-white":"text-slate hover:text-charcoal-dark"}`,children:"All"}),(0,tu.jsx)("button",{onClick:()=>l("image"),className:`px-4 py-2 rounded-md text-sm font-medium transition ${"image"===o?"bg-charcoal text-white":"text-slate hover:text-charcoal-dark"}`,children:"Images"}),(0,tu.jsx)("button",{onClick:()=>l("video"),className:`px-4 py-2 rounded-md text-sm font-medium transition ${"video"===o?"bg-charcoal text-white":"text-slate hover:text-charcoal-dark"}`,children:"Videos"})]})]}),0===r.length?(0,tu.jsxs)("div",{className:"text-center py-20 bg-white rounded-lg border border-slate/30",children:[(0,tu.jsx)(n4,{className:"w-16 h-16 text-slate mx-auto mb-4"}),(0,tu.jsx)("h3",{className:"text-xl font-semibold text-slate",children:"No media assets found"}),(0,tu.jsx)("p",{className:"text-slate mt-2",children:"Upload images or videos to get started"})]}):(0,tu.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:r.map(e=>(0,tu.jsxs)("div",{onClick:()=>c(e),className:"group relative bg-white rounded-lg overflow-hidden cursor-pointer hover:ring-2 hover:ring-charcoal transition border border-slate/30",children:[(0,tu.jsx)("div",{className:"aspect-square bg-gray-900 flex items-center justify-center",children:"image"===e.type?(0,tu.jsx)("img",{src:e.url,alt:e.name,className:"w-full h-full object-cover"}):(0,tu.jsxs)("div",{className:"relative w-full h-full",children:[e.thumbnailUrl?(0,tu.jsx)("img",{src:e.thumbnailUrl,alt:e.name,className:"w-full h-full object-cover"}):(0,tu.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,tu.jsx)(n3,{className:"w-12 h-12 text-gray-600"})}),(0,tu.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40",children:(0,tu.jsx)(n3,{className:"w-8 h-8 text-white"})})]})}),(0,tu.jsxs)("div",{className:"p-2",children:[(0,tu.jsx)("p",{className:"text-xs text-charcoal truncate",children:e.name}),(0,tu.jsxs)("div",{className:"flex items-center justify-between mt-1",children:[(0,tu.jsx)("span",{className:"text-xs text-slate",children:y(e.size)}),"ai-generated"===e.source&&(0,tu.jsx)("span",{className:"text-xs bg-purple-900/50 text-purple-300 px-2 py-0.5 rounded",children:"AI"})]})]})]},e.id))}),s&&(0,tu.jsx)("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",onClick:()=>c(null),children:(0,tu.jsx)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto border border-slate/30",onClick:e=>e.stopPropagation(),children:(0,tu.jsxs)("div",{className:"p-6",children:[(0,tu.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,tu.jsx)("h3",{className:"text-2xl font-bold text-charcoal-dark",children:s.name}),(0,tu.jsx)("button",{onClick:()=>c(null),className:"text-slate hover:text-charcoal-dark",children:(0,tu.jsx)(ir,{className:"w-6 h-6"})})]}),(0,tu.jsx)("div",{className:"mb-6",children:"image"===s.type?(0,tu.jsx)("img",{src:s.url,alt:s.name,className:"w-full rounded-lg"}):(0,tu.jsx)("video",{src:s.url,controls:!0,className:"w-full rounded-lg"})}),(0,tu.jsxs)("div",{className:"space-y-4",children:[(0,tu.jsxs)("div",{children:[(0,tu.jsx)("p",{className:"text-sm text-slate",children:"Type"}),(0,tu.jsx)("p",{className:"text-charcoal-dark capitalize",children:s.type})]}),(0,tu.jsxs)("div",{children:[(0,tu.jsx)("p",{className:"text-sm text-slate",children:"Size"}),(0,tu.jsx)("p",{className:"text-charcoal-dark",children:y(s.size)})]}),(0,tu.jsxs)("div",{children:[(0,tu.jsx)("p",{className:"text-sm text-slate",children:"Source"}),(0,tu.jsx)("p",{className:"text-charcoal-dark capitalize",children:s.source.replace("-"," ")})]}),(0,tu.jsxs)("div",{children:[(0,tu.jsx)("p",{className:"text-sm text-slate",children:"Created"}),(0,tu.jsx)("p",{className:"text-charcoal-dark",children:new Date(s.createdAt).toLocaleString()})]}),(0,tu.jsxs)("div",{children:[(0,tu.jsx)("p",{className:"text-sm text-slate mb-2",children:"Tags"}),(0,tu.jsx)("div",{className:"flex flex-wrap gap-2",children:s.tags.length>0?s.tags.map((e,t)=>(0,tu.jsx)("span",{className:"px-2 py-1 bg-charcoal/10 text-charcoal-dark rounded text-sm",children:e},t)):(0,tu.jsx)("p",{className:"text-slate text-sm",children:"No tags"})})]})]}),(0,tu.jsxs)("div",{className:"flex gap-2 mt-6",children:[(0,tu.jsxs)("a",{href:s.url,download:s.name,className:"flex items-center px-4 py-2 bg-charcoal hover:bg-charcoal-dark text-white rounded-lg transition",children:[(0,tu.jsx)(Eq,{className:"w-4 h-4 mr-2"}),"Download"]}),(0,tu.jsxs)("button",{onClick:()=>g(s.id),className:"flex items-center px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition",children:[(0,tu.jsx)(n8,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})})})]})},EG="campaigns";function EB(){try{let e=localStorage.getItem(EG);return e?JSON.parse(e):[]}catch{return[]}}let EH=nh("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),EV=nh("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),E$=({posts:e})=>{let t,[r,n]=(0,td.useState)([]),[i,a]=(0,td.useState)(!1),[o,l]=(0,td.useState)(null),[s,c]=(0,td.useState)({name:"",description:"",startDate:"",endDate:"",goals:""});(0,td.useEffect)(()=>{u()},[]);let u=()=>{n(EB())},d=t=>{let r=e.filter(e=>e.campaignId===t);return{total:r.length,published:r.filter(e=>"published"===e.status).length,scheduled:r.filter(e=>"scheduled"===e.status).length,draft:r.filter(e=>"draft"===e.status).length}};return(0,tu.jsxs)("div",{children:[(0,tu.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,tu.jsx)("h2",{className:"text-3xl font-bold text-charcoal-dark",children:"Campaign Management"}),(0,tu.jsxs)("button",{onClick:()=>a(!0),className:"flex items-center px-4 py-2 bg-charcoal hover:bg-charcoal-dark text-white rounded-lg transition",children:[(0,tu.jsx)(EH,{className:"w-5 h-5 mr-2"}),"New Campaign"]})]}),0!==r.length||i?(0,tu.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i&&(0,tu.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border-2 border-dashed border-gray-600",children:[(0,tu.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"New Campaign"}),(0,tu.jsxs)("div",{className:"space-y-4",children:[(0,tu.jsx)("input",{type:"text",placeholder:"Campaign Name *",value:s.name,onChange:e=>c({...s,name:e.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-2 focus:ring-indigo-500"}),(0,tu.jsx)("textarea",{placeholder:"Description",value:s.description,onChange:e=>c({...s,description:e.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-2 focus:ring-indigo-500 resize-none",rows:3}),(0,tu.jsxs)("div",{children:[(0,tu.jsx)("label",{className:"text-sm text-gray-400 block mb-1",children:"Start Date"}),(0,tu.jsx)("input",{type:"date",value:s.startDate,onChange:e=>c({...s,startDate:e.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-2 focus:ring-indigo-500"})]}),(0,tu.jsxs)("div",{children:[(0,tu.jsx)("label",{className:"text-sm text-gray-400 block mb-1",children:"End Date (Optional)"}),(0,tu.jsx)("input",{type:"date",value:s.endDate,onChange:e=>c({...s,endDate:e.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-2 focus:ring-indigo-500"})]}),(0,tu.jsxs)("div",{children:[(0,tu.jsx)("label",{className:"text-sm text-gray-400 block mb-1",children:"Goals (one per line)"}),(0,tu.jsx)("textarea",{placeholder:"Increase brand awareness Drive website traffic Generate leads",value:s.goals,onChange:e=>c({...s,goals:e.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-2 focus:ring-indigo-500 resize-none",rows:3})]}),(0,tu.jsxs)("div",{className:"flex gap-2",children:[(0,tu.jsx)("button",{onClick:()=>{var e,t,r,n,i;let o,l,d,p;if(!s.name.trim())return;let f=s.goals.split("\n").map(e=>e.trim()).filter(e=>e.length>0);e=s.name,t=s.description,r=s.startDate||void 0,n=s.endDate||void 0,i=f.length>0?f:void 0,o={id:crypto.randomUUID(),name:e,description:t,color:(p=["#8B5CF6","#EC4899","#F59E0B","#10B981","#3B82F6","#EF4444","#14B8A6","#F97316"])[Math.floor(Math.random()*p.length)],startDate:r||new Date().toISOString(),endDate:n,goals:i,createdAt:new Date().toISOString()},-1!==(d=(l=EB()).findIndex(e=>e.id===o.id))?l[d]=o:l.push(o),localStorage.setItem(EG,JSON.stringify(l)),c({name:"",description:"",startDate:"",endDate:"",goals:""}),a(!1),u()},disabled:!s.name.trim(),className:"flex-1 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white rounded-lg transition",children:"Create"}),(0,tu.jsx)("button",{onClick:()=>{a(!1),c({name:"",description:"",startDate:"",endDate:"",goals:""})},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition",children:"Cancel"})]})]})]}),r.map(e=>{let t=d(e.id);return(0,tu.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 hover:ring-2 hover:ring-indigo-500 transition cursor-pointer",onClick:()=>l(e),children:[(0,tu.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,tu.jsxs)("div",{className:"flex items-center gap-3",children:[(0,tu.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,tu.jsx)("h3",{className:"text-lg font-semibold text-white",children:e.name})]}),(0,tu.jsx)("button",{onClick:t=>{t.stopPropagation();var r=e.id;if(confirm("Are you sure you want to delete this campaign? Posts will not be deleted.")){let e;e=EB().filter(e=>e.id!==r),localStorage.setItem(EG,JSON.stringify(e)),u(),l(null)}},className:"text-gray-400 hover:text-red-400",children:(0,tu.jsx)(n8,{className:"w-4 h-4"})})]}),e.description&&(0,tu.jsx)("p",{className:"text-gray-400 text-sm mb-4",children:e.description}),(0,tu.jsx)("div",{className:"space-y-2 mb-4",children:(0,tu.jsxs)("div",{className:"flex items-center text-sm text-gray-400",children:[(0,tu.jsx)(iy,{className:"w-4 h-4 mr-2"}),new Date(e.startDate).toLocaleDateString(),e.endDate&&` - ${new Date(e.endDate).toLocaleDateString()}`]})}),(0,tu.jsxs)("div",{className:"grid grid-cols-4 gap-2 pt-4 border-t border-gray-700",children:[(0,tu.jsxs)("div",{className:"text-center",children:[(0,tu.jsx)("p",{className:"text-2xl font-bold text-white",children:t.total}),(0,tu.jsx)("p",{className:"text-xs text-gray-400",children:"Total"})]}),(0,tu.jsxs)("div",{className:"text-center",children:[(0,tu.jsx)("p",{className:"text-2xl font-bold text-green-400",children:t.published}),(0,tu.jsx)("p",{className:"text-xs text-gray-400",children:"Published"})]}),(0,tu.jsxs)("div",{className:"text-center",children:[(0,tu.jsx)("p",{className:"text-2xl font-bold text-blue-400",children:t.scheduled}),(0,tu.jsx)("p",{className:"text-xs text-gray-400",children:"Scheduled"})]}),(0,tu.jsxs)("div",{className:"text-center",children:[(0,tu.jsx)("p",{className:"text-2xl font-bold text-gray-400",children:t.draft}),(0,tu.jsx)("p",{className:"text-xs text-gray-400",children:"Drafts"})]})]}),e.goals&&e.goals.length>0&&(0,tu.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-700",children:[(0,tu.jsx)("p",{className:"text-xs text-gray-400 mb-2",children:"Goals:"}),(0,tu.jsxs)("ul",{className:"space-y-1",children:[e.goals.slice(0,2).map((e,t)=>(0,tu.jsxs)("li",{className:"text-sm text-gray-300 flex items-start",children:[(0,tu.jsx)("span",{className:"text-indigo-400 mr-2",children:""}),e]},t)),e.goals.length>2&&(0,tu.jsxs)("li",{className:"text-sm text-gray-500",children:["+",e.goals.length-2," more"]})]})]})]},e.id)})]}):(0,tu.jsxs)("div",{className:"text-center py-20 bg-white rounded-lg border border-slate/30",children:[(0,tu.jsx)(EV,{className:"w-16 h-16 text-slate mx-auto mb-4"}),(0,tu.jsx)("h3",{className:"text-xl font-semibold text-slate",children:"No campaigns yet"}),(0,tu.jsx)("p",{className:"text-slate mt-2",children:"Create a campaign to organize your content strategy"}),(0,tu.jsx)("button",{onClick:()=>a(!0),className:"mt-4 px-6 py-2 bg-charcoal hover:bg-charcoal-dark text-white rounded-lg transition",children:"Create Your First Campaign"})]}),o&&(0,tu.jsx)("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",onClick:()=>l(null),children:(0,tu.jsx)("div",{className:"bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:(0,tu.jsxs)("div",{className:"p-6",children:[(0,tu.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,tu.jsxs)("div",{className:"flex items-center gap-3",children:[(0,tu.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:o.color}}),(0,tu.jsx)("h3",{className:"text-2xl font-bold text-white",children:o.name})]}),(0,tu.jsx)("button",{onClick:()=>l(null),className:"text-gray-400 hover:text-white",children:(0,tu.jsx)(ir,{className:"w-6 h-6"})})]}),o.description&&(0,tu.jsx)("p",{className:"text-gray-300 mb-6",children:o.description}),(0,tu.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,tu.jsxs)("div",{children:[(0,tu.jsx)("p",{className:"text-sm text-gray-400",children:"Duration"}),(0,tu.jsxs)("p",{className:"text-white",children:[new Date(o.startDate).toLocaleDateString(),o.endDate&&` - ${new Date(o.endDate).toLocaleDateString()}`]})]}),o.goals&&o.goals.length>0&&(0,tu.jsxs)("div",{children:[(0,tu.jsx)("p",{className:"text-sm text-gray-400 mb-2",children:"Campaign Goals"}),(0,tu.jsx)("ul",{className:"space-y-2",children:o.goals.map((e,t)=>(0,tu.jsxs)("li",{className:"text-white flex items-start",children:[(0,tu.jsx)(EV,{className:"w-4 h-4 text-indigo-400 mr-2 mt-0.5 flex-shrink-0"}),e]},t))})]})]}),(0,tu.jsxs)("div",{className:"pt-6 border-t border-gray-700",children:[(0,tu.jsx)("h4",{className:"text-lg font-semibold text-white mb-4",children:"Campaign Statistics"}),(t=d(o.id),(0,tu.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,tu.jsxs)("div",{className:"bg-gray-700/50 p-4 rounded-lg",children:[(0,tu.jsx)("p",{className:"text-3xl font-bold text-white",children:t.total}),(0,tu.jsx)("p",{className:"text-gray-400",children:"Total Posts"})]}),(0,tu.jsxs)("div",{className:"bg-gray-700/50 p-4 rounded-lg",children:[(0,tu.jsx)("p",{className:"text-3xl font-bold text-green-400",children:t.published}),(0,tu.jsx)("p",{className:"text-gray-400",children:"Published"})]}),(0,tu.jsxs)("div",{className:"bg-gray-700/50 p-4 rounded-lg",children:[(0,tu.jsx)("p",{className:"text-3xl font-bold text-blue-400",children:t.scheduled}),(0,tu.jsx)("p",{className:"text-gray-400",children:"Scheduled"})]}),(0,tu.jsxs)("div",{className:"bg-gray-700/50 p-4 rounded-lg",children:[(0,tu.jsx)("p",{className:"text-3xl font-bold text-gray-400",children:t.draft}),(0,tu.jsx)("p",{className:"text-gray-400",children:"In Progress"})]})]}))]})]})})})]})},Ez=nh("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),EK=({onPostsCreated:e})=>{let[t,r]=(0,td.useState)("text"),[n,i]=(0,td.useState)(""),[a,o]=(0,td.useState)(""),[l,s]=(0,td.useState)(["twitter","linkedin"]),[c,u]=(0,td.useState)(5),[d,p]=(0,td.useState)(!1),[f,h]=(0,td.useState)(null),[m,g]=(0,td.useState)([]),y=async e=>{let t=e.target.files?.[0];if(!t)return;let r=new FileReader;r.onload=e=>{i(e.target?.result)},r.readAsText(t)},v=async()=>{h("URL fetching requires a backend service. Please paste the content directly.")},b=async()=>{if(!n.trim())return void h("Please provide content to repurpose.");if(0===l.length)return void h("Please select at least one platform.");p(!0),h(null),g([]);try{let e=(await nN(n,l,c)).map(e=>({id:crypto.randomUUID(),topic:e.topic,platforms:l,content:e.content,status:"draft",createdAt:new Date().toISOString(),isGeneratingImage:!1,isGeneratingVideo:!1,videoGenerationStatus:""}));g(e)}catch(e){h(e instanceof Error?e.message:"An unknown error occurred.")}finally{p(!1)}};return(0,tu.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,tu.jsxs)("div",{className:"mb-8",children:[(0,tu.jsxs)("h2",{className:"text-3xl font-bold text-charcoal-dark flex items-center",children:[(0,tu.jsx)(ie,{className:"w-8 h-8 mr-3 text-yellow-400"}),"Content Repurposer"]}),(0,tu.jsx)("p",{className:"text-slate mt-2",children:"Transform long-form content into multiple engaging social media posts"})]}),(0,tu.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-xl border border-slate/30",children:[(0,tu.jsxs)("div",{className:"mb-6",children:[(0,tu.jsx)("label",{className:"block text-md font-medium text-charcoal mb-3",children:"Input Source"}),(0,tu.jsxs)("div",{className:"flex gap-4",children:[(0,tu.jsxs)("button",{onClick:()=>r("text"),className:`flex items-center px-4 py-2 rounded-lg transition ${"text"===t?"bg-charcoal text-white":"bg-gray-50 text-charcoal hover:bg-slate/10"}`,children:[(0,tu.jsx)(Ez,{className:"w-4 h-4 mr-2"}),"Paste Text"]}),(0,tu.jsxs)("button",{onClick:()=>r("url"),className:`flex items-center px-4 py-2 rounded-lg transition ${"url"===t?"bg-charcoal text-white":"bg-gray-50 text-charcoal hover:bg-slate/10"}`,children:[(0,tu.jsx)(Ex,{className:"w-4 h-4 mr-2"}),"From URL"]}),(0,tu.jsxs)("label",{className:`flex items-center px-4 py-2 rounded-lg transition cursor-pointer ${"file"===t?"bg-charcoal text-white":"bg-gray-50 text-charcoal hover:bg-slate/10"}`,children:[(0,tu.jsx)(EL,{className:"w-4 h-4 mr-2"}),"Upload File",(0,tu.jsx)("input",{type:"file",accept:".txt,.md",onChange:e=>{r("file"),y(e)},className:"hidden"})]})]})]}),"text"===t&&(0,tu.jsxs)("div",{className:"mb-6",children:[(0,tu.jsx)("label",{className:"block text-md font-medium text-charcoal mb-3",children:"Long-Form Content"}),(0,tu.jsx)("textarea",{value:n,onChange:e=>i(e.target.value),placeholder:"Paste your blog post, article, video transcript, or any long-form content here...",className:"w-full h-64 px-4 py-3 bg-white border border-slate/30 rounded-lg text-charcoal focus:ring-2 focus:ring-charcoal focus:border-transparent resize-none"}),(0,tu.jsxs)("p",{className:"text-sm text-slate mt-2",children:[n.length," characters  Minimum 500 characters recommended"]})]}),"url"===t&&(0,tu.jsxs)("div",{className:"mb-6",children:[(0,tu.jsx)("label",{className:"block text-md font-medium text-gray-300 mb-3",children:"Content URL"}),(0,tu.jsxs)("div",{className:"flex gap-2",children:[(0,tu.jsx)("input",{type:"url",value:a,onChange:e=>o(e.target.value),placeholder:"https://example.com/blog-post",className:"flex-1 px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),(0,tu.jsx)("button",{onClick:v,className:"px-6 py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition",children:"Fetch"})]}),(0,tu.jsx)("p",{className:"text-sm text-yellow-500 mt-2",children:"Note: URL fetching requires backend integration (not yet implemented)"})]}),"file"===t&&n&&(0,tu.jsxs)("div",{className:"mb-6",children:[(0,tu.jsx)("label",{className:"block text-md font-medium text-gray-300 mb-3",children:"File Content Preview"}),(0,tu.jsx)("textarea",{value:n,onChange:e=>i(e.target.value),className:"w-full h-64 px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none"})]}),(0,tu.jsxs)("div",{className:"mb-6",children:[(0,tu.jsx)("label",{className:"block text-md font-medium text-charcoal mb-3",children:"Target Platforms"}),(0,tu.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:nc.map(({id:e,name:t,icon:r})=>(0,tu.jsxs)("label",{className:`flex items-center space-x-3 p-4 rounded-lg cursor-pointer transition-all duration-200 border-2 ${l.includes(e)?"bg-charcoal/10 border-charcoal":"bg-gray-50 border-transparent hover:border-slate/30"}`,children:[(0,tu.jsx)("input",{type:"checkbox",checked:l.includes(e),onChange:()=>{s(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:"hidden"}),(0,tu.jsx)(r,{className:`w-6 h-6 ${l.includes(e)?"text-charcoal-dark":"text-slate"}`}),(0,tu.jsx)("span",{className:"font-medium text-charcoal-dark",children:t})]},e))})]}),(0,tu.jsxs)("div",{className:"mb-6",children:[(0,tu.jsxs)("label",{className:"block text-md font-medium text-charcoal mb-3",children:["Number of Posts to Generate: ",c]}),(0,tu.jsx)("input",{type:"range",min:"3",max:"10",value:c,onChange:e=>u(parseInt(e.target.value)),className:"w-full h-2 bg-light-gray rounded-lg appearance-none cursor-pointer accent-charcoal"}),(0,tu.jsxs)("div",{className:"flex justify-between text-xs text-slate mt-1",children:[(0,tu.jsx)("span",{children:"3 posts"}),(0,tu.jsx)("span",{children:"10 posts"})]})]}),f&&(0,tu.jsx)("p",{className:"text-red-400 text-sm mb-4",children:f}),(0,tu.jsx)("button",{onClick:b,disabled:d||!n.trim(),className:"w-full flex items-center justify-center py-3 px-6 bg-charcoal hover:bg-charcoal-dark disabled:bg-slate disabled:cursor-not-allowed text-white rounded-lg transition font-medium",children:d?(0,tu.jsxs)(tu.Fragment,{children:[(0,tu.jsx)(nv,{className:"animate-spin w-5 h-5 mr-2"}),"Generating ",c," Posts..."]}):(0,tu.jsxs)(tu.Fragment,{children:[(0,tu.jsx)(ie,{className:"w-5 h-5 mr-2"}),"Repurpose Content"]})})]}),m.length>0&&(0,tu.jsxs)("div",{className:"mt-8",children:[(0,tu.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,tu.jsxs)("h3",{className:"text-2xl font-bold text-charcoal-dark",children:["Generated Posts (",m.length,")"]}),(0,tu.jsx)("button",{onClick:()=>{e(m),g([]),i(""),o("")},className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition font-medium",children:"Save All to Drafts"})]}),(0,tu.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:m.map((e,t)=>(0,tu.jsxs)("div",{className:"bg-white rounded-lg p-6 border border-slate/30",children:[(0,tu.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,tu.jsxs)("h4",{className:"font-semibold text-charcoal-dark",children:["Post ",t+1]}),(0,tu.jsx)("span",{className:"text-xs bg-charcoal/10 text-charcoal-dark px-2 py-1 rounded",children:"Draft"})]}),(0,tu.jsx)("p",{className:"text-slate text-sm mb-3",children:e.topic}),(0,tu.jsx)("div",{className:"bg-slate/10 p-3 rounded",children:(0,tu.jsx)("p",{className:"text-charcoal text-sm line-clamp-4",children:e.content[l[0]]||"No content"})})]},e.id))})]})]})},EJ=nh("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),EY=nh("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),EW=nh("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]),EX={data:""},EZ=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,EQ=/\/\*[^]*?\*\/|  +/g,E0=/\n+/g,E1=(e,t)=>{let r="",n="",i="";for(let a in e){let o=e[a];"@"==a[0]?"i"==a[1]?r=a+" "+o+";":n+="f"==a[1]?E1(o,a):a+"{"+E1(o,"k"==a[1]?"":t)+"}":"object"==typeof o?n+=E1(o,t?t.replace(/([^,])+/g,e=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):a):null!=o&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=E1.p?E1.p(a,o):a+":"+o+";")}return r+(t&&i?t+"{"+i+"}":i)+n},E2={},E3=e=>{if("object"==typeof e){let t="";for(let r in e)t+=r+E3(e[r]);return t}return e};function E4(e){let t,r,n=this||{},i=e.call?e(n.p):e;return((e,t,r,n,i)=>{var a;let o=E3(e),l=E2[o]||(E2[o]=(e=>{let t=0,r=11;for(;t<e.length;)r=101*r+e.charCodeAt(t++)>>>0;return"go"+r})(o));if(!E2[l]){let t=o!==e?e:(e=>{let t,r,n=[{}];for(;t=EZ.exec(e.replace(EQ,""));)t[4]?n.shift():t[3]?(r=t[3].replace(E0," ").trim(),n.unshift(n[0][r]=n[0][r]||{})):n[0][t[1]]=t[2].replace(E0," ").trim();return n[0]})(e);E2[l]=E1(i?{["@keyframes "+l]:t}:t,r?"":"."+l)}let s=r&&E2.g?E2.g:null;return r&&(E2.g=E2[l]),a=E2[l],s?t.data=t.data.replace(s,a):-1===t.data.indexOf(a)&&(t.data=n?a+t.data:t.data+a),l})(i.unshift?i.raw?(t=[].slice.call(arguments,1),r=n.p,i.reduce((e,n,i)=>{let a=t[i];if(a&&a.call){let e=a(r),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;a=t?"."+t:e&&"object"==typeof e?e.props?"":E1(e,""):!1===e?"":e}return e+n+(null==a?"":a)},"")):i.reduce((e,t)=>Object.assign(e,t&&t.call?t(n.p):t),{}):i,(e=>{if("object"==typeof window){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||EX})(n.target),n.g,n.o,n.k)}E4.bind({g:1});let E5,E6,E8,E7=E4.bind({k:1});function E9(e,t){let r=this||{};return function(){let n=arguments;function i(a,o){let l=Object.assign({},a),s=l.className||i.className;r.p=Object.assign({theme:E6&&E6()},l),r.o=/ *go\d+/.test(s),l.className=E4.apply(r,n)+(s?" "+s:""),t&&(l.ref=o);let c=e;return e[0]&&(c=l.as||e,delete l.as),E8&&c[0]&&E8(l),E5(c,l)}return t?t(i):i}}var Se=(e,t)=>"function"==typeof e?e(t):e,St=(c=0,()=>(++c).toString()),Sr=()=>{if(void 0===u&&"u">typeof window){let e=matchMedia("(prefers-reduced-motion: reduce)");u=!e||e.matches}return u},Sn="default",Si=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case 2:let{toast:n}=t;return Si(e,{type:+!!e.toasts.find(e=>e.id===n.id),toast:n});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(e=>e.id===i||void 0===i?{...e,dismissed:!0,visible:!1}:e)};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(e=>({...e,pauseDuration:e.pauseDuration+a}))}}},Sa=[],So={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},Sl={},Ss=(e,t=Sn)=>{Sl[t]=Si(Sl[t]||So,e),Sa.forEach(([e,r])=>{e===t&&r(Sl[t])})},Sc=e=>Object.keys(Sl).forEach(t=>Ss(e,t)),Su=(e=Sn)=>t=>{Ss(t,e)},Sd={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Sp=e=>(t,r)=>{let n,i=((e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(null==r?void 0:r.id)||St()}))(t,e,r);return Su(i.toasterId||(n=i.id,Object.keys(Sl).find(e=>Sl[e].toasts.some(e=>e.id===n))))({type:2,toast:i}),i.id},Sf=(e,t)=>Sp("blank")(e,t);Sf.error=Sp("error"),Sf.success=Sp("success"),Sf.loading=Sp("loading"),Sf.custom=Sp("custom"),Sf.dismiss=(e,t)=>{let r={type:3,toastId:e};t?Su(t)(r):Sc(r)},Sf.dismissAll=e=>Sf.dismiss(void 0,e),Sf.remove=(e,t)=>{let r={type:4,toastId:e};t?Su(t)(r):Sc(r)},Sf.removeAll=e=>Sf.remove(void 0,e),Sf.promise=(e,t,r)=>{let n=Sf.loading(t.loading,{...r,...null==r?void 0:r.loading});return"function"==typeof e&&(e=e()),e.then(e=>{let i=t.success?Se(t.success,e):void 0;return i?Sf.success(i,{id:n,...r,...null==r?void 0:r.success}):Sf.dismiss(n),e}).catch(e=>{let i=t.error?Se(t.error,e):void 0;i?Sf.error(i,{id:n,...r,...null==r?void 0:r.error}):Sf.dismiss(n)}),e};var Sh=1e3,Sm=E7`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Sg=E7`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Sy=E7`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Sv=E9("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Sm} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Sg} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Sy} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Sb=E7`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Sx=E9("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Sb} 1s linear infinite;
`,Sw=E7`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,SO=E7`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,SE=E9("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Sw} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${SO} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,SS=E9("div")`
  position: absolute;
`,SA=E9("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Sj=E7`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,S_=E9("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Sj} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,SC=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return void 0!==t?"string"==typeof t?td.createElement(S_,null,t):t:"blank"===r?null:td.createElement(SA,null,td.createElement(Sx,{...n}),"loading"!==r&&td.createElement(SS,null,"error"===r?td.createElement(Sv,{...n}):td.createElement(SE,{...n})))},SN=E9("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,ST=E9("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,SI=td.memo(({toast:e,position:t,style:r,children:n})=>{let i=e.height?((e,t)=>{let r=e.includes("top")?1:-1,[n,i]=Sr()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[`
0% {transform: translate3d(0,${-200*r}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${-150*r}%,-1px) scale(.6); opacity:0;}
`];return{animation:t?`${E7(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${E7(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(e.position||t||"top-center",e.visible):{opacity:0},a=td.createElement(SC,{toast:e}),o=td.createElement(ST,{...e.ariaProps},Se(e.message,e));return td.createElement(SN,{className:e.className,style:{...i,...r,...e.style}},"function"==typeof n?n({icon:a,message:o}):td.createElement(td.Fragment,null,a,o))});ef=td.createElement,E1.p=void 0,E5=ef,E6=void 0,E8=void 0;var SP=({id:e,className:t,style:r,onHeightUpdate:n,children:i})=>{let a=td.useCallback(t=>{if(t){let r=()=>{n(e,t.getBoundingClientRect().height)};r(),new MutationObserver(r).observe(t,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return td.createElement("div",{ref:a,className:t,style:r},i)},Sk=E4`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,SM=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:i,toasterId:a,containerStyle:o,containerClassName:l})=>{let{toasts:s,handlers:c}=((e,t="default")=>{let{toasts:r,pausedAt:n}=((e={},t=Sn)=>{let[r,n]=(0,td.useState)(Sl[t]||So),i=(0,td.useRef)(Sl[t]);(0,td.useEffect)(()=>(i.current!==Sl[t]&&n(Sl[t]),Sa.push([t,n]),()=>{let e=Sa.findIndex(([e])=>e===t);e>-1&&Sa.splice(e,1)}),[t]);let a=r.toasts.map(t=>{var r,n,i;return{...e,...e[t.type],...t,removeDelay:t.removeDelay||(null==(r=e[t.type])?void 0:r.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(n=e[t.type])?void 0:n.duration)||(null==e?void 0:e.duration)||Sd[t.type],style:{...e.style,...null==(i=e[t.type])?void 0:i.style,...t.style}}});return{...r,toasts:a}})(e,t),i=(0,td.useRef)(new Map).current,a=(0,td.useCallback)((e,t=Sh)=>{if(i.has(e))return;let r=setTimeout(()=>{i.delete(e),o({type:4,toastId:e})},t);i.set(e,r)},[]);(0,td.useEffect)(()=>{if(n)return;let e=Date.now(),i=r.map(r=>{if(r.duration===1/0)return;let n=(r.duration||0)+r.pauseDuration-(e-r.createdAt);if(n<0){r.visible&&Sf.dismiss(r.id);return}return setTimeout(()=>Sf.dismiss(r.id,t),n)});return()=>{i.forEach(e=>e&&clearTimeout(e))}},[r,n,t]);let o=(0,td.useCallback)(Su(t),[t]),l=(0,td.useCallback)(()=>{o({type:5,time:Date.now()})},[o]),s=(0,td.useCallback)((e,t)=>{o({type:1,toast:{id:e,height:t}})},[o]),c=(0,td.useCallback)(()=>{n&&o({type:6,time:Date.now()})},[n,o]),u=(0,td.useCallback)((e,t)=>{let{reverseOrder:n=!1,gutter:i=8,defaultPosition:a}=t||{},o=r.filter(t=>(t.position||a)===(e.position||a)&&t.height),l=o.findIndex(t=>t.id===e.id),s=o.filter((e,t)=>t<l&&e.visible).length;return o.filter(e=>e.visible).slice(...n?[s+1]:[0,s]).reduce((e,t)=>e+(t.height||0)+i,0)},[r]);return(0,td.useEffect)(()=>{r.forEach(e=>{if(e.dismissed)a(e.id,e.removeDelay);else{let t=i.get(e.id);t&&(clearTimeout(t),i.delete(e.id))}})},[r,a]),{toasts:r,handlers:{updateHeight:s,startPause:l,endPause:c,calculateOffset:u}}})(r,a);return td.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...o},className:l,onMouseEnter:c.startPause,onMouseLeave:c.endPause},s.map(r=>{let a,o,l=r.position||t,s=c.calculateOffset(r,{reverseOrder:e,gutter:n,defaultPosition:t}),u=(a=l.includes("top"),o=l.includes("center")?{justifyContent:"center"}:l.includes("right")?{justifyContent:"flex-end"}:{},{left:0,right:0,display:"flex",position:"absolute",transition:Sr()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${s*(a?1:-1)}px)`,...a?{top:0}:{bottom:0},...o});return td.createElement(SP,{id:r.id,key:r.id,onHeightUpdate:c.updateHeight,className:r.visible?Sk:"",style:u},"custom"===r.type?Se(r.message,r):i?i(r):td.createElement(SI,{toast:r,position:l}))}))};let SD=(0,td.createContext)(void 0),SR=()=>{let e=(0,td.useContext)(SD);if(!e)throw Error("useNotifications must be used within NotificationProvider");return e},SU=({children:e})=>{let[t,r]=(0,td.useState)([]),[n,i]=(0,td.useState)(!1);(0,td.useEffect)(()=>{try{let e=localStorage.getItem("notifications");e&&r(JSON.parse(e))}catch{}i(!0)},[]),(0,td.useEffect)(()=>{if(n)try{localStorage.setItem("notifications",JSON.stringify(t))}catch{}},[t,n]);let a=(0,td.useCallback)((e,t,n,i)=>{let a={id:crypto.randomUUID(),type:e,title:t,message:n,postId:i,read:!1,createdAt:new Date().toISOString()};r(e=>[a,...e]);let o={video_complete:"",image_complete:"",post_scheduled:"",post_published:"",approval_needed:"",comment_added:"",insight_available:"",queue_published:"",error:""}[e]||"";Sf.success(`${o} ${t}`,{duration:4e3,position:"top-right"})},[]),o=(0,td.useCallback)(e=>{r(t=>t.map(t=>t.id===e?{...t,read:!0}:t))},[]),l=(0,td.useCallback)(()=>{r(e=>e.map(e=>({...e,read:!0})))},[]),s=(0,td.useCallback)(e=>{r(t=>t.filter(t=>t.id!==e))},[]),c=(0,td.useCallback)(()=>{r([])},[]),u=t.filter(e=>!e.read).length;return(0,tu.jsxs)(SD.Provider,{value:{notifications:t,addNotification:a,markAsRead:o,markAllAsRead:l,clearNotification:s,clearAllNotifications:c,unreadCount:u},children:[e,(0,tu.jsx)(SM,{})]})},SL=()=>{let{notifications:e,unreadCount:t,markAsRead:r,markAllAsRead:n,clearNotification:i}=SR(),[a,o]=(0,td.useState)(!1),l=(0,td.useRef)(null);return(0,td.useEffect)(()=>{let e=e=>{l.current&&!l.current.contains(e.target)&&o(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,tu.jsxs)("div",{className:"relative",ref:l,children:[(0,tu.jsxs)("button",{onClick:()=>o(!a),className:"relative p-2 text-slate hover:text-charcoal-dark hover:bg-slate/10 rounded-lg transition",children:[(0,tu.jsx)(EJ,{className:"w-6 h-6"}),t>0&&(0,tu.jsx)("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center w-5 h-5 text-xs font-bold text-white bg-red-600 rounded-full",children:t>9?"9+":t})]}),a&&(0,tu.jsxs)("div",{className:"absolute right-0 mt-2 w-96 bg-white rounded-lg shadow-xl border border-slate/30 z-50 max-h-[600px] overflow-hidden flex flex-col",children:[(0,tu.jsxs)("div",{className:"p-4 border-b border-slate/30 flex justify-between items-center",children:[(0,tu.jsx)("h3",{className:"text-lg font-semibold text-charcoal-dark",children:"Notifications"}),e.length>0&&(0,tu.jsxs)("button",{onClick:n,className:"text-xs text-charcoal-dark hover:text-charcoal flex items-center",children:[(0,tu.jsx)(EW,{className:"w-4 h-4 mr-1"}),"Mark all read"]})]}),(0,tu.jsx)("div",{className:"overflow-y-auto flex-1",children:0===e.length?(0,tu.jsxs)("div",{className:"p-8 text-center",children:[(0,tu.jsx)(EJ,{className:"w-12 h-12 text-slate mx-auto mb-2"}),(0,tu.jsx)("p",{className:"text-slate",children:"No notifications yet"})]}):(0,tu.jsx)("div",{className:"divide-y divide-slate/30",children:e.map(e=>{var t;let n;return(0,tu.jsx)("div",{className:`p-4 hover:bg-slate/10 transition ${!e.read?"bg-charcoal/10":""}`,children:(0,tu.jsxs)("div",{className:"flex justify-between items-start",children:[(0,tu.jsxs)("div",{className:"flex-1 pr-2",children:[(0,tu.jsx)("p",{className:"text-charcoal-dark font-medium text-sm",children:e.title}),(0,tu.jsx)("p",{className:"text-slate text-sm mt-1",children:e.message}),(0,tu.jsx)("p",{className:"text-slate text-xs mt-2",children:(t=e.createdAt,(n=Math.floor((new Date().getTime()-new Date(t).getTime())/1e3))<60?"Just now":n<3600?`${Math.floor(n/60)}m ago`:n<86400?`${Math.floor(n/3600)}h ago`:`${Math.floor(n/86400)}d ago`)})]}),(0,tu.jsxs)("div",{className:"flex gap-2",children:[!e.read&&(0,tu.jsx)("button",{onClick:()=>r(e.id),className:"text-charcoal-dark hover:text-charcoal",title:"Mark as read",children:(0,tu.jsx)(EY,{className:"w-4 h-4"})}),(0,tu.jsx)("button",{onClick:()=>i(e.id),className:"text-slate hover:text-charcoal-dark",title:"Remove",children:(0,tu.jsx)(ir,{className:"w-4 h-4"})})]})]})},e.id)})})})]})]})};var Sq=e.i(57951);e.i(3905);var SF=e.i(11795);class SG{static async getAllPosts(e){try{let{data:t,error:r}=await SF.supabase.from("posts").select("*").eq("workspace_id",e).order("created_at",{ascending:!1});if(r)throw r;return t.map(this.transformFromDB)}catch(e){throw console.error("Error fetching posts:",e),e}}static async getPostById(e,t){try{let{data:r,error:n}=await SF.supabase.from("posts").select("*").eq("id",e).eq("workspace_id",t).single();if(n)throw n;return r?this.transformFromDB(r):null}catch(e){return console.error("Error fetching post:",e),null}}static async createPost(e,t,r){try{let n=this.transformToDB(e,t,r),{data:i,error:a}=await SF.supabase.from("posts").insert(n).select().maybeSingle();if(a)throw a;return await this.logActivity(r,t,"create","post",i.id),this.transformFromDB(i)}catch(e){throw console.error("Error creating post:",e),e}}static async updatePost(e,t,r){try{let n=this.transformToDB(e,t,r),{data:i,error:a}=await SF.supabase.from("posts").update(n).eq("id",e.id).eq("workspace_id",r).select().single();if(a)throw a;return await this.logActivity(r,t,"update","post",i.id),this.transformFromDB(i)}catch(e){throw console.error("Error updating post:",e),e}}static async deletePost(e,t,r){try{let{error:n}=await SF.supabase.from("posts").delete().eq("id",e).eq("workspace_id",r);if(n)throw n;await this.logActivity(r,t,"delete","post",e)}catch(e){throw console.error("Error deleting post:",e),e}}static async getPostsByStatus(e,t){try{let{data:r,error:n}=await SF.supabase.from("posts").select("*").eq("workspace_id",t).eq("status",e).order("created_at",{ascending:!1});if(n)throw n;return r.map(this.transformFromDB)}catch(e){throw console.error("Error fetching posts by status:",e),e}}static async getPostsByCampaign(e,t){try{let{data:r,error:n}=await SF.supabase.from("posts").select("*").eq("workspace_id",t).eq("campaign_id",e).order("created_at",{ascending:!1});if(n)throw n;return r.map(this.transformFromDB)}catch(e){throw console.error("Error fetching posts by campaign:",e),e}}static async getScheduledPosts(e){try{let t=new Date().toISOString(),{data:r,error:n}=await SF.supabase.from("posts").select("*").eq("workspace_id",e).eq("status","scheduled").lte("scheduled_at",t);if(n)throw n;return r.map(this.transformFromDB)}catch(e){throw console.error("Error fetching scheduled posts:",e),e}}static async updatePostStatus(e,t,r,n){try{let i={status:t};"published"===t&&(i.published_at=new Date().toISOString());let{error:a}=await SF.supabase.from("posts").update(i).eq("id",e).eq("workspace_id",n);if(a)throw a;await this.logActivity(n,r,"update_status","post",e,{status:t})}catch(e){throw console.error("Error updating post status:",e),e}}static transformFromDB(e){return{id:e.id,topic:e.topic,platforms:e.platforms,content:e.content,status:e.status,createdAt:e.created_at,scheduledAt:e.scheduled_at,publishedAt:e.published_at,campaignId:e.campaign_id,engagementScore:e.engagement_score,engagementSuggestions:e.engagement_suggestions,generatedImage:e.content?.generatedImage,generatedVideoUrl:e.content?.generatedVideoUrl,isGeneratingImage:e.content?.isGeneratingImage||!1,isGeneratingVideo:e.content?.isGeneratingVideo||!1,videoGenerationStatus:e.content?.videoGenerationStatus,videoOperation:e.content?.videoOperation}}static transformToDB(e,t,r){let{generatedImage:n,generatedVideoUrl:i,isGeneratingImage:a,isGeneratingVideo:o,videoGenerationStatus:l,videoOperation:s,content:c,...u}=e;return{id:e.id,workspace_id:r,created_by:t,topic:e.topic,platforms:e.platforms,content:{...c,generatedImage:n,generatedVideoUrl:i,isGeneratingImage:a,isGeneratingVideo:o,videoGenerationStatus:l,videoOperation:s},status:e.status,scheduled_at:e.scheduledAt,published_at:e.publishedAt,campaign_id:e.campaignId,engagement_score:e.engagementScore,engagement_suggestions:e.engagementSuggestions}}static async logActivity(e,t,r,n,i,a={}){try{await SF.supabase.from("activity_logs").insert({workspace_id:e,user_id:t,action:r,resource_type:n,resource_id:i,details:a||null})}catch(e){console.error("Error logging activity:",e)}}}class SB{static async getAllCampaigns(e){try{let{data:t,error:r}=await SF.supabase.from("campaigns").select("*").eq("workspace_id",e).order("created_at",{ascending:!1});if(r)throw r;return t.map(this.transformFromDB)}catch(e){throw console.error("Error fetching campaigns:",e),e}}static async getCampaignById(e,t){try{let{data:r,error:n}=await SF.supabase.from("campaigns").select("*").eq("id",e).eq("workspace_id",t).single();if(n)throw n;return r?this.transformFromDB(r):null}catch(e){return console.error("Error fetching campaign:",e),null}}static async createCampaign(e,t,r,n,i,a){try{let a={workspace_id:e,name:t,goal:r||null,color:this.getRandomCampaignColor(),start_date:n||new Date().toISOString(),end_date:i||null},{data:o,error:l}=await SF.supabase.from("campaigns").insert(a).select().single();if(l)throw l;return this.transformFromDB(o)}catch(e){throw console.error("Error creating campaign:",e),e}}static async updateCampaign(e,t){try{let r={name:e.name,goal:e.description||null,color:e.color,start_date:e.startDate,end_date:e.endDate??null},{data:n,error:i}=await SF.supabase.from("campaigns").update(r).eq("id",e.id).eq("workspace_id",t).select().single();if(i)throw i;return this.transformFromDB(n)}catch(e){throw console.error("Error updating campaign:",e),e}}static async deleteCampaign(e,t){try{let{error:r}=await SF.supabase.from("campaigns").delete().eq("id",e).eq("workspace_id",t);if(r)throw r}catch(e){throw console.error("Error deleting campaign:",e),e}}static async getCampaignPostsCount(e,t){try{let{count:r,error:n}=await SF.supabase.from("posts").select("*",{count:"exact",head:!0}).eq("campaign_id",e).eq("workspace_id",t);if(n)throw n;return r||0}catch(e){return console.error("Error getting campaign posts count:",e),0}}static transformFromDB(e){return{id:e.id,name:e.name,description:e.goal,color:e.color,startDate:e.start_date,endDate:e.end_date,createdAt:e.created_at}}static getRandomCampaignColor(){let e=["#8B5CF6","#EC4899","#F59E0B","#10B981","#3B82F6","#EF4444","#14B8A6","#F97316"];return e[Math.floor(Math.random()*e.length)]}}async function SH(e,t){let r=new TextEncoder,n=await window.crypto.subtle.importKey("raw",r.encode(e),"PBKDF2",!1,["deriveBits","deriveKey"]);return window.crypto.subtle.deriveKey({name:"PBKDF2",salt:t,iterations:1e5,hash:"SHA-256"},n,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"])}async function SV(e,t){try{let r=new TextEncoder,n=window.crypto.getRandomValues(new Uint8Array(16)),i=window.crypto.getRandomValues(new Uint8Array(12)),a=await SH(t,n),o=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:i},a,r.encode(e)),l=new Uint8Array(n.length+i.length+o.byteLength);return l.set(n,0),l.set(i,n.length),l.set(new Uint8Array(o),n.length+i.length),btoa(String.fromCharCode(...l))}catch(e){throw console.error("Encryption error:",e),Error("Failed to encrypt data")}}async function S$(e,t){try{let r=Uint8Array.from(atob(e),e=>e.charCodeAt(0)),n=r.slice(0,16),i=r.slice(16,28),a=r.slice(28),o=await SH(t,n),l=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:i},o,a);return new TextDecoder().decode(l)}catch(e){throw console.error("Decryption error:",e),Error("Failed to decrypt data")}}function Sz(e){return`${e}_encryption_key_v1`}class SK{static async savePlatformCredentials(e,t,r,n){try{let i=Sz(r),a=JSON.stringify(t),o=await SV(a,i),{data:l}=await SF.supabase.from("social_accounts").select("id").eq("workspace_id",n).eq("platform",e).maybeSingle();if(l){let e="username"in t?t.username??null:null,{error:r}=await SF.supabase.from("social_accounts").update({credentials_encrypted:o,is_connected:t.isConnected,username:e,connected_at:t.isConnected?new Date().toISOString():null,last_verified_at:new Date().toISOString()}).eq("id",l.id);if(r)throw r}else{let r="username"in t?t.username??null:null,{error:i}=await SF.supabase.from("social_accounts").insert({workspace_id:n,platform:e,credentials_encrypted:o,is_connected:t.isConnected,username:r,connected_at:t.isConnected?new Date().toISOString():null,last_verified_at:new Date().toISOString()});if(i)throw i}}catch(e){throw console.error("Error saving credentials:",e),e}}static async getPlatformCredentials(e,t,r){try{let{data:n,error:i}=await SF.supabase.from("social_accounts").select("credentials_encrypted").eq("workspace_id",r).eq("platform",e).maybeSingle();if(i||!n)return null;let a=Sz(t),o=await S$(n.credentials_encrypted,a);return JSON.parse(o)}catch(e){return console.error("Error getting credentials:",e),null}}static async getAllCredentials(e,t){try{let{data:r,error:n}=await SF.supabase.from("social_accounts").select("platform, credentials_encrypted").eq("workspace_id",t);if(n)throw n;let i={},a=Sz(e);for(let e of r||[])try{let t=await S$(e.credentials_encrypted,a);i[e.platform]=JSON.parse(t)}catch(t){console.error(`Error decrypting ${e.platform} credentials:`,t)}return i}catch(e){return console.error("Error getting all credentials:",e),{}}}static async isPlatformConnected(e,t){try{let{data:r,error:n}=await SF.supabase.from("social_accounts").select("is_connected").eq("workspace_id",t).eq("platform",e).maybeSingle();if(n||!r)return!1;return r.is_connected}catch(e){return!1}}static async getConnectionSummary(e){try{let{data:t,error:r}=await SF.supabase.from("social_accounts").select("platform, is_connected").eq("workspace_id",e);if(r)throw r;let n={twitter:!1,linkedin:!1,facebook:!1,instagram:!1};for(let e of t||[])n[e.platform]=e.is_connected;return n}catch(e){return console.error("Error getting connection summary:",e),{twitter:!1,linkedin:!1,facebook:!1,instagram:!1}}}static async disconnectPlatform(e,t,r){try{let n=await this.getPlatformCredentials(e,t,r);if(!n)return;n.isConnected=!1,await this.savePlatformCredentials(e,n,t,r)}catch(e){throw console.error("Error disconnecting platform:",e),e}}static async deletePlatformCredentials(e,t){try{let{error:r}=await SF.supabase.from("social_accounts").delete().eq("workspace_id",t).eq("platform",e);if(r)throw r}catch(e){throw console.error("Error deleting credentials:",e),e}}static async clearAllCredentials(e){try{let{error:t}=await SF.supabase.from("social_accounts").delete().eq("workspace_id",e);if(t)throw t}catch(e){throw console.error("Error clearing all credentials:",e),e}}}class SJ{static needsMigration(){let e=null!==localStorage.getItem("socialMediaPosts"),t=null!==localStorage.getItem("campaigns"),r=null!==localStorage.getItem("social_media_credentials"),n="true"===localStorage.getItem("migration_completed");return(e||t||r)&&!n}static async migrateAllData(e,t){let r=[],n=0,i=0,a=0;try{let o=await this.migratePosts(e,t);n=o.count,o.errors.length>0&&r.push(...o.errors);let l=await this.migrateCampaigns(t);i=l.count,l.errors.length>0&&r.push(...l.errors);let s=await this.migrateCredentials(e,t);return a=s.count,s.errors.length>0&&r.push(...s.errors),localStorage.setItem("migration_completed","true"),{success:0===r.length,postsCount:n,campaignsCount:i,credentialsCount:a,errors:r}}catch(e){return console.error("Migration error:",e),r.push("Failed to complete migration: "+e.message),{success:!1,postsCount:n,campaignsCount:i,credentialsCount:a,errors:r}}}static async migratePosts(e,t){let r=[],n=0;try{let i=localStorage.getItem("socialMediaPosts");if(!i)return{count:0,errors:[]};for(let a of JSON.parse(i))try{if(await SG.getPostById(a.id,t)){console.log(`Post ${a.id} already exists, skipping`);continue}await SG.createPost(a,e,t),n++}catch(e){console.error(`Error migrating post ${a.id}:`,e),r.push(`Failed to migrate post "${a.topic}": ${e.message}`)}}catch(e){console.error("Error parsing posts from localStorage:",e),r.push("Failed to parse posts from localStorage")}return{count:n,errors:r}}static async migrateCampaigns(t){let r=[],n=0;try{let i=localStorage.getItem("campaigns");if(!i)return{count:0,errors:[]};for(let a of JSON.parse(i))try{if(await SB.getCampaignById(a.id,t)){console.log(`Campaign ${a.id} already exists, skipping`);continue}let{error:r}=await (await e.A(70673)).supabase.from("campaigns").insert({id:a.id,workspace_id:t,name:a.name,goal:a.description||null,color:a.color,start_date:a.startDate,end_date:a.endDate??null});if(r)throw r;n++}catch(e){console.error(`Error migrating campaign ${a.id}:`,e),r.push(`Failed to migrate campaign "${a.name}": ${e.message}`)}}catch(e){console.error("Error parsing campaigns from localStorage:",e),r.push("Failed to parse campaigns from localStorage")}return{count:n,errors:r}}static async migrateCredentials(e,t){let r=[],n=0;try{let i=localStorage.getItem("social_media_credentials");if(!i)return{count:0,errors:[]};let a=i.split("").reverse().join(""),o=atob(a),l=JSON.parse(o);for(let[i,a]of Object.entries(l))try{if(!a)continue;if(await SK.isPlatformConnected(i,t)){console.log(`Credentials for ${i} already exist, skipping`);continue}await SK.savePlatformCredentials(i,a,e,t),n++}catch(e){console.error(`Error migrating credentials for ${i}:`,e),r.push(`Failed to migrate ${i} credentials: ${e.message}`)}}catch(e){console.error("Error parsing credentials from localStorage:",e),r.push("Failed to parse credentials from localStorage")}return{count:n,errors:r}}static clearLocalStorageData(){try{localStorage.removeItem("socialMediaPosts"),localStorage.removeItem("campaigns"),localStorage.removeItem("social_media_credentials"),console.log("LocalStorage data cleared after migration")}catch(e){console.error("Error clearing localStorage:",e)}}static resetMigrationStatus(){localStorage.removeItem("migration_completed")}}function SY(){let{user:e,workspaceId:t}=(0,Sq.useAuth)(),[r,n]=(0,td.useState)(!1),[i,a]=(0,td.useState)(!1),[o,l]=(0,td.useState)(null),[s,c]=(0,td.useState)(!1);(0,td.useEffect)(()=>{n(SJ.needsMigration()),sessionStorage.getItem("migration_banner_dismissed")&&c(!0)},[]);let u=async()=>{if(e&&t){a(!0);try{let r=await SJ.migrateAllData(e.id,t);l(r),r.success&&(SJ.clearLocalStorageData(),n(!1),setTimeout(()=>{window.location.reload()},2e3))}catch(e){console.error("Migration failed:",e),l({success:!1,postsCount:0,campaignsCount:0,credentialsCount:0,errors:["Migration failed: "+e.message]})}finally{a(!1)}}},d=()=>{sessionStorage.setItem("migration_banner_dismissed","true"),c(!0)};return!r||s?null:(0,tu.jsx)("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 mb-4",children:(0,tu.jsxs)("div",{className:"flex items-start",children:[(0,tu.jsx)("div",{className:"flex-shrink-0",children:(0,tu.jsx)(EA,{className:"h-5 w-5 text-blue-500"})}),(0,tu.jsxs)("div",{className:"ml-3 flex-1",children:[(0,tu.jsx)("h3",{className:"text-sm font-medium text-blue-900",children:"Migrate your data to the cloud"}),(0,tu.jsx)("div",{className:"mt-2 text-sm text-blue-800",children:(0,tu.jsx)("p",{children:'We\'ve upgraded to a cloud database! Your existing data (posts, campaigns, credentials) is currently stored locally in your browser. Click "Migrate Now" to securely transfer it to the cloud database.'})}),o&&(0,tu.jsx)("div",{className:`mt-3 p-3 rounded ${o.success?"bg-green-100 border border-green-300":"bg-red-100 border border-red-300"}`,children:o.success?(0,tu.jsxs)("div",{className:"flex items-center text-green-800",children:[(0,tu.jsx)(nb,{className:"w-5 h-5 mr-2"}),(0,tu.jsxs)("div",{children:[(0,tu.jsx)("p",{className:"font-medium",children:"Migration successful!"}),(0,tu.jsxs)("p",{className:"text-sm",children:["Migrated ",o.postsCount," posts, ",o.campaignsCount," ","campaigns, and ",o.credentialsCount," platform credentials. Refreshing..."]})]})]}):(0,tu.jsxs)("div",{className:"text-red-800",children:[(0,tu.jsx)("p",{className:"font-medium",children:"Migration encountered errors:"}),(0,tu.jsx)("ul",{className:"text-sm list-disc list-inside mt-1",children:o.errors.map((e,t)=>(0,tu.jsx)("li",{children:e},t))}),(0,tu.jsxs)("p",{className:"text-sm mt-2",children:["Partial migration: ",o.postsCount," posts,"," ",o.campaignsCount," campaigns, ",o.credentialsCount," ","credentials"]})]})}),(0,tu.jsxs)("div",{className:"mt-4 flex space-x-3",children:[(0,tu.jsx)("button",{onClick:u,disabled:i,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:i?(0,tu.jsxs)(tu.Fragment,{children:[(0,tu.jsx)(nv,{className:"w-4 h-4 mr-2 animate-spin"}),"Migrating..."]}):"Migrate Now"}),(0,tu.jsx)("button",{onClick:()=>{localStorage.setItem("migration_completed","true"),n(!1),c(!0)},disabled:i,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:"Skip (Keep local data)"}),(0,tu.jsx)("button",{onClick:d,disabled:i,className:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 disabled:opacity-50",children:"Remind me later"})]})]}),(0,tu.jsx)("div",{className:"ml-auto pl-3",children:(0,tu.jsx)("button",{onClick:d,className:"inline-flex text-gray-400 hover:text-gray-500 focus:outline-none",children:(0,tu.jsx)(ir,{className:"h-5 w-5"})})})]})})}let SW=nh("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]),SX=nh("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),SZ=nh("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),SQ=()=>{let{addNotification:e}=SR(),{user:t,signOut:r,userRole:n,workspaceId:i}=(0,Sq.useAuth)(),[a,o]=(0,td.useState)("create"),[l,s]=(0,td.useState)([]),[c,u]=(0,td.useState)(!0),[d,p]=(0,td.useState)({twitter:!1,linkedin:!1,facebook:!1,instagram:!1});(0,td.useEffect)(()=>{t&&i&&(async()=>{try{u(!0);let e=await SG.getAllPosts(i);s(e);let t=await SK.getConnectionSummary(i);p(t)}catch(e){console.error("Error loading data from Supabase:",e);try{let e=localStorage.getItem("socialMediaPosts");e&&s(JSON.parse(e));let t=localStorage.getItem("connectedSocialAccounts");t&&p(JSON.parse(t))}catch(e){console.error("Could not load from localStorage either",e)}}finally{u(!1)}})()},[t,i]);let[f,h]=(0,td.useState)(!1),m=(0,td.useCallback)(async()=>{window.aistudio&&await window.aistudio.hasSelectedApiKey()?h(!0):h(!1)},[]);(0,td.useEffect)(()=>{m()},[m]);let g=(0,td.useCallback)(async()=>{window.aistudio&&(await window.aistudio.openSelectKey(),h(!0))},[]);(0,td.useEffect)(()=>{t&&i&&0!==l.length&&localStorage.setItem("socialMediaPosts",JSON.stringify(l))},[l,t,i]),(0,td.useEffect)(()=>{localStorage.setItem("connectedSocialAccounts",JSON.stringify(d))},[d]);let y=(0,td.useCallback)(()=>{s(e=>e.map(e=>"scheduled"===e.status&&e.scheduledAt&&new Date(e.scheduledAt)<=new Date?{...e,status:"published",publishedAt:new Date().toISOString()}:e))},[]),v=(0,td.useCallback)(async e=>{if(s(t=>t.map(t=>t.id===e.id?e:t)),t&&i)try{await SG.updatePost(e,t.id,i)}catch(e){console.error("Error updating post in Supabase:",e)}},[t,i]),b=(0,td.useCallback)(()=>{l.forEach(t=>{t.isGeneratingVideo&&t.videoOperation&&!t.videoOperation.done&&n_(t.videoOperation).then(async r=>{if(r.done){let n=r.response?.generatedVideos?.[0]?.video?.uri;if(n){let i=await nC(n);await nQ(i,"video",t.topic),e("video_complete","Video Generation Complete",`Video for "${t.topic}" is ready!`,t.id),v({...t,generatedVideoUrl:i,isGeneratingVideo:!1,videoGenerationStatus:"Completed!",videoOperation:r})}else v({...t,isGeneratingVideo:!1,videoGenerationStatus:"Failed: No URI.",videoOperation:r})}else v({...t,videoOperation:r})}).catch(e=>{console.error("Error polling video status:",e),"API_KEY_INVALID"===e.message&&h(!1),v({...t,isGeneratingVideo:!1,videoGenerationStatus:"Error polling status."})})})},[l,v,e]);(0,td.useEffect)(()=>{let e=setInterval(y,6e4),t=setInterval(b,15e3);return()=>{clearInterval(e),clearInterval(t)}},[y,b]);let x=async r=>{if(s(e=>[r,...e]),o("manage"),e("post_scheduled","New Post Created",`Post "${r.topic}" has been added to drafts.`,r.id),t&&i)try{await SG.createPost(r,t.id,i)}catch(t){console.error("Error saving post to Supabase:",t),e("error","Save Error","Failed to save post to database. It will be saved locally.")}},w=t=>{s(e=>[...t,...e]),o("manage"),e("post_scheduled","Posts Created",`${t.length} posts have been added to your drafts.`)},O=async e=>{if(s(t=>t.filter(t=>t.id!==e)),t&&i)try{await SG.deletePost(e,t.id,i)}catch(e){console.error("Error deleting post from Supabase:",e)}},E=({viewName:e,icon:t,label:r})=>(0,tu.jsxs)("button",{onClick:()=>o(e),className:`flex items-center w-full px-4 py-3 text-sm font-medium rounded-lg transition-colors duration-200 ${a===e?"bg-charcoal text-white shadow-md":"text-slate hover:bg-slate/10 hover:text-charcoal-dark"}`,children:[(0,tu.jsx)(t,{className:"w-5 h-5 mr-3"}),(0,tu.jsx)("span",{children:r})]});return(0,tu.jsxs)("div",{className:"flex h-screen bg-white text-charcoal font-sans",children:[(0,tu.jsxs)("aside",{className:"w-64 bg-light-gray p-4 flex flex-col justify-between border-r border-slate/30",children:[(0,tu.jsxs)("div",{children:[(0,tu.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,tu.jsx)("h1",{className:"text-xl font-bold text-charcoal-dark",children:"AI Content OS"}),(0,tu.jsx)(SL,{})]}),(0,tu.jsxs)("nav",{className:"space-y-2",children:[(0,tu.jsx)(E,{viewName:"create",icon:SW,label:"Create Content"}),(0,tu.jsx)(E,{viewName:"repurpose",icon:ie,label:"Repurpose"}),(0,tu.jsx)(E,{viewName:"manage",icon:ig,label:"Manage Posts"}),(0,tu.jsx)(E,{viewName:"history",icon:nw,label:"Published"}),(0,tu.jsx)("div",{className:"border-t border-slate/30 my-2"}),(0,tu.jsx)(E,{viewName:"campaigns",icon:EV,label:"Campaigns"}),(0,tu.jsx)(E,{viewName:"media",icon:n4,label:"Media Library"}),(0,tu.jsx)(E,{viewName:"analytics",icon:SX,label:"Analytics"}),(0,tu.jsx)(E,{viewName:"accounts",icon:Ex,label:"Accounts"})]})]}),(0,tu.jsxs)("div",{className:"space-y-2",children:[(0,tu.jsxs)("div",{className:"p-3 bg-white border border-slate/30 rounded-lg",children:[(0,tu.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,tu.jsx)("div",{className:"w-10 h-10 bg-charcoal rounded-full flex items-center justify-center",children:(0,tu.jsx)(ny,{className:"w-5 h-5 text-white"})}),(0,tu.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,tu.jsx)("p",{className:"text-sm font-semibold text-charcoal-dark truncate",children:t?.user_metadata?.full_name||t?.email?.split("@")[0]}),(0,tu.jsx)("p",{className:"text-xs text-slate truncate",children:t?.email})]})]}),n&&(0,tu.jsx)("div",{className:"inline-block px-2 py-1 bg-charcoal/10 rounded text-xs font-medium text-charcoal",children:n})]}),(0,tu.jsxs)("div",{className:"text-xs p-3 bg-white border border-slate/30 rounded-lg",children:[(0,tu.jsx)("p",{className:"font-semibold text-charcoal-dark",children:"Video API Key"}),(0,tu.jsx)("p",{className:`text-xs ${f?"text-green-600":"text-yellow-600"}`,children:f?"Ready":"Selection required"}),(0,tu.jsx)("a",{href:"https://ai.google.dev/gemini-api/docs/billing",target:"_blank",rel:"noopener noreferrer",className:"text-charcoal hover:underline text-xs mt-1 block",children:"Billing info"})]}),(0,tu.jsxs)("button",{onClick:g,className:"flex items-center w-full px-4 py-3 text-sm font-medium rounded-lg transition-colors duration-200 text-slate hover:bg-slate/10 hover:text-charcoal-dark",children:[(0,tu.jsx)(Ej,{className:"w-5 h-5 mr-3"}),(0,tu.jsx)("span",{children:"Change API Key"})]}),(0,tu.jsxs)("button",{onClick:()=>{confirm("Are you sure you want to sign out?")&&r()},className:"flex items-center w-full px-4 py-3 text-sm font-medium rounded-lg transition-colors duration-200 text-red-600 hover:bg-red-50",children:[(0,tu.jsx)(SZ,{className:"w-5 h-5 mr-3"}),(0,tu.jsx)("span",{children:"Sign Out"})]})]})]}),(0,tu.jsxs)("main",{className:"flex-1 overflow-y-auto p-8",children:[(0,tu.jsx)(SY,{}),c?(0,tu.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,tu.jsxs)("div",{className:"text-center",children:[(0,tu.jsx)("div",{className:"w-16 h-16 border-4 border-charcoal border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,tu.jsx)("p",{className:"text-slate",children:"Loading your content..."})]})}):(()=>{let e={posts:l,onUpdatePost:v,onDeletePost:O,isApiKeyReady:f,onSelectKey:g,resetApiKeyStatus:()=>h(!1),connectedAccounts:d};switch(a){case"create":return(0,tu.jsx)(nE,{onPostCreated:x});case"manage":return(0,tu.jsx)(iv,{...e});case"history":return(0,tu.jsx)(ES,{...e});case"analytics":return(0,tu.jsx)(Eb,{posts:l});case"accounts":return(0,tu.jsx)(EU,{connectedAccounts:d,onUpdateAccounts:p});case"media":return(0,tu.jsx)(EF,{});case"campaigns":return(0,tu.jsx)(E$,{posts:l});case"repurpose":return(0,tu.jsx)(EK,{onPostsCreated:w});default:return null}})()]})]})},S0=()=>(0,tu.jsx)(SU,{children:(0,tu.jsx)(SQ,{})});function S1(){let[e,t]=(0,td.useState)(!0),[r,n]=(0,td.useState)(""),[i,a]=(0,td.useState)(""),[o,l]=(0,td.useState)(""),[s,c]=(0,td.useState)(!1),[u,d]=(0,td.useState)(null),{signIn:p,signUp:f}=(0,Sq.useAuth)(),h=async s=>{s.preventDefault(),d(null),c(!0);try{if(e){let{error:e}=await p(r,i);e&&d(e.message)}else{if(!o.trim()){d("Please enter your full name"),c(!1);return}let{error:e}=await f(r,i,o);e?d(e.message):(d(null),t(!0),n(""),a(""),l(""),alert("Account created successfully! Please sign in."))}}catch(e){d("An unexpected error occurred"),console.error(e)}finally{c(!1)}};return(0,tu.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100",children:(0,tu.jsxs)("div",{className:"w-full max-w-md",children:[(0,tu.jsxs)("div",{className:"text-center mb-8",children:[(0,tu.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,tu.jsx)("div",{className:"bg-charcoal p-3 rounded-xl",children:(0,tu.jsx)(ie,{className:"w-8 h-8 text-white"})})}),(0,tu.jsx)("h1",{className:"text-3xl font-bold text-charcoal-dark",children:"AI Content OS"}),(0,tu.jsx)("p",{className:"text-slate mt-2",children:"AI-powered social media management platform"})]}),(0,tu.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[(0,tu.jsxs)("div",{className:"mb-6",children:[(0,tu.jsx)("h2",{className:"text-2xl font-bold text-charcoal-dark",children:e?"Welcome back":"Create an account"}),(0,tu.jsx)("p",{className:"text-slate text-sm mt-1",children:e?"Sign in to continue to your workspace":"Get started with your free account"})]}),u&&(0,tu.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,tu.jsx)("p",{className:"text-red-700 text-sm",children:u})}),(0,tu.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[!e&&(0,tu.jsxs)("div",{children:[(0,tu.jsx)("label",{htmlFor:"fullName",className:"block text-sm font-medium text-charcoal-dark mb-2",children:"Full Name"}),(0,tu.jsx)("input",{id:"fullName",type:"text",value:o,onChange:e=>l(e.target.value),placeholder:"John Doe",className:"w-full px-4 py-3 border border-slate/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-charcoal focus:border-transparent",required:!e,disabled:s})]}),(0,tu.jsxs)("div",{children:[(0,tu.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-charcoal-dark mb-2",children:"Email"}),(0,tu.jsx)("input",{id:"email",type:"email",value:r,onChange:e=>n(e.target.value),placeholder:"you@example.com",className:"w-full px-4 py-3 border border-slate/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-charcoal focus:border-transparent",required:!0,disabled:s})]}),(0,tu.jsxs)("div",{children:[(0,tu.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-charcoal-dark mb-2",children:"Password"}),(0,tu.jsx)("input",{id:"password",type:"password",value:i,onChange:e=>a(e.target.value),placeholder:"",className:"w-full px-4 py-3 border border-slate/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-charcoal focus:border-transparent",required:!0,minLength:6,disabled:s}),!e&&(0,tu.jsx)("p",{className:"text-xs text-slate mt-1",children:"Must be at least 6 characters"})]}),(0,tu.jsx)("button",{type:"submit",disabled:s,className:"w-full bg-charcoal text-white py-3 px-4 rounded-lg font-medium hover:bg-charcoal-dark transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:s?(0,tu.jsxs)(tu.Fragment,{children:[(0,tu.jsx)(nv,{className:"w-5 h-5 mr-2 animate-spin"}),e?"Signing in...":"Creating account..."]}):(0,tu.jsx)(tu.Fragment,{children:e?"Sign in":"Create account"})})]}),(0,tu.jsx)("div",{className:"mt-6 text-center",children:(0,tu.jsx)("button",{onClick:()=>{t(!e),d(null)},disabled:s,className:"text-sm text-charcoal hover:text-charcoal-dark font-medium disabled:opacity-50",children:e?"Don't have an account? Sign up":"Already have an account? Sign in"})})]}),(0,tu.jsx)("p",{className:"text-center text-xs text-slate mt-8",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})]})})}function S2({children:e}){let{user:t,loading:r}=(0,Sq.useAuth)();return r?(0,tu.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100",children:(0,tu.jsxs)("div",{className:"text-center",children:[(0,tu.jsx)(nv,{className:"w-12 h-12 text-charcoal animate-spin mx-auto mb-4"}),(0,tu.jsx)("p",{className:"text-slate",children:"Loading..."})]})}):t?(0,tu.jsx)(tu.Fragment,{children:e}):(0,tu.jsx)(S1,{})}function S3(){return(0,tu.jsx)(S2,{children:(0,tu.jsx)(S0,{})})}e.s(["default",()=>S3],45500)}]);